function VT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var HT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ny(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Py={exports:{}},Xc={},Ay={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ia=Symbol.for("react.element"),GT=Symbol.for("react.portal"),KT=Symbol.for("react.fragment"),qT=Symbol.for("react.strict_mode"),QT=Symbol.for("react.profiler"),YT=Symbol.for("react.provider"),XT=Symbol.for("react.context"),JT=Symbol.for("react.forward_ref"),ZT=Symbol.for("react.suspense"),e1=Symbol.for("react.memo"),t1=Symbol.for("react.lazy"),e_=Symbol.iterator;function n1(t){return t===null||typeof t!="object"?null:(t=e_&&t[e_]||t["@@iterator"],typeof t=="function"?t:null)}var Ry={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oy=Object.assign,Dy={};function Gs(t,e,n){this.props=t,this.context=e,this.refs=Dy,this.updater=n||Ry}Gs.prototype.isReactComponent={};Gs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ly(){}Ly.prototype=Gs.prototype;function bf(t,e,n){this.props=t,this.context=e,this.refs=Dy,this.updater=n||Ry}var Nf=bf.prototype=new Ly;Nf.constructor=bf;Oy(Nf,Gs.prototype);Nf.isPureReactComponent=!0;var t_=Array.isArray,My=Object.prototype.hasOwnProperty,Pf={current:null},jy={key:!0,ref:!0,__self:!0,__source:!0};function Fy(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)My.call(e,r)&&!jy.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ia,type:t,key:s,ref:o,props:i,_owner:Pf.current}}function r1(t,e){return{$$typeof:Ia,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Af(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ia}function i1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n_=/\/+/g;function _d(t,e){return typeof t=="object"&&t!==null&&t.key!=null?i1(""+t.key):e.toString(36)}function Ol(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ia:case GT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+_d(o,0):r,t_(i)?(n="",t!=null&&(n=t.replace(n_,"$&/")+"/"),Ol(i,e,n,"",function(u){return u})):i!=null&&(Af(i)&&(i=r1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(n_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",t_(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+_d(s,l);o+=Ol(s,e,n,c,i)}else if(c=n1(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+_d(s,l++),o+=Ol(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fl(t,e,n){if(t==null)return t;var r=[],i=0;return Ol(t,r,"","",function(s){return e.call(n,s,i++)}),r}function s1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},Dl={transition:null},o1={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:Dl,ReactCurrentOwner:Pf};se.Children={map:fl,forEach:function(t,e,n){fl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fl(t,function(){e++}),e},toArray:function(t){return fl(t,function(e){return e})||[]},only:function(t){if(!Af(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Gs;se.Fragment=KT;se.Profiler=QT;se.PureComponent=bf;se.StrictMode=qT;se.Suspense=ZT;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o1;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Oy({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Pf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)My.call(e,c)&&!jy.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ia,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:XT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YT,_context:t},t.Consumer=t};se.createElement=Fy;se.createFactory=function(t){var e=Fy.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:JT,render:t}};se.isValidElement=Af;se.lazy=function(t){return{$$typeof:t1,_payload:{_status:-1,_result:t},_init:s1}};se.memo=function(t,e){return{$$typeof:e1,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Dl.transition;Dl.transition={};try{t()}finally{Dl.transition=e}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(t,e){return Ct.current.useCallback(t,e)};se.useContext=function(t){return Ct.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};se.useEffect=function(t,e){return Ct.current.useEffect(t,e)};se.useId=function(){return Ct.current.useId()};se.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Ct.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};se.useRef=function(t){return Ct.current.useRef(t)};se.useState=function(t){return Ct.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Ct.current.useTransition()};se.version="18.2.0";Ay.exports=se;var T=Ay.exports;const a1=Ny(T),l1=VT({__proto__:null,default:a1},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1=T,u1=Symbol.for("react.element"),d1=Symbol.for("react.fragment"),h1=Object.prototype.hasOwnProperty,f1=c1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p1={key:!0,ref:!0,__self:!0,__source:!0};function Uy(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)h1.call(e,r)&&!p1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:u1,type:t,key:s,ref:o,props:i,_owner:f1.current}}Xc.Fragment=d1;Xc.jsx=Uy;Xc.jsxs=Uy;Py.exports=Xc;var m=Py.exports,ih={},By={exports:{}},Ft={},$y={exports:{}},Wy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,Y){var x=F.length;F.push(Y);e:for(;0<x;){var Ie=x-1>>>1,Fe=F[Ie];if(0<i(Fe,Y))F[Ie]=Y,F[x]=Fe,x=Ie;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var Y=F[0],x=F.pop();if(x!==Y){F[0]=x;e:for(var Ie=0,Fe=F.length,ir=Fe>>>1;Ie<ir;){var Ze=2*(Ie+1)-1,An=F[Ze],We=Ze+1,sr=F[We];if(0>i(An,x))We<Fe&&0>i(sr,An)?(F[Ie]=sr,F[We]=x,Ie=We):(F[Ie]=An,F[Ze]=x,Ie=Ze);else if(We<Fe&&0>i(sr,x))F[Ie]=sr,F[We]=x,Ie=We;else break e}}return Y}function i(F,Y){var x=F.sortIndex-Y.sortIndex;return x!==0?x:F.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],p=1,f=null,_=3,E=!1,S=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=F)r(u),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(u)}}function N(F){if(I=!1,w(F),!S)if(n(c)!==null)S=!0,Ui(L);else{var Y=n(u);Y!==null&&Jr(N,Y.startTime-F)}}function L(F,Y){S=!1,I&&(I=!1,y(z),z=-1),E=!0;var x=_;try{for(w(Y),f=n(c);f!==null&&(!(f.expirationTime>Y)||F&&!ft());){var Ie=f.callback;if(typeof Ie=="function"){f.callback=null,_=f.priorityLevel;var Fe=Ie(f.expirationTime<=Y);Y=t.unstable_now(),typeof Fe=="function"?f.callback=Fe:f===n(c)&&r(c),w(Y)}else r(c);f=n(c)}if(f!==null)var ir=!0;else{var Ze=n(u);Ze!==null&&Jr(N,Ze.startTime-Y),ir=!1}return ir}finally{f=null,_=x,E=!1}}var j=!1,$=null,z=-1,fe=5,Q=-1;function ft(){return!(t.unstable_now()-Q<fe)}function nr(){if($!==null){var F=t.unstable_now();Q=F;var Y=!0;try{Y=$(!0,F)}finally{Y?rr():(j=!1,$=null)}}else j=!1}var rr;if(typeof v=="function")rr=function(){v(nr)};else if(typeof MessageChannel<"u"){var oo=new MessageChannel,Ha=oo.port2;oo.port1.onmessage=nr,rr=function(){Ha.postMessage(null)}}else rr=function(){P(nr,0)};function Ui(F){$=F,j||(j=!0,rr())}function Jr(F,Y){z=P(function(){F(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){S||E||(S=!0,Ui(L))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var x=_;_=Y;try{return F()}finally{_=x}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var x=_;_=F;try{return Y()}finally{_=x}},t.unstable_scheduleCallback=function(F,Y,x){var Ie=t.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?Ie+x:Ie):x=Ie,F){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=x+Fe,F={id:p++,callback:Y,priorityLevel:F,startTime:x,expirationTime:Fe,sortIndex:-1},x>Ie?(F.sortIndex=x,e(u,F),n(c)===null&&F===n(u)&&(I?(y(z),z=-1):I=!0,Jr(N,x-Ie))):(F.sortIndex=Fe,e(c,F),S||E||(S=!0,Ui(L))),F},t.unstable_shouldYield=ft,t.unstable_wrapCallback=function(F){var Y=_;return function(){var x=_;_=Y;try{return F.apply(this,arguments)}finally{_=x}}}})(Wy);$y.exports=Wy;var m1=$y.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy=T,jt=m1;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vy=new Set,Yo={};function Di(t,e){Ps(t,e),Ps(t+"Capture",e)}function Ps(t,e){for(Yo[t]=e,t=0;t<e.length;t++)Vy.add(e[t])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sh=Object.prototype.hasOwnProperty,g1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r_={},i_={};function _1(t){return sh.call(i_,t)?!0:sh.call(r_,t)?!1:g1.test(t)?i_[t]=!0:(r_[t]=!0,!1)}function v1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function y1(t,e,n,r){if(e===null||typeof e>"u"||v1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function St(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new St(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new St(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new St(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new St(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new St(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new St(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new St(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new St(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new St(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rf=/[\-:]([a-z])/g;function Of(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rf,Of);it[e]=new St(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rf,Of);it[e]=new St(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rf,Of);it[e]=new St(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new St(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new St(t,1,!1,t.toLowerCase(),null,!0,!0)});function Df(t,e,n,r){var i=it.hasOwnProperty(e)?it[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(y1(e,n,i,r)&&(n=null),r||i===null?_1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jn=zy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pl=Symbol.for("react.element"),is=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),Lf=Symbol.for("react.strict_mode"),oh=Symbol.for("react.profiler"),Hy=Symbol.for("react.provider"),Gy=Symbol.for("react.context"),Mf=Symbol.for("react.forward_ref"),ah=Symbol.for("react.suspense"),lh=Symbol.for("react.suspense_list"),jf=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),Ky=Symbol.for("react.offscreen"),s_=Symbol.iterator;function vo(t){return t===null||typeof t!="object"?null:(t=s_&&t[s_]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,vd;function Po(t){if(vd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vd=e&&e[1]||""}return`
`+vd+t}var yd=!1;function wd(t,e){if(!t||yd)return"";yd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{yd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Po(t):""}function w1(t){switch(t.tag){case 5:return Po(t.type);case 16:return Po("Lazy");case 13:return Po("Suspense");case 19:return Po("SuspenseList");case 0:case 2:case 15:return t=wd(t.type,!1),t;case 11:return t=wd(t.type.render,!1),t;case 1:return t=wd(t.type,!0),t;default:return""}}function ch(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ss:return"Fragment";case is:return"Portal";case oh:return"Profiler";case Lf:return"StrictMode";case ah:return"Suspense";case lh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gy:return(t.displayName||"Context")+".Consumer";case Hy:return(t._context.displayName||"Context")+".Provider";case Mf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jf:return e=t.displayName||null,e!==null?e:ch(t.type)||"Memo";case hr:e=t._payload,t=t._init;try{return ch(t(e))}catch{}}return null}function E1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ch(e);case 8:return e===Lf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ur(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function C1(t){var e=qy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ml(t){t._valueTracker||(t._valueTracker=C1(t))}function Qy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ql(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uh(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function o_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ur(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yy(t,e){e=e.checked,e!=null&&Df(t,"checked",e,!1)}function dh(t,e){Yy(t,e);var n=Ur(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hh(t,e.type,n):e.hasOwnProperty("defaultValue")&&hh(t,e.type,Ur(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hh(t,e,n){(e!=="number"||Ql(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ao=Array.isArray;function ys(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ur(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(Ao(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ur(n)}}function Xy(t,e){var n=Ur(e.value),r=Ur(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function c_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Jy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ph(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Jy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gl,Zy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gl=gl||document.createElement("div"),gl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S1=["Webkit","ms","Moz","O"];Object.keys(Mo).forEach(function(t){S1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mo[e]=Mo[t]})});function ew(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mo.hasOwnProperty(t)&&Mo[t]?(""+e).trim():e+"px"}function tw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ew(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var k1=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mh(t,e){if(e){if(k1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function gh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=null;function Ff(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vh=null,ws=null,Es=null;function u_(t){if(t=Na(t)){if(typeof vh!="function")throw Error(R(280));var e=t.stateNode;e&&(e=nu(e),vh(t.stateNode,t.type,e))}}function nw(t){ws?Es?Es.push(t):Es=[t]:ws=t}function rw(){if(ws){var t=ws,e=Es;if(Es=ws=null,u_(t),e)for(t=0;t<e.length;t++)u_(e[t])}}function iw(t,e){return t(e)}function sw(){}var Ed=!1;function ow(t,e,n){if(Ed)return t(e,n);Ed=!0;try{return iw(t,e,n)}finally{Ed=!1,(ws!==null||Es!==null)&&(sw(),rw())}}function Jo(t,e){var n=t.stateNode;if(n===null)return null;var r=nu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var yh=!1;if(Gn)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){yh=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{yh=!1}function T1(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(p){this.onError(p)}}var jo=!1,Yl=null,Xl=!1,wh=null,I1={onError:function(t){jo=!0,Yl=t}};function x1(t,e,n,r,i,s,o,l,c){jo=!1,Yl=null,T1.apply(I1,arguments)}function b1(t,e,n,r,i,s,o,l,c){if(x1.apply(this,arguments),jo){if(jo){var u=Yl;jo=!1,Yl=null}else throw Error(R(198));Xl||(Xl=!0,wh=u)}}function Li(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d_(t){if(Li(t)!==t)throw Error(R(188))}function N1(t){var e=t.alternate;if(!e){if(e=Li(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return d_(i),t;if(s===r)return d_(i),e;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function lw(t){return t=N1(t),t!==null?cw(t):null}function cw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cw(t);if(e!==null)return e;t=t.sibling}return null}var uw=jt.unstable_scheduleCallback,h_=jt.unstable_cancelCallback,P1=jt.unstable_shouldYield,A1=jt.unstable_requestPaint,Be=jt.unstable_now,R1=jt.unstable_getCurrentPriorityLevel,Uf=jt.unstable_ImmediatePriority,dw=jt.unstable_UserBlockingPriority,Jl=jt.unstable_NormalPriority,O1=jt.unstable_LowPriority,hw=jt.unstable_IdlePriority,Jc=null,kn=null;function D1(t){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Jc,t,void 0,(t.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:j1,L1=Math.log,M1=Math.LN2;function j1(t){return t>>>=0,t===0?32:31-(L1(t)/M1|0)|0}var _l=64,vl=4194304;function Ro(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ro(l):(s&=o,s!==0&&(r=Ro(s)))}else o=n&~i,o!==0?r=Ro(o):s!==0&&(r=Ro(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-un(e),i=1<<n,r|=t[n],e&=~i;return r}function F1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-un(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=F1(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Eh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fw(){var t=_l;return _l<<=1,!(_l&4194240)&&(_l=64),t}function Cd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-un(e),t[e]=n}function B1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-un(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Bf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ge=0;function pw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mw,$f,gw,_w,vw,Ch=!1,yl=[],Tr=null,Ir=null,xr=null,Zo=new Map,ea=new Map,mr=[],$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f_(t,e){switch(t){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Zo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ea.delete(e.pointerId)}}function wo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Na(e),e!==null&&$f(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function W1(t,e,n,r,i){switch(e){case"focusin":return Tr=wo(Tr,t,e,n,r,i),!0;case"dragenter":return Ir=wo(Ir,t,e,n,r,i),!0;case"mouseover":return xr=wo(xr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zo.set(s,wo(Zo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ea.set(s,wo(ea.get(s)||null,t,e,n,r,i)),!0}return!1}function yw(t){var e=pi(t.target);if(e!==null){var n=Li(e);if(n!==null){if(e=n.tag,e===13){if(e=aw(n),e!==null){t.blockedOn=e,vw(t.priority,function(){gw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ll(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_h=r,n.target.dispatchEvent(r),_h=null}else return e=Na(n),e!==null&&$f(e),t.blockedOn=n,!1;e.shift()}return!0}function p_(t,e,n){Ll(t)&&n.delete(e)}function z1(){Ch=!1,Tr!==null&&Ll(Tr)&&(Tr=null),Ir!==null&&Ll(Ir)&&(Ir=null),xr!==null&&Ll(xr)&&(xr=null),Zo.forEach(p_),ea.forEach(p_)}function Eo(t,e){t.blockedOn===e&&(t.blockedOn=null,Ch||(Ch=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,z1)))}function ta(t){function e(i){return Eo(i,t)}if(0<yl.length){Eo(yl[0],t);for(var n=1;n<yl.length;n++){var r=yl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Tr!==null&&Eo(Tr,t),Ir!==null&&Eo(Ir,t),xr!==null&&Eo(xr,t),Zo.forEach(e),ea.forEach(e),n=0;n<mr.length;n++)r=mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)yw(n),n.blockedOn===null&&mr.shift()}var Cs=Jn.ReactCurrentBatchConfig,ec=!0;function V1(t,e,n,r){var i=ge,s=Cs.transition;Cs.transition=null;try{ge=1,Wf(t,e,n,r)}finally{ge=i,Cs.transition=s}}function H1(t,e,n,r){var i=ge,s=Cs.transition;Cs.transition=null;try{ge=4,Wf(t,e,n,r)}finally{ge=i,Cs.transition=s}}function Wf(t,e,n,r){if(ec){var i=Sh(t,e,n,r);if(i===null)Rd(t,e,r,tc,n),f_(t,r);else if(W1(i,t,e,n,r))r.stopPropagation();else if(f_(t,r),e&4&&-1<$1.indexOf(t)){for(;i!==null;){var s=Na(i);if(s!==null&&mw(s),s=Sh(t,e,n,r),s===null&&Rd(t,e,r,tc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Rd(t,e,r,null,n)}}var tc=null;function Sh(t,e,n,r){if(tc=null,t=Ff(r),t=pi(t),t!==null)if(e=Li(t),e===null)t=null;else if(n=e.tag,n===13){if(t=aw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tc=t,null}function ww(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R1()){case Uf:return 1;case dw:return 4;case Jl:case O1:return 16;case hw:return 536870912;default:return 16}default:return 16}}var Er=null,zf=null,Ml=null;function Ew(){if(Ml)return Ml;var t,e=zf,n=e.length,r,i="value"in Er?Er.value:Er.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ml=i.slice(t,1<r?1-r:void 0)}function jl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wl(){return!0}function m_(){return!1}function Ut(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wl:m_,this.isPropagationStopped=m_,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),e}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vf=Ut(Ks),ba=De({},Ks,{view:0,detail:0}),G1=Ut(ba),Sd,kd,Co,Zc=De({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Co&&(Co&&t.type==="mousemove"?(Sd=t.screenX-Co.screenX,kd=t.screenY-Co.screenY):kd=Sd=0,Co=t),Sd)},movementY:function(t){return"movementY"in t?t.movementY:kd}}),g_=Ut(Zc),K1=De({},Zc,{dataTransfer:0}),q1=Ut(K1),Q1=De({},ba,{relatedTarget:0}),Td=Ut(Q1),Y1=De({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),X1=Ut(Y1),J1=De({},Ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z1=Ut(J1),eI=De({},Ks,{data:0}),__=Ut(eI),tI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rI[t])?!!e[t]:!1}function Hf(){return iI}var sI=De({},ba,{key:function(t){if(t.key){var e=tI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hf,charCode:function(t){return t.type==="keypress"?jl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oI=Ut(sI),aI=De({},Zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v_=Ut(aI),lI=De({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hf}),cI=Ut(lI),uI=De({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),dI=Ut(uI),hI=De({},Zc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fI=Ut(hI),pI=[9,13,27,32],Gf=Gn&&"CompositionEvent"in window,Fo=null;Gn&&"documentMode"in document&&(Fo=document.documentMode);var mI=Gn&&"TextEvent"in window&&!Fo,Cw=Gn&&(!Gf||Fo&&8<Fo&&11>=Fo),y_=" ",w_=!1;function Sw(t,e){switch(t){case"keyup":return pI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var os=!1;function gI(t,e){switch(t){case"compositionend":return kw(e);case"keypress":return e.which!==32?null:(w_=!0,y_);case"textInput":return t=e.data,t===y_&&w_?null:t;default:return null}}function _I(t,e){if(os)return t==="compositionend"||!Gf&&Sw(t,e)?(t=Ew(),Ml=zf=Er=null,os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cw&&e.locale!=="ko"?null:e.data;default:return null}}var vI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vI[t.type]:e==="textarea"}function Tw(t,e,n,r){nw(r),e=nc(e,"onChange"),0<e.length&&(n=new Vf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Uo=null,na=null;function yI(t){Mw(t,0)}function eu(t){var e=cs(t);if(Qy(e))return t}function wI(t,e){if(t==="change")return e}var Iw=!1;if(Gn){var Id;if(Gn){var xd="oninput"in document;if(!xd){var C_=document.createElement("div");C_.setAttribute("oninput","return;"),xd=typeof C_.oninput=="function"}Id=xd}else Id=!1;Iw=Id&&(!document.documentMode||9<document.documentMode)}function S_(){Uo&&(Uo.detachEvent("onpropertychange",xw),na=Uo=null)}function xw(t){if(t.propertyName==="value"&&eu(na)){var e=[];Tw(e,na,t,Ff(t)),ow(yI,e)}}function EI(t,e,n){t==="focusin"?(S_(),Uo=e,na=n,Uo.attachEvent("onpropertychange",xw)):t==="focusout"&&S_()}function CI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(na)}function SI(t,e){if(t==="click")return eu(e)}function kI(t,e){if(t==="input"||t==="change")return eu(e)}function TI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:TI;function ra(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sh.call(e,i)||!fn(t[i],e[i]))return!1}return!0}function k_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function T_(t,e){var n=k_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=k_(n)}}function bw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Nw(){for(var t=window,e=Ql();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ql(t.document)}return e}function Kf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function II(t){var e=Nw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bw(n.ownerDocument.documentElement,n)){if(r!==null&&Kf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=T_(n,s);var o=T_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xI=Gn&&"documentMode"in document&&11>=document.documentMode,as=null,kh=null,Bo=null,Th=!1;function I_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Th||as==null||as!==Ql(r)||(r=as,"selectionStart"in r&&Kf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bo&&ra(Bo,r)||(Bo=r,r=nc(kh,"onSelect"),0<r.length&&(e=new Vf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=as)))}function El(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ls={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},bd={},Pw={};Gn&&(Pw=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function tu(t){if(bd[t])return bd[t];if(!ls[t])return t;var e=ls[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Pw)return bd[t]=e[n];return t}var Aw=tu("animationend"),Rw=tu("animationiteration"),Ow=tu("animationstart"),Dw=tu("transitionend"),Lw=new Map,x_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(t,e){Lw.set(t,e),Di(e,[t])}for(var Nd=0;Nd<x_.length;Nd++){var Pd=x_[Nd],bI=Pd.toLowerCase(),NI=Pd[0].toUpperCase()+Pd.slice(1);Hr(bI,"on"+NI)}Hr(Aw,"onAnimationEnd");Hr(Rw,"onAnimationIteration");Hr(Ow,"onAnimationStart");Hr("dblclick","onDoubleClick");Hr("focusin","onFocus");Hr("focusout","onBlur");Hr(Dw,"onTransitionEnd");Ps("onMouseEnter",["mouseout","mouseover"]);Ps("onMouseLeave",["mouseout","mouseover"]);Ps("onPointerEnter",["pointerout","pointerover"]);Ps("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oo));function b_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,b1(r,e,void 0,t),t.currentTarget=null}function Mw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;b_(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;b_(i,l,u),s=c}}}if(Xl)throw t=wh,Xl=!1,wh=null,t}function xe(t,e){var n=e[Ph];n===void 0&&(n=e[Ph]=new Set);var r=t+"__bubble";n.has(r)||(jw(e,t,2,!1),n.add(r))}function Ad(t,e,n){var r=0;e&&(r|=4),jw(n,t,r,e)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function ia(t){if(!t[Cl]){t[Cl]=!0,Vy.forEach(function(n){n!=="selectionchange"&&(PI.has(n)||Ad(n,!1,t),Ad(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cl]||(e[Cl]=!0,Ad("selectionchange",!1,e))}}function jw(t,e,n,r){switch(ww(e)){case 1:var i=V1;break;case 4:i=H1;break;default:i=Wf}n=i.bind(null,e,n,t),i=void 0,!yh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=pi(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}ow(function(){var u=s,p=Ff(n),f=[];e:{var _=Lw.get(t);if(_!==void 0){var E=Vf,S=t;switch(t){case"keypress":if(jl(n)===0)break e;case"keydown":case"keyup":E=oI;break;case"focusin":S="focus",E=Td;break;case"focusout":S="blur",E=Td;break;case"beforeblur":case"afterblur":E=Td;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=g_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=q1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=cI;break;case Aw:case Rw:case Ow:E=X1;break;case Dw:E=dI;break;case"scroll":E=G1;break;case"wheel":E=fI;break;case"copy":case"cut":case"paste":E=Z1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=v_}var I=(e&4)!==0,P=!I&&t==="scroll",y=I?_!==null?_+"Capture":null:_;I=[];for(var v=u,w;v!==null;){w=v;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,y!==null&&(N=Jo(v,y),N!=null&&I.push(sa(v,N,w)))),P)break;v=v.return}0<I.length&&(_=new E(_,S,null,n,p),f.push({event:_,listeners:I}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",_&&n!==_h&&(S=n.relatedTarget||n.fromElement)&&(pi(S)||S[Kn]))break e;if((E||_)&&(_=p.window===p?p:(_=p.ownerDocument)?_.defaultView||_.parentWindow:window,E?(S=n.relatedTarget||n.toElement,E=u,S=S?pi(S):null,S!==null&&(P=Li(S),S!==P||S.tag!==5&&S.tag!==6)&&(S=null)):(E=null,S=u),E!==S)){if(I=g_,N="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(I=v_,N="onPointerLeave",y="onPointerEnter",v="pointer"),P=E==null?_:cs(E),w=S==null?_:cs(S),_=new I(N,v+"leave",E,n,p),_.target=P,_.relatedTarget=w,N=null,pi(p)===u&&(I=new I(y,v+"enter",S,n,p),I.target=w,I.relatedTarget=P,N=I),P=N,E&&S)t:{for(I=E,y=S,v=0,w=I;w;w=ns(w))v++;for(w=0,N=y;N;N=ns(N))w++;for(;0<v-w;)I=ns(I),v--;for(;0<w-v;)y=ns(y),w--;for(;v--;){if(I===y||y!==null&&I===y.alternate)break t;I=ns(I),y=ns(y)}I=null}else I=null;E!==null&&N_(f,_,E,I,!1),S!==null&&P!==null&&N_(f,P,S,I,!0)}}e:{if(_=u?cs(u):window,E=_.nodeName&&_.nodeName.toLowerCase(),E==="select"||E==="input"&&_.type==="file")var L=wI;else if(E_(_))if(Iw)L=kI;else{L=CI;var j=EI}else(E=_.nodeName)&&E.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(L=SI);if(L&&(L=L(t,u))){Tw(f,L,n,p);break e}j&&j(t,_,u),t==="focusout"&&(j=_._wrapperState)&&j.controlled&&_.type==="number"&&hh(_,"number",_.value)}switch(j=u?cs(u):window,t){case"focusin":(E_(j)||j.contentEditable==="true")&&(as=j,kh=u,Bo=null);break;case"focusout":Bo=kh=as=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,I_(f,n,p);break;case"selectionchange":if(xI)break;case"keydown":case"keyup":I_(f,n,p)}var $;if(Gf)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else os?Sw(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(Cw&&n.locale!=="ko"&&(os||z!=="onCompositionStart"?z==="onCompositionEnd"&&os&&($=Ew()):(Er=p,zf="value"in Er?Er.value:Er.textContent,os=!0)),j=nc(u,z),0<j.length&&(z=new __(z,t,null,n,p),f.push({event:z,listeners:j}),$?z.data=$:($=kw(n),$!==null&&(z.data=$)))),($=mI?gI(t,n):_I(t,n))&&(u=nc(u,"onBeforeInput"),0<u.length&&(p=new __("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:u}),p.data=$))}Mw(f,e)})}function sa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Jo(t,n),s!=null&&r.unshift(sa(t,s,i)),s=Jo(t,e),s!=null&&r.push(sa(t,s,i))),t=t.return}return r}function ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function N_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Jo(n,s),c!=null&&o.unshift(sa(n,c,l))):i||(c=Jo(n,s),c!=null&&o.push(sa(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var AI=/\r\n?/g,RI=/\u0000|\uFFFD/g;function P_(t){return(typeof t=="string"?t:""+t).replace(AI,`
`).replace(RI,"")}function Sl(t,e,n){if(e=P_(e),P_(t)!==e&&n)throw Error(R(425))}function rc(){}var Ih=null,xh=null;function bh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nh=typeof setTimeout=="function"?setTimeout:void 0,OI=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,DI=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(LI)}:Nh;function LI(t){setTimeout(function(){throw t})}function Od(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ta(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ta(e)}function br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function R_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Cn="__reactFiber$"+qs,oa="__reactProps$"+qs,Kn="__reactContainer$"+qs,Ph="__reactEvents$"+qs,MI="__reactListeners$"+qs,jI="__reactHandles$"+qs;function pi(t){var e=t[Cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kn]||n[Cn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=R_(t);t!==null;){if(n=t[Cn])return n;t=R_(t)}return e}t=n,n=t.parentNode}return null}function Na(t){return t=t[Cn]||t[Kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function nu(t){return t[oa]||null}var Ah=[],us=-1;function Gr(t){return{current:t}}function be(t){0>us||(t.current=Ah[us],Ah[us]=null,us--)}function Te(t,e){us++,Ah[us]=t.current,t.current=e}var Br={},dt=Gr(Br),xt=Gr(!1),Ci=Br;function As(t,e){var n=t.type.contextTypes;if(!n)return Br;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bt(t){return t=t.childContextTypes,t!=null}function ic(){be(xt),be(dt)}function O_(t,e,n){if(dt.current!==Br)throw Error(R(168));Te(dt,e),Te(xt,n)}function Fw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(R(108,E1(t)||"Unknown",i));return De({},n,r)}function sc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Br,Ci=dt.current,Te(dt,t),Te(xt,xt.current),!0}function D_(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=Fw(t,e,Ci),r.__reactInternalMemoizedMergedChildContext=t,be(xt),be(dt),Te(dt,t)):be(xt),Te(xt,n)}var Mn=null,ru=!1,Dd=!1;function Uw(t){Mn===null?Mn=[t]:Mn.push(t)}function FI(t){ru=!0,Uw(t)}function Kr(){if(!Dd&&Mn!==null){Dd=!0;var t=0,e=ge;try{var n=Mn;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mn=null,ru=!1}catch(i){throw Mn!==null&&(Mn=Mn.slice(t+1)),uw(Uf,Kr),i}finally{ge=e,Dd=!1}}return null}var ds=[],hs=0,oc=null,ac=0,Gt=[],Kt=0,Si=null,jn=1,Fn="";function ui(t,e){ds[hs++]=ac,ds[hs++]=oc,oc=t,ac=e}function Bw(t,e,n){Gt[Kt++]=jn,Gt[Kt++]=Fn,Gt[Kt++]=Si,Si=t;var r=jn;t=Fn;var i=32-un(r)-1;r&=~(1<<i),n+=1;var s=32-un(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,jn=1<<32-un(e)+i|n<<i|r,Fn=s+t}else jn=1<<s|n<<i|r,Fn=t}function qf(t){t.return!==null&&(ui(t,1),Bw(t,1,0))}function Qf(t){for(;t===oc;)oc=ds[--hs],ds[hs]=null,ac=ds[--hs],ds[hs]=null;for(;t===Si;)Si=Gt[--Kt],Gt[Kt]=null,Fn=Gt[--Kt],Gt[Kt]=null,jn=Gt[--Kt],Gt[Kt]=null}var Mt=null,Lt=null,Ne=!1,an=null;function $w(t,e){var n=Qt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function L_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mt=t,Lt=br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mt=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Si!==null?{id:jn,overflow:Fn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mt=t,Lt=null,!0):!1;default:return!1}}function Rh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Oh(t){if(Ne){var e=Lt;if(e){var n=e;if(!L_(t,e)){if(Rh(t))throw Error(R(418));e=br(n.nextSibling);var r=Mt;e&&L_(t,e)?$w(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Mt=t)}}else{if(Rh(t))throw Error(R(418));t.flags=t.flags&-4097|2,Ne=!1,Mt=t}}}function M_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mt=t}function kl(t){if(t!==Mt)return!1;if(!Ne)return M_(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bh(t.type,t.memoizedProps)),e&&(e=Lt)){if(Rh(t))throw Ww(),Error(R(418));for(;e;)$w(t,e),e=br(e.nextSibling)}if(M_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Lt=br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=Mt?br(t.stateNode.nextSibling):null;return!0}function Ww(){for(var t=Lt;t;)t=br(t.nextSibling)}function Rs(){Lt=Mt=null,Ne=!1}function Yf(t){an===null?an=[t]:an.push(t)}var UI=Jn.ReactCurrentBatchConfig;function sn(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var lc=Gr(null),cc=null,fs=null,Xf=null;function Jf(){Xf=fs=cc=null}function Zf(t){var e=lc.current;be(lc),t._currentValue=e}function Dh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ss(t,e){cc=t,Xf=fs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tt=!0),t.firstContext=null)}function Jt(t){var e=t._currentValue;if(Xf!==t)if(t={context:t,memoizedValue:e,next:null},fs===null){if(cc===null)throw Error(R(308));fs=t,cc.dependencies={lanes:0,firstContext:t}}else fs=fs.next=t;return e}var mi=null;function ep(t){mi===null?mi=[t]:mi.push(t)}function zw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ep(e)):(n.next=i.next,i.next=n),e.interleaved=n,qn(t,r)}function qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fr=!1;function tp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qn(t,n)}return i=r.interleaved,i===null?(e.next=e,ep(r)):(e.next=i.next,i.next=e),r.interleaved=e,qn(t,n)}function Fl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bf(t,n)}}function j_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function uc(t,e,n,r){var i=t.updateQueue;fr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,p=u=c=null,l=s;do{var _=l.lane,E=l.eventTime;if((r&_)===_){p!==null&&(p=p.next={eventTime:E,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,I=l;switch(_=e,E=n,I.tag){case 1:if(S=I.payload,typeof S=="function"){f=S.call(E,f,_);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=I.payload,_=typeof S=="function"?S.call(E,f,_):S,_==null)break e;f=De({},f,_);break e;case 2:fr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[l]:_.push(l))}else E={eventTime:E,lane:_,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(u=p=E,c=f):p=p.next=E,o|=_;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;_=l,l=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(p===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ti|=o,t.lanes=o,t.memoizedState=f}}function F_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var Hw=new zy.Component().refs;function Lh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var iu={isMounted:function(t){return(t=t._reactInternals)?Li(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wt(),i=Ar(t),s=zn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Nr(t,s,i),e!==null&&(dn(e,t,i,r),Fl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wt(),i=Ar(t),s=zn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Nr(t,s,i),e!==null&&(dn(e,t,i,r),Fl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wt(),r=Ar(t),i=zn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Nr(t,i,r),e!==null&&(dn(e,t,r,n),Fl(e,t,r))}};function U_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ra(n,r)||!ra(i,s):!0}function Gw(t,e,n){var r=!1,i=Br,s=e.contextType;return typeof s=="object"&&s!==null?s=Jt(s):(i=bt(e)?Ci:dt.current,r=e.contextTypes,s=(r=r!=null)?As(t,i):Br),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=iu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function B_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&iu.enqueueReplaceState(e,e.state,null)}function Mh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Hw,tp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jt(s):(s=bt(e)?Ci:dt.current,i.context=As(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Lh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&iu.enqueueReplaceState(i,i.state,null),uc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function So(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===Hw&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function Tl(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $_(t){var e=t._init;return e(t._payload)}function Kw(t){function e(y,v){if(t){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Rr(y,v),y.index=0,y.sibling=null,y}function s(y,v,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,v,w,N){return v===null||v.tag!==6?(v=$d(w,y.mode,N),v.return=y,v):(v=i(v,w),v.return=y,v)}function c(y,v,w,N){var L=w.type;return L===ss?p(y,v,w.props.children,N,w.key):v!==null&&(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===hr&&$_(L)===v.type)?(N=i(v,w.props),N.ref=So(y,v,w),N.return=y,N):(N=Vl(w.type,w.key,w.props,null,y.mode,N),N.ref=So(y,v,w),N.return=y,N)}function u(y,v,w,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Wd(w,y.mode,N),v.return=y,v):(v=i(v,w.children||[]),v.return=y,v)}function p(y,v,w,N,L){return v===null||v.tag!==7?(v=yi(w,y.mode,N,L),v.return=y,v):(v=i(v,w),v.return=y,v)}function f(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=$d(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pl:return w=Vl(v.type,v.key,v.props,null,y.mode,w),w.ref=So(y,null,v),w.return=y,w;case is:return v=Wd(v,y.mode,w),v.return=y,v;case hr:var N=v._init;return f(y,N(v._payload),w)}if(Ao(v)||vo(v))return v=yi(v,y.mode,w,null),v.return=y,v;Tl(y,v)}return null}function _(y,v,w,N){var L=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return L!==null?null:l(y,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pl:return w.key===L?c(y,v,w,N):null;case is:return w.key===L?u(y,v,w,N):null;case hr:return L=w._init,_(y,v,L(w._payload),N)}if(Ao(w)||vo(w))return L!==null?null:p(y,v,w,N,null);Tl(y,w)}return null}function E(y,v,w,N,L){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(w)||null,l(v,y,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case pl:return y=y.get(N.key===null?w:N.key)||null,c(v,y,N,L);case is:return y=y.get(N.key===null?w:N.key)||null,u(v,y,N,L);case hr:var j=N._init;return E(y,v,w,j(N._payload),L)}if(Ao(N)||vo(N))return y=y.get(w)||null,p(v,y,N,L,null);Tl(v,N)}return null}function S(y,v,w,N){for(var L=null,j=null,$=v,z=v=0,fe=null;$!==null&&z<w.length;z++){$.index>z?(fe=$,$=null):fe=$.sibling;var Q=_(y,$,w[z],N);if(Q===null){$===null&&($=fe);break}t&&$&&Q.alternate===null&&e(y,$),v=s(Q,v,z),j===null?L=Q:j.sibling=Q,j=Q,$=fe}if(z===w.length)return n(y,$),Ne&&ui(y,z),L;if($===null){for(;z<w.length;z++)$=f(y,w[z],N),$!==null&&(v=s($,v,z),j===null?L=$:j.sibling=$,j=$);return Ne&&ui(y,z),L}for($=r(y,$);z<w.length;z++)fe=E($,y,z,w[z],N),fe!==null&&(t&&fe.alternate!==null&&$.delete(fe.key===null?z:fe.key),v=s(fe,v,z),j===null?L=fe:j.sibling=fe,j=fe);return t&&$.forEach(function(ft){return e(y,ft)}),Ne&&ui(y,z),L}function I(y,v,w,N){var L=vo(w);if(typeof L!="function")throw Error(R(150));if(w=L.call(w),w==null)throw Error(R(151));for(var j=L=null,$=v,z=v=0,fe=null,Q=w.next();$!==null&&!Q.done;z++,Q=w.next()){$.index>z?(fe=$,$=null):fe=$.sibling;var ft=_(y,$,Q.value,N);if(ft===null){$===null&&($=fe);break}t&&$&&ft.alternate===null&&e(y,$),v=s(ft,v,z),j===null?L=ft:j.sibling=ft,j=ft,$=fe}if(Q.done)return n(y,$),Ne&&ui(y,z),L;if($===null){for(;!Q.done;z++,Q=w.next())Q=f(y,Q.value,N),Q!==null&&(v=s(Q,v,z),j===null?L=Q:j.sibling=Q,j=Q);return Ne&&ui(y,z),L}for($=r(y,$);!Q.done;z++,Q=w.next())Q=E($,y,z,Q.value,N),Q!==null&&(t&&Q.alternate!==null&&$.delete(Q.key===null?z:Q.key),v=s(Q,v,z),j===null?L=Q:j.sibling=Q,j=Q);return t&&$.forEach(function(nr){return e(y,nr)}),Ne&&ui(y,z),L}function P(y,v,w,N){if(typeof w=="object"&&w!==null&&w.type===ss&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case pl:e:{for(var L=w.key,j=v;j!==null;){if(j.key===L){if(L=w.type,L===ss){if(j.tag===7){n(y,j.sibling),v=i(j,w.props.children),v.return=y,y=v;break e}}else if(j.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===hr&&$_(L)===j.type){n(y,j.sibling),v=i(j,w.props),v.ref=So(y,j,w),v.return=y,y=v;break e}n(y,j);break}else e(y,j);j=j.sibling}w.type===ss?(v=yi(w.props.children,y.mode,N,w.key),v.return=y,y=v):(N=Vl(w.type,w.key,w.props,null,y.mode,N),N.ref=So(y,v,w),N.return=y,y=N)}return o(y);case is:e:{for(j=w.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(y,v.sibling),v=i(v,w.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Wd(w,y.mode,N),v.return=y,y=v}return o(y);case hr:return j=w._init,P(y,v,j(w._payload),N)}if(Ao(w))return S(y,v,w,N);if(vo(w))return I(y,v,w,N);Tl(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,w),v.return=y,y=v):(n(y,v),v=$d(w,y.mode,N),v.return=y,y=v),o(y)):n(y,v)}return P}var Os=Kw(!0),qw=Kw(!1),Pa={},Tn=Gr(Pa),aa=Gr(Pa),la=Gr(Pa);function gi(t){if(t===Pa)throw Error(R(174));return t}function np(t,e){switch(Te(la,e),Te(aa,t),Te(Tn,Pa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ph(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ph(e,t)}be(Tn),Te(Tn,e)}function Ds(){be(Tn),be(aa),be(la)}function Qw(t){gi(la.current);var e=gi(Tn.current),n=ph(e,t.type);e!==n&&(Te(aa,t),Te(Tn,n))}function rp(t){aa.current===t&&(be(Tn),be(aa))}var Pe=Gr(0);function dc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ld=[];function ip(){for(var t=0;t<Ld.length;t++)Ld[t]._workInProgressVersionPrimary=null;Ld.length=0}var Ul=Jn.ReactCurrentDispatcher,Md=Jn.ReactCurrentBatchConfig,ki=0,Re=null,ze=null,Qe=null,hc=!1,$o=!1,ca=0,BI=0;function lt(){throw Error(R(321))}function sp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fn(t[n],e[n]))return!1;return!0}function op(t,e,n,r,i,s){if(ki=s,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ul.current=t===null||t.memoizedState===null?VI:HI,t=n(r,i),$o){s=0;do{if($o=!1,ca=0,25<=s)throw Error(R(301));s+=1,Qe=ze=null,e.updateQueue=null,Ul.current=GI,t=n(r,i)}while($o)}if(Ul.current=fc,e=ze!==null&&ze.next!==null,ki=0,Qe=ze=Re=null,hc=!1,e)throw Error(R(300));return t}function ap(){var t=ca!==0;return ca=0,t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Re.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Zt(){if(ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Qe===null?Re.memoizedState:Qe.next;if(e!==null)Qe=e,ze=t;else{if(t===null)throw Error(R(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Qe===null?Re.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function ua(t,e){return typeof e=="function"?e(t):e}function jd(t){var e=Zt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var p=u.lane;if((ki&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Re.lanes|=p,Ti|=p}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,fn(r,e.memoizedState)||(Tt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Re.lanes|=s,Ti|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fd(t){var e=Zt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);fn(s,e.memoizedState)||(Tt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Yw(){}function Xw(t,e){var n=Re,r=Zt(),i=e(),s=!fn(r.memoizedState,i);if(s&&(r.memoizedState=i,Tt=!0),r=r.queue,lp(e0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,da(9,Zw.bind(null,n,r,i,e),void 0,null),Xe===null)throw Error(R(349));ki&30||Jw(n,e,i)}return i}function Jw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Zw(t,e,n,r){e.value=n,e.getSnapshot=r,t0(e)&&n0(t)}function e0(t,e,n){return n(function(){t0(e)&&n0(t)})}function t0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fn(t,n)}catch{return!0}}function n0(t){var e=qn(t,1);e!==null&&dn(e,t,1,-1)}function W_(t){var e=En();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:t},e.queue=t,t=t.dispatch=zI.bind(null,Re,t),[e.memoizedState,t]}function da(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function r0(){return Zt().memoizedState}function Bl(t,e,n,r){var i=En();Re.flags|=t,i.memoizedState=da(1|e,n,void 0,r===void 0?null:r)}function su(t,e,n,r){var i=Zt();r=r===void 0?null:r;var s=void 0;if(ze!==null){var o=ze.memoizedState;if(s=o.destroy,r!==null&&sp(r,o.deps)){i.memoizedState=da(e,n,s,r);return}}Re.flags|=t,i.memoizedState=da(1|e,n,s,r)}function z_(t,e){return Bl(8390656,8,t,e)}function lp(t,e){return su(2048,8,t,e)}function i0(t,e){return su(4,2,t,e)}function s0(t,e){return su(4,4,t,e)}function o0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function a0(t,e,n){return n=n!=null?n.concat([t]):null,su(4,4,o0.bind(null,e,t),n)}function cp(){}function l0(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function c0(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function u0(t,e,n){return ki&21?(fn(n,e)||(n=fw(),Re.lanes|=n,Ti|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=n)}function $I(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=Md.transition;Md.transition={};try{t(!1),e()}finally{ge=n,Md.transition=r}}function d0(){return Zt().memoizedState}function WI(t,e,n){var r=Ar(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},h0(t))f0(e,n);else if(n=zw(t,e,n,r),n!==null){var i=wt();dn(n,t,r,i),p0(n,e,r)}}function zI(t,e,n){var r=Ar(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(h0(t))f0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,fn(l,o)){var c=e.interleaved;c===null?(i.next=i,ep(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=zw(t,e,i,r),n!==null&&(i=wt(),dn(n,t,r,i),p0(n,e,r))}}function h0(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function f0(t,e){$o=hc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function p0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bf(t,n)}}var fc={readContext:Jt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},VI={readContext:Jt,useCallback:function(t,e){return En().memoizedState=[t,e===void 0?null:e],t},useContext:Jt,useEffect:z_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bl(4194308,4,o0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bl(4,2,t,e)},useMemo:function(t,e){var n=En();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=En();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WI.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=En();return t={current:t},e.memoizedState=t},useState:W_,useDebugValue:cp,useDeferredValue:function(t){return En().memoizedState=t},useTransition:function(){var t=W_(!1),e=t[0];return t=$I.bind(null,t[1]),En().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,i=En();if(Ne){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),Xe===null)throw Error(R(349));ki&30||Jw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,z_(e0.bind(null,r,s,t),[t]),r.flags|=2048,da(9,Zw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=En(),e=Xe.identifierPrefix;if(Ne){var n=Fn,r=jn;n=(r&~(1<<32-un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ca++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HI={readContext:Jt,useCallback:l0,useContext:Jt,useEffect:lp,useImperativeHandle:a0,useInsertionEffect:i0,useLayoutEffect:s0,useMemo:c0,useReducer:jd,useRef:r0,useState:function(){return jd(ua)},useDebugValue:cp,useDeferredValue:function(t){var e=Zt();return u0(e,ze.memoizedState,t)},useTransition:function(){var t=jd(ua)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:Yw,useSyncExternalStore:Xw,useId:d0,unstable_isNewReconciler:!1},GI={readContext:Jt,useCallback:l0,useContext:Jt,useEffect:lp,useImperativeHandle:a0,useInsertionEffect:i0,useLayoutEffect:s0,useMemo:c0,useReducer:Fd,useRef:r0,useState:function(){return Fd(ua)},useDebugValue:cp,useDeferredValue:function(t){var e=Zt();return ze===null?e.memoizedState=t:u0(e,ze.memoizedState,t)},useTransition:function(){var t=Fd(ua)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:Yw,useSyncExternalStore:Xw,useId:d0,unstable_isNewReconciler:!1};function Ls(t,e){try{var n="",r=e;do n+=w1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ud(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KI=typeof WeakMap=="function"?WeakMap:Map;function m0(t,e,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mc||(mc=!0,Kh=r),jh(t,e)},n}function g0(t,e,n){n=zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jh(t,e),typeof r!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function V_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ax.bind(null,t,e,n),e.then(t,t))}function H_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zn(-1,1),e.tag=2,Nr(n,e,1))),n.lanes|=1),t)}var qI=Jn.ReactCurrentOwner,Tt=!1;function vt(t,e,n,r){e.child=t===null?qw(e,null,n,r):Os(e,t.child,n,r)}function K_(t,e,n,r,i){n=n.render;var s=e.ref;return Ss(e,i),r=op(t,e,n,r,s,i),n=ap(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qn(t,e,i)):(Ne&&n&&qf(e),e.flags|=1,vt(t,e,r,i),e.child)}function q_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!_p(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,_0(t,e,s,r,i)):(t=Vl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ra,n(o,r)&&t.ref===e.ref)return Qn(t,e,i)}return e.flags|=1,t=Rr(s,r),t.ref=e.ref,t.return=e,e.child=t}function _0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ra(s,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,Qn(t,e,i)}return Fh(t,e,n,r,i)}function v0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(ms,Dt),Dt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(ms,Dt),Dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Te(ms,Dt),Dt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Te(ms,Dt),Dt|=r;return vt(t,e,i,n),e.child}function y0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fh(t,e,n,r,i){var s=bt(n)?Ci:dt.current;return s=As(e,s),Ss(e,i),n=op(t,e,n,r,s,i),r=ap(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qn(t,e,i)):(Ne&&r&&qf(e),e.flags|=1,vt(t,e,n,i),e.child)}function Q_(t,e,n,r,i){if(bt(n)){var s=!0;sc(e)}else s=!1;if(Ss(e,i),e.stateNode===null)$l(t,e),Gw(e,n,r),Mh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jt(u):(u=bt(n)?Ci:dt.current,u=As(e,u));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&B_(e,o,r,u),fr=!1;var _=e.memoizedState;o.state=_,uc(e,r,o,i),c=e.memoizedState,l!==r||_!==c||xt.current||fr?(typeof p=="function"&&(Lh(e,n,p,r),c=e.memoizedState),(l=fr||U_(e,n,l,r,_,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vw(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:sn(e.type,l),o.props=u,f=e.pendingProps,_=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Jt(c):(c=bt(n)?Ci:dt.current,c=As(e,c));var E=n.getDerivedStateFromProps;(p=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||_!==c)&&B_(e,o,r,c),fr=!1,_=e.memoizedState,o.state=_,uc(e,r,o,i);var S=e.memoizedState;l!==f||_!==S||xt.current||fr?(typeof E=="function"&&(Lh(e,n,E,r),S=e.memoizedState),(u=fr||U_(e,n,u,r,_,S,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return Uh(t,e,n,r,s,i)}function Uh(t,e,n,r,i,s){y0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&D_(e,n,!1),Qn(t,e,s);r=e.stateNode,qI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Os(e,t.child,null,s),e.child=Os(e,null,l,s)):vt(t,e,l,s),e.memoizedState=r.state,i&&D_(e,n,!0),e.child}function w0(t){var e=t.stateNode;e.pendingContext?O_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&O_(t,e.context,!1),np(t,e.containerInfo)}function Y_(t,e,n,r,i){return Rs(),Yf(i),e.flags|=256,vt(t,e,n,r),e.child}var Bh={dehydrated:null,treeContext:null,retryLane:0};function $h(t){return{baseLanes:t,cachePool:null,transitions:null}}function E0(t,e,n){var r=e.pendingProps,i=Pe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Te(Pe,i&1),t===null)return Oh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lu(o,r,0,null),t=yi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$h(n),e.memoizedState=Bh,t):up(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return QI(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Rr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Rr(l,s):(s=yi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?$h(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Bh,r}return s=t.child,t=s.sibling,r=Rr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function up(t,e){return e=lu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Il(t,e,n,r){return r!==null&&Yf(r),Os(e,t.child,null,n),t=up(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ud(Error(R(422))),Il(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=lu({mode:"visible",children:r.children},i,0,null),s=yi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Os(e,t.child,null,o),e.child.memoizedState=$h(o),e.memoizedState=Bh,s);if(!(e.mode&1))return Il(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(R(419)),r=Ud(s,r,void 0),Il(t,e,o,r)}if(l=(o&t.childLanes)!==0,Tt||l){if(r=Xe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qn(t,i),dn(r,t,i,-1))}return gp(),r=Ud(Error(R(421))),Il(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lx.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Lt=br(i.nextSibling),Mt=e,Ne=!0,an=null,t!==null&&(Gt[Kt++]=jn,Gt[Kt++]=Fn,Gt[Kt++]=Si,jn=t.id,Fn=t.overflow,Si=e),e=up(e,r.children),e.flags|=4096,e)}function X_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dh(t.return,e,n)}function Bd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function C0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(vt(t,e,r.children,n),r=Pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X_(t,n,e);else if(t.tag===19)X_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(Pe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bd(e,!0,n,null,s);break;case"together":Bd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $l(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ti|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Rr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YI(t,e,n){switch(e.tag){case 3:w0(e),Rs();break;case 5:Qw(e);break;case 1:bt(e.type)&&sc(e);break;case 4:np(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Te(lc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?E0(t,e,n):(Te(Pe,Pe.current&1),t=Qn(t,e,n),t!==null?t.sibling:null);Te(Pe,Pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return C0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(Pe,Pe.current),r)break;return null;case 22:case 23:return e.lanes=0,v0(t,e,n)}return Qn(t,e,n)}var S0,Wh,k0,T0;S0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wh=function(){};k0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,gi(Tn.current);var s=null;switch(n){case"input":i=uh(t,i),r=uh(t,r),s=[];break;case"select":i=De({},i,{value:void 0}),r=De({},r,{value:void 0}),s=[];break;case"textarea":i=fh(t,i),r=fh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rc)}mh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&xe("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};T0=function(t,e,n,r){n!==r&&(e.flags|=4)};function ko(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XI(t,e,n){var r=e.pendingProps;switch(Qf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(e),null;case 1:return bt(e.type)&&ic(),ct(e),null;case 3:return r=e.stateNode,Ds(),be(xt),be(dt),ip(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,an!==null&&(Yh(an),an=null))),Wh(t,e),ct(e),null;case 5:rp(e);var i=gi(la.current);if(n=e.type,t!==null&&e.stateNode!=null)k0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return ct(e),null}if(t=gi(Tn.current),kl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Cn]=e,r[oa]=s,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(i=0;i<Oo.length;i++)xe(Oo[i],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":o_(r,s),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xe("invalid",r);break;case"textarea":l_(r,s),xe("invalid",r)}mh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Sl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Sl(r.textContent,l,t),i=["children",""+l]):Yo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":ml(r),a_(r,s,!0);break;case"textarea":ml(r),c_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Cn]=e,t[oa]=r,S0(t,e,!1,!1),e.stateNode=t;e:{switch(o=gh(n,r),n){case"dialog":xe("cancel",t),xe("close",t),i=r;break;case"iframe":case"object":case"embed":xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Oo.length;i++)xe(Oo[i],t);i=r;break;case"source":xe("error",t),i=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),i=r;break;case"details":xe("toggle",t),i=r;break;case"input":o_(t,r),i=uh(t,r),xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=De({},r,{value:void 0}),xe("invalid",t);break;case"textarea":l_(t,r),i=fh(t,r),xe("invalid",t);break;default:i=r}mh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?tw(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Zy(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Xo(t,c):typeof c=="number"&&Xo(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yo.hasOwnProperty(s)?c!=null&&s==="onScroll"&&xe("scroll",t):c!=null&&Df(t,s,c,o))}switch(n){case"input":ml(t),a_(t,r,!1);break;case"textarea":ml(t),c_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ur(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ys(t,!!r.multiple,s,!1):r.defaultValue!=null&&ys(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ct(e),null;case 6:if(t&&e.stateNode!=null)T0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=gi(la.current),gi(Tn.current),kl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cn]=e,(s=r.nodeValue!==n)&&(t=Mt,t!==null))switch(t.tag){case 3:Sl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cn]=e,e.stateNode=r}return ct(e),null;case 13:if(be(Pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Lt!==null&&e.mode&1&&!(e.flags&128))Ww(),Rs(),e.flags|=98560,s=!1;else if(s=kl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(R(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[Cn]=e}else Rs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ct(e),s=!1}else an!==null&&(Yh(an),an=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?Ge===0&&(Ge=3):gp())),e.updateQueue!==null&&(e.flags|=4),ct(e),null);case 4:return Ds(),Wh(t,e),t===null&&ia(e.stateNode.containerInfo),ct(e),null;case 10:return Zf(e.type._context),ct(e),null;case 17:return bt(e.type)&&ic(),ct(e),null;case 19:if(be(Pe),s=e.memoizedState,s===null)return ct(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ko(s,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dc(t),o!==null){for(e.flags|=128,ko(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(Pe,Pe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Be()>Ms&&(e.flags|=128,r=!0,ko(s,!1),e.lanes=4194304)}else{if(!r)if(t=dc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ko(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ne)return ct(e),null}else 2*Be()-s.renderingStartTime>Ms&&n!==1073741824&&(e.flags|=128,r=!0,ko(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Be(),e.sibling=null,n=Pe.current,Te(Pe,r?n&1|2:n&1),e):(ct(e),null);case 22:case 23:return mp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dt&1073741824&&(ct(e),e.subtreeFlags&6&&(e.flags|=8192)):ct(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function JI(t,e){switch(Qf(e),e.tag){case 1:return bt(e.type)&&ic(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ds(),be(xt),be(dt),ip(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rp(e),null;case 13:if(be(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Rs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Pe),null;case 4:return Ds(),null;case 10:return Zf(e.type._context),null;case 22:case 23:return mp(),null;case 24:return null;default:return null}}var xl=!1,ut=!1,ZI=typeof WeakSet=="function"?WeakSet:Set,B=null;function ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function zh(t,e,n){try{n()}catch(r){Me(t,e,r)}}var J_=!1;function ex(t,e){if(Ih=ec,t=Nw(),Kf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,p=0,f=t,_=null;t:for(;;){for(var E;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(E=f.firstChild)!==null;)_=f,f=E;for(;;){if(f===t)break t;if(_===n&&++u===i&&(l=o),_===s&&++p===r&&(c=o),(E=f.nextSibling)!==null)break;f=_,_=f.parentNode}f=E}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xh={focusedElem:t,selectionRange:n},ec=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var I=S.memoizedProps,P=S.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?I:sn(e.type,I),P);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(N){Me(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return S=J_,J_=!1,S}function Wo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zh(e,n,s)}i=i.next}while(i!==r)}}function ou(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function I0(t){var e=t.alternate;e!==null&&(t.alternate=null,I0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cn],delete e[oa],delete e[Ph],delete e[MI],delete e[jI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function x0(t){return t.tag===5||t.tag===3||t.tag===4}function Z_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rc));else if(r!==4&&(t=t.child,t!==null))for(Hh(t,e,n),t=t.sibling;t!==null;)Hh(t,e,n),t=t.sibling}function Gh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gh(t,e,n),t=t.sibling;t!==null;)Gh(t,e,n),t=t.sibling}var tt=null,on=!1;function ur(t,e,n){for(n=n.child;n!==null;)b0(t,e,n),n=n.sibling}function b0(t,e,n){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Jc,n)}catch{}switch(n.tag){case 5:ut||ps(n,e);case 6:var r=tt,i=on;tt=null,ur(t,e,n),tt=r,on=i,tt!==null&&(on?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(on?(t=tt,n=n.stateNode,t.nodeType===8?Od(t.parentNode,n):t.nodeType===1&&Od(t,n),ta(t)):Od(tt,n.stateNode));break;case 4:r=tt,i=on,tt=n.stateNode.containerInfo,on=!0,ur(t,e,n),tt=r,on=i;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zh(n,e,o),i=i.next}while(i!==r)}ur(t,e,n);break;case 1:if(!ut&&(ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Me(n,e,l)}ur(t,e,n);break;case 21:ur(t,e,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,ur(t,e,n),ut=r):ur(t,e,n);break;default:ur(t,e,n)}}function ev(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZI),e.forEach(function(r){var i=cx.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:tt=l.stateNode,on=!1;break e;case 3:tt=l.stateNode.containerInfo,on=!0;break e;case 4:tt=l.stateNode.containerInfo,on=!0;break e}l=l.return}if(tt===null)throw Error(R(160));b0(s,o,i),tt=null,on=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Me(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)N0(e,t),e=e.sibling}function N0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(e,t),wn(t),r&4){try{Wo(3,t,t.return),ou(3,t)}catch(I){Me(t,t.return,I)}try{Wo(5,t,t.return)}catch(I){Me(t,t.return,I)}}break;case 1:rn(e,t),wn(t),r&512&&n!==null&&ps(n,n.return);break;case 5:if(rn(e,t),wn(t),r&512&&n!==null&&ps(n,n.return),t.flags&32){var i=t.stateNode;try{Xo(i,"")}catch(I){Me(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Yy(i,s),gh(l,o);var u=gh(l,s);for(o=0;o<c.length;o+=2){var p=c[o],f=c[o+1];p==="style"?tw(i,f):p==="dangerouslySetInnerHTML"?Zy(i,f):p==="children"?Xo(i,f):Df(i,p,f,u)}switch(l){case"input":dh(i,s);break;case"textarea":Xy(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?ys(i,!!s.multiple,E,!1):_!==!!s.multiple&&(s.defaultValue!=null?ys(i,!!s.multiple,s.defaultValue,!0):ys(i,!!s.multiple,s.multiple?[]:"",!1))}i[oa]=s}catch(I){Me(t,t.return,I)}}break;case 6:if(rn(e,t),wn(t),r&4){if(t.stateNode===null)throw Error(R(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){Me(t,t.return,I)}}break;case 3:if(rn(e,t),wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ta(e.containerInfo)}catch(I){Me(t,t.return,I)}break;case 4:rn(e,t),wn(t);break;case 13:rn(e,t),wn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fp=Be())),r&4&&ev(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(ut=(u=ut)||p,rn(e,t),ut=u):rn(e,t),wn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!p&&t.mode&1)for(B=t,p=t.child;p!==null;){for(f=B=p;B!==null;){switch(_=B,E=_.child,_.tag){case 0:case 11:case 14:case 15:Wo(4,_,_.return);break;case 1:ps(_,_.return);var S=_.stateNode;if(typeof S.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(I){Me(r,n,I)}}break;case 5:ps(_,_.return);break;case 22:if(_.memoizedState!==null){nv(f);continue}}E!==null?(E.return=_,B=E):nv(f)}p=p.sibling}e:for(p=null,f=t;;){if(f.tag===5){if(p===null){p=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ew("display",o))}catch(I){Me(t,t.return,I)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(I){Me(t,t.return,I)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rn(e,t),wn(t),r&4&&ev(t);break;case 21:break;default:rn(e,t),wn(t)}}function wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(x0(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xo(i,""),r.flags&=-33);var s=Z_(t);Gh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Z_(t);Hh(t,l,o);break;default:throw Error(R(161))}}catch(c){Me(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tx(t,e,n){B=t,P0(t)}function P0(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xl;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ut;l=xl;var u=ut;if(xl=o,(ut=c)&&!u)for(B=i;B!==null;)o=B,c=o.child,o.tag===22&&o.memoizedState!==null?rv(i):c!==null?(c.return=o,B=c):rv(i);for(;s!==null;)B=s,P0(s),s=s.sibling;B=i,xl=l,ut=u}tv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):tv(t)}}function tv(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ut||ou(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&F_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}F_(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&ta(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}ut||e.flags&512&&Vh(e)}catch(_){Me(e,e.return,_)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function nv(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function rv(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ou(4,e)}catch(c){Me(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Me(e,i,c)}}var s=e.return;try{Vh(e)}catch(c){Me(e,s,c)}break;case 5:var o=e.return;try{Vh(e)}catch(c){Me(e,o,c)}}}catch(c){Me(e,e.return,c)}if(e===t){B=null;break}var l=e.sibling;if(l!==null){l.return=e.return,B=l;break}B=e.return}}var nx=Math.ceil,pc=Jn.ReactCurrentDispatcher,dp=Jn.ReactCurrentOwner,Xt=Jn.ReactCurrentBatchConfig,ue=0,Xe=null,$e=null,rt=0,Dt=0,ms=Gr(0),Ge=0,ha=null,Ti=0,au=0,hp=0,zo=null,kt=null,fp=0,Ms=1/0,Ln=null,mc=!1,Kh=null,Pr=null,bl=!1,Cr=null,gc=0,Vo=0,qh=null,Wl=-1,zl=0;function wt(){return ue&6?Be():Wl!==-1?Wl:Wl=Be()}function Ar(t){return t.mode&1?ue&2&&rt!==0?rt&-rt:UI.transition!==null?(zl===0&&(zl=fw()),zl):(t=ge,t!==0||(t=window.event,t=t===void 0?16:ww(t.type)),t):1}function dn(t,e,n,r){if(50<Vo)throw Vo=0,qh=null,Error(R(185));xa(t,n,r),(!(ue&2)||t!==Xe)&&(t===Xe&&(!(ue&2)&&(au|=n),Ge===4&&gr(t,rt)),Nt(t,r),n===1&&ue===0&&!(e.mode&1)&&(Ms=Be()+500,ru&&Kr()))}function Nt(t,e){var n=t.callbackNode;U1(t,e);var r=Zl(t,t===Xe?rt:0);if(r===0)n!==null&&h_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&h_(n),e===1)t.tag===0?FI(iv.bind(null,t)):Uw(iv.bind(null,t)),DI(function(){!(ue&6)&&Kr()}),n=null;else{switch(pw(r)){case 1:n=Uf;break;case 4:n=dw;break;case 16:n=Jl;break;case 536870912:n=hw;break;default:n=Jl}n=F0(n,A0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function A0(t,e){if(Wl=-1,zl=0,ue&6)throw Error(R(327));var n=t.callbackNode;if(ks()&&t.callbackNode!==n)return null;var r=Zl(t,t===Xe?rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_c(t,r);else{e=r;var i=ue;ue|=2;var s=O0();(Xe!==t||rt!==e)&&(Ln=null,Ms=Be()+500,vi(t,e));do try{sx();break}catch(l){R0(t,l)}while(!0);Jf(),pc.current=s,ue=i,$e!==null?e=0:(Xe=null,rt=0,e=Ge)}if(e!==0){if(e===2&&(i=Eh(t),i!==0&&(r=i,e=Qh(t,i))),e===1)throw n=ha,vi(t,0),gr(t,r),Nt(t,Be()),n;if(e===6)gr(t,r);else{if(i=t.current.alternate,!(r&30)&&!rx(i)&&(e=_c(t,r),e===2&&(s=Eh(t),s!==0&&(r=s,e=Qh(t,s))),e===1))throw n=ha,vi(t,0),gr(t,r),Nt(t,Be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:di(t,kt,Ln);break;case 3:if(gr(t,r),(r&130023424)===r&&(e=fp+500-Be(),10<e)){if(Zl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Nh(di.bind(null,t,kt,Ln),e);break}di(t,kt,Ln);break;case 4:if(gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-un(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nx(r/1960))-r,10<r){t.timeoutHandle=Nh(di.bind(null,t,kt,Ln),r);break}di(t,kt,Ln);break;case 5:di(t,kt,Ln);break;default:throw Error(R(329))}}}return Nt(t,Be()),t.callbackNode===n?A0.bind(null,t):null}function Qh(t,e){var n=zo;return t.current.memoizedState.isDehydrated&&(vi(t,e).flags|=256),t=_c(t,e),t!==2&&(e=kt,kt=n,e!==null&&Yh(e)),t}function Yh(t){kt===null?kt=t:kt.push.apply(kt,t)}function rx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gr(t,e){for(e&=~hp,e&=~au,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-un(e),r=1<<n;t[n]=-1,e&=~r}}function iv(t){if(ue&6)throw Error(R(327));ks();var e=Zl(t,0);if(!(e&1))return Nt(t,Be()),null;var n=_c(t,e);if(t.tag!==0&&n===2){var r=Eh(t);r!==0&&(e=r,n=Qh(t,r))}if(n===1)throw n=ha,vi(t,0),gr(t,e),Nt(t,Be()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,di(t,kt,Ln),Nt(t,Be()),null}function pp(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(Ms=Be()+500,ru&&Kr())}}function Ii(t){Cr!==null&&Cr.tag===0&&!(ue&6)&&ks();var e=ue;ue|=1;var n=Xt.transition,r=ge;try{if(Xt.transition=null,ge=1,t)return t()}finally{ge=r,Xt.transition=n,ue=e,!(ue&6)&&Kr()}}function mp(){Dt=ms.current,be(ms)}function vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OI(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Qf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ic();break;case 3:Ds(),be(xt),be(dt),ip();break;case 5:rp(r);break;case 4:Ds();break;case 13:be(Pe);break;case 19:be(Pe);break;case 10:Zf(r.type._context);break;case 22:case 23:mp()}n=n.return}if(Xe=t,$e=t=Rr(t.current,null),rt=Dt=e,Ge=0,ha=null,hp=au=Ti=0,kt=zo=null,mi!==null){for(e=0;e<mi.length;e++)if(n=mi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}mi=null}return t}function R0(t,e){do{var n=$e;try{if(Jf(),Ul.current=fc,hc){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hc=!1}if(ki=0,Qe=ze=Re=null,$o=!1,ca=0,dp.current=null,n===null||n.return===null){Ge=1,ha=e,$e=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=l,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var _=p.alternate;_?(p.updateQueue=_.updateQueue,p.memoizedState=_.memoizedState,p.lanes=_.lanes):(p.updateQueue=null,p.memoizedState=null)}var E=H_(o);if(E!==null){E.flags&=-257,G_(E,o,l,s,e),E.mode&1&&V_(s,u,e),e=E,c=u;var S=e.updateQueue;if(S===null){var I=new Set;I.add(c),e.updateQueue=I}else S.add(c);break e}else{if(!(e&1)){V_(s,u,e),gp();break e}c=Error(R(426))}}else if(Ne&&l.mode&1){var P=H_(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),G_(P,o,l,s,e),Yf(Ls(c,l));break e}}s=c=Ls(c,l),Ge!==4&&(Ge=2),zo===null?zo=[s]:zo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=m0(s,c,e);j_(s,y);break e;case 1:l=c;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Pr===null||!Pr.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=g0(s,l,e);j_(s,N);break e}}s=s.return}while(s!==null)}L0(n)}catch(L){e=L,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function O0(){var t=pc.current;return pc.current=fc,t===null?fc:t}function gp(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Xe===null||!(Ti&268435455)&&!(au&268435455)||gr(Xe,rt)}function _c(t,e){var n=ue;ue|=2;var r=O0();(Xe!==t||rt!==e)&&(Ln=null,vi(t,e));do try{ix();break}catch(i){R0(t,i)}while(!0);if(Jf(),ue=n,pc.current=r,$e!==null)throw Error(R(261));return Xe=null,rt=0,Ge}function ix(){for(;$e!==null;)D0($e)}function sx(){for(;$e!==null&&!P1();)D0($e)}function D0(t){var e=j0(t.alternate,t,Dt);t.memoizedProps=t.pendingProps,e===null?L0(t):$e=e,dp.current=null}function L0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=JI(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,$e=null;return}}else if(n=XI(n,e,Dt),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);Ge===0&&(Ge=5)}function di(t,e,n){var r=ge,i=Xt.transition;try{Xt.transition=null,ge=1,ox(t,e,n,r)}finally{Xt.transition=i,ge=r}return null}function ox(t,e,n,r){do ks();while(Cr!==null);if(ue&6)throw Error(R(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(B1(t,s),t===Xe&&($e=Xe=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bl||(bl=!0,F0(Jl,function(){return ks(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xt.transition,Xt.transition=null;var o=ge;ge=1;var l=ue;ue|=4,dp.current=null,ex(t,n),N0(n,t),II(xh),ec=!!Ih,xh=Ih=null,t.current=n,tx(n),A1(),ue=l,ge=o,Xt.transition=s}else t.current=n;if(bl&&(bl=!1,Cr=t,gc=i),s=t.pendingLanes,s===0&&(Pr=null),D1(n.stateNode),Nt(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(mc)throw mc=!1,t=Kh,Kh=null,t;return gc&1&&t.tag!==0&&ks(),s=t.pendingLanes,s&1?t===qh?Vo++:(Vo=0,qh=t):Vo=0,Kr(),null}function ks(){if(Cr!==null){var t=pw(gc),e=Xt.transition,n=ge;try{if(Xt.transition=null,ge=16>t?16:t,Cr===null)var r=!1;else{if(t=Cr,Cr=null,gc=0,ue&6)throw Error(R(331));var i=ue;for(ue|=4,B=t.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(B=u;B!==null;){var p=B;switch(p.tag){case 0:case 11:case 15:Wo(8,p,s)}var f=p.child;if(f!==null)f.return=p,B=f;else for(;B!==null;){p=B;var _=p.sibling,E=p.return;if(I0(p),p===u){B=null;break}if(_!==null){_.return=E,B=_;break}B=E}}}var S=s.alternate;if(S!==null){var I=S.child;if(I!==null){S.child=null;do{var P=I.sibling;I.sibling=null,I=P}while(I!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wo(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,B=y;break e}B=s.return}}var v=t.current;for(B=v;B!==null;){o=B;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,B=w;else e:for(o=v;B!==null;){if(l=B,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ou(9,l)}}catch(L){Me(l,l.return,L)}if(l===o){B=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,B=N;break e}B=l.return}}if(ue=i,Kr(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Jc,t)}catch{}r=!0}return r}finally{ge=n,Xt.transition=e}}return!1}function sv(t,e,n){e=Ls(n,e),e=m0(t,e,1),t=Nr(t,e,1),e=wt(),t!==null&&(xa(t,1,e),Nt(t,e))}function Me(t,e,n){if(t.tag===3)sv(t,t,n);else for(;e!==null;){if(e.tag===3){sv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pr===null||!Pr.has(r))){t=Ls(n,t),t=g0(e,t,1),e=Nr(e,t,1),t=wt(),e!==null&&(xa(e,1,t),Nt(e,t));break}}e=e.return}}function ax(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wt(),t.pingedLanes|=t.suspendedLanes&n,Xe===t&&(rt&n)===n&&(Ge===4||Ge===3&&(rt&130023424)===rt&&500>Be()-fp?vi(t,0):hp|=n),Nt(t,e)}function M0(t,e){e===0&&(t.mode&1?(e=vl,vl<<=1,!(vl&130023424)&&(vl=4194304)):e=1);var n=wt();t=qn(t,e),t!==null&&(xa(t,e,n),Nt(t,n))}function lx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),M0(t,n)}function cx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),M0(t,n)}var j0;j0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xt.current)Tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tt=!1,YI(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,Ne&&e.flags&1048576&&Bw(e,ac,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$l(t,e),t=e.pendingProps;var i=As(e,dt.current);Ss(e,n),i=op(null,e,r,t,i,n);var s=ap();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(r)?(s=!0,sc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tp(e),i.updater=iu,e.stateNode=i,i._reactInternals=e,Mh(e,r,t,n),e=Uh(null,e,r,!0,s,n)):(e.tag=0,Ne&&s&&qf(e),vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($l(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=dx(r),t=sn(r,t),i){case 0:e=Fh(null,e,r,t,n);break e;case 1:e=Q_(null,e,r,t,n);break e;case 11:e=K_(null,e,r,t,n);break e;case 14:e=q_(null,e,r,sn(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),Fh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),Q_(t,e,r,i,n);case 3:e:{if(w0(e),t===null)throw Error(R(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Vw(t,e),uc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ls(Error(R(423)),e),e=Y_(t,e,r,n,i);break e}else if(r!==i){i=Ls(Error(R(424)),e),e=Y_(t,e,r,n,i);break e}else for(Lt=br(e.stateNode.containerInfo.firstChild),Mt=e,Ne=!0,an=null,n=qw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rs(),r===i){e=Qn(t,e,n);break e}vt(t,e,r,n)}e=e.child}return e;case 5:return Qw(e),t===null&&Oh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,bh(r,i)?o=null:s!==null&&bh(r,s)&&(e.flags|=32),y0(t,e),vt(t,e,o,n),e.child;case 6:return t===null&&Oh(e),null;case 13:return E0(t,e,n);case 4:return np(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Os(e,null,r,n):vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),K_(t,e,r,i,n);case 7:return vt(t,e,e.pendingProps,n),e.child;case 8:return vt(t,e,e.pendingProps.children,n),e.child;case 12:return vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Te(lc,r._currentValue),r._currentValue=o,s!==null)if(fn(s.value,o)){if(s.children===i.children&&!xt.current){e=Qn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=zn(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Dh(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(R(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Dh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ss(e,n),i=Jt(i),r=r(i),e.flags|=1,vt(t,e,r,n),e.child;case 14:return r=e.type,i=sn(r,e.pendingProps),i=sn(r.type,i),q_(t,e,r,i,n);case 15:return _0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),$l(t,e),e.tag=1,bt(r)?(t=!0,sc(e)):t=!1,Ss(e,n),Gw(e,r,i),Mh(e,r,i,n),Uh(null,e,r,!0,t,n);case 19:return C0(t,e,n);case 22:return v0(t,e,n)}throw Error(R(156,e.tag))};function F0(t,e){return uw(t,e)}function ux(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,e,n,r){return new ux(t,e,n,r)}function _p(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dx(t){if(typeof t=="function")return _p(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mf)return 11;if(t===jf)return 14}return 2}function Rr(t,e){var n=t.alternate;return n===null?(n=Qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")_p(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ss:return yi(n.children,i,s,e);case Lf:o=8,i|=8;break;case oh:return t=Qt(12,n,e,i|2),t.elementType=oh,t.lanes=s,t;case ah:return t=Qt(13,n,e,i),t.elementType=ah,t.lanes=s,t;case lh:return t=Qt(19,n,e,i),t.elementType=lh,t.lanes=s,t;case Ky:return lu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hy:o=10;break e;case Gy:o=9;break e;case Mf:o=11;break e;case jf:o=14;break e;case hr:o=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=Qt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function yi(t,e,n,r){return t=Qt(7,t,r,e),t.lanes=n,t}function lu(t,e,n,r){return t=Qt(22,t,r,e),t.elementType=Ky,t.lanes=n,t.stateNode={isHidden:!1},t}function $d(t,e,n){return t=Qt(6,t,null,e),t.lanes=n,t}function Wd(t,e,n){return e=Qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hx(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cd(0),this.expirationTimes=Cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vp(t,e,n,r,i,s,o,l,c){return t=new hx(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tp(s),t}function fx(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:is,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function U0(t){if(!t)return Br;t=t._reactInternals;e:{if(Li(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(bt(n))return Fw(t,n,e)}return e}function B0(t,e,n,r,i,s,o,l,c){return t=vp(n,r,!0,t,i,s,o,l,c),t.context=U0(null),n=t.current,r=wt(),i=Ar(n),s=zn(r,i),s.callback=e??null,Nr(n,s,i),t.current.lanes=i,xa(t,i,r),Nt(t,r),t}function cu(t,e,n,r){var i=e.current,s=wt(),o=Ar(i);return n=U0(n),e.context===null?e.context=n:e.pendingContext=n,e=zn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nr(i,e,o),t!==null&&(dn(t,i,o,s),Fl(t,i,o)),o}function vc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ov(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yp(t,e){ov(t,e),(t=t.alternate)&&ov(t,e)}function px(){return null}var $0=typeof reportError=="function"?reportError:function(t){console.error(t)};function wp(t){this._internalRoot=t}uu.prototype.render=wp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));cu(t,e,null,null)};uu.prototype.unmount=wp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ii(function(){cu(null,t,null,null)}),e[Kn]=null}};function uu(t){this._internalRoot=t}uu.prototype.unstable_scheduleHydration=function(t){if(t){var e=_w();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mr.length&&e!==0&&e<mr[n].priority;n++);mr.splice(n,0,t),n===0&&yw(t)}};function Ep(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function av(){}function mx(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=vc(o);s.call(u)}}var o=B0(e,r,t,0,null,!1,!1,"",av);return t._reactRootContainer=o,t[Kn]=o.current,ia(t.nodeType===8?t.parentNode:t),Ii(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=vc(c);l.call(u)}}var c=vp(t,0,!1,null,null,!1,!1,"",av);return t._reactRootContainer=c,t[Kn]=c.current,ia(t.nodeType===8?t.parentNode:t),Ii(function(){cu(e,c,n,r)}),c}function hu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=vc(o);l.call(c)}}cu(e,o,t,i)}else o=mx(n,e,t,i,r);return vc(o)}mw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ro(e.pendingLanes);n!==0&&(Bf(e,n|1),Nt(e,Be()),!(ue&6)&&(Ms=Be()+500,Kr()))}break;case 13:Ii(function(){var r=qn(t,1);if(r!==null){var i=wt();dn(r,t,1,i)}}),yp(t,1)}};$f=function(t){if(t.tag===13){var e=qn(t,134217728);if(e!==null){var n=wt();dn(e,t,134217728,n)}yp(t,134217728)}};gw=function(t){if(t.tag===13){var e=Ar(t),n=qn(t,e);if(n!==null){var r=wt();dn(n,t,e,r)}yp(t,e)}};_w=function(){return ge};vw=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};vh=function(t,e,n){switch(e){case"input":if(dh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nu(r);if(!i)throw Error(R(90));Qy(r),dh(r,i)}}}break;case"textarea":Xy(t,n);break;case"select":e=n.value,e!=null&&ys(t,!!n.multiple,e,!1)}};iw=pp;sw=Ii;var gx={usingClientEntryPoint:!1,Events:[Na,cs,nu,nw,rw,pp]},To={findFiberByHostInstance:pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},_x={bundleType:To.bundleType,version:To.version,rendererPackageName:To.rendererPackageName,rendererConfig:To.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lw(t),t===null?null:t.stateNode},findFiberByHostInstance:To.findFiberByHostInstance||px,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{Jc=Nl.inject(_x),kn=Nl}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gx;Ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ep(e))throw Error(R(200));return fx(t,e,null,n)};Ft.createRoot=function(t,e){if(!Ep(t))throw Error(R(299));var n=!1,r="",i=$0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vp(t,1,!1,null,null,n,!1,r,i),t[Kn]=e.current,ia(t.nodeType===8?t.parentNode:t),new wp(e)};Ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=lw(e),t=t===null?null:t.stateNode,t};Ft.flushSync=function(t){return Ii(t)};Ft.hydrate=function(t,e,n){if(!du(e))throw Error(R(200));return hu(null,t,e,!0,n)};Ft.hydrateRoot=function(t,e,n){if(!Ep(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=$0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=B0(e,null,t,1,n??null,i,!1,s,o),t[Kn]=e.current,ia(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new uu(e)};Ft.render=function(t,e,n){if(!du(e))throw Error(R(200));return hu(null,t,e,!1,n)};Ft.unmountComponentAtNode=function(t){if(!du(t))throw Error(R(40));return t._reactRootContainer?(Ii(function(){hu(null,null,t,!1,function(){t._reactRootContainer=null,t[Kn]=null})}),!0):!1};Ft.unstable_batchedUpdates=pp;Ft.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!du(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return hu(t,e,n,!1,r)};Ft.version="18.2.0-next-9e3b772b8-20220608";function W0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W0)}catch(t){console.error(t)}}W0(),By.exports=Ft;var vx=By.exports,lv=vx;ih.createRoot=lv.createRoot,ih.hydrateRoot=lv.hydrateRoot;var yx={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(HT,function(){const n=new Map,r={set(h,a,d){n.has(h)||n.set(h,new Map);const g=n.get(h);g.has(a)||g.size===0?g.set(a,d):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(g.keys())[0]}.`)},get:(h,a)=>n.has(h)&&n.get(h).get(a)||null,remove(h,a){if(!n.has(h))return;const d=n.get(h);d.delete(a),d.size===0&&n.delete(h)}},i="transitionend",s=h=>(h&&window.CSS&&window.CSS.escape&&(h=h.replace(/#([^\s"#']+)/g,(a,d)=>`#${CSS.escape(d)}`)),h),o=h=>{h.dispatchEvent(new Event(i))},l=h=>!(!h||typeof h!="object")&&(h.jquery!==void 0&&(h=h[0]),h.nodeType!==void 0),c=h=>l(h)?h.jquery?h[0]:h:typeof h=="string"&&h.length>0?document.querySelector(s(h)):null,u=h=>{if(!l(h)||h.getClientRects().length===0)return!1;const a=getComputedStyle(h).getPropertyValue("visibility")==="visible",d=h.closest("details:not([open])");if(!d)return a;if(d!==h){const g=h.closest("summary");if(g&&g.parentNode!==d||g===null)return!1}return a},p=h=>!h||h.nodeType!==Node.ELEMENT_NODE||!!h.classList.contains("disabled")||(h.disabled!==void 0?h.disabled:h.hasAttribute("disabled")&&h.getAttribute("disabled")!=="false"),f=h=>{if(!document.documentElement.attachShadow)return null;if(typeof h.getRootNode=="function"){const a=h.getRootNode();return a instanceof ShadowRoot?a:null}return h instanceof ShadowRoot?h:h.parentNode?f(h.parentNode):null},_=()=>{},E=h=>{h.offsetHeight},S=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,I=[],P=()=>document.documentElement.dir==="rtl",y=h=>{var a;a=()=>{const d=S();if(d){const g=h.NAME,C=d.fn[g];d.fn[g]=h.jQueryInterface,d.fn[g].Constructor=h,d.fn[g].noConflict=()=>(d.fn[g]=C,h.jQueryInterface)}},document.readyState==="loading"?(I.length||document.addEventListener("DOMContentLoaded",()=>{for(const d of I)d()}),I.push(a)):a()},v=(h,a=[],d=h)=>typeof h=="function"?h(...a):d,w=(h,a,d=!0)=>{if(!d)return void v(h);const g=(b=>{if(!b)return 0;let{transitionDuration:A,transitionDelay:D}=window.getComputedStyle(b);const U=Number.parseFloat(A),W=Number.parseFloat(D);return U||W?(A=A.split(",")[0],D=D.split(",")[0],1e3*(Number.parseFloat(A)+Number.parseFloat(D))):0})(a)+5;let C=!1;const k=({target:b})=>{b===a&&(C=!0,a.removeEventListener(i,k),v(h))};a.addEventListener(i,k),setTimeout(()=>{C||o(a)},g)},N=(h,a,d,g)=>{const C=h.length;let k=h.indexOf(a);return k===-1?!d&&g?h[C-1]:h[0]:(k+=d?1:-1,g&&(k=(k+C)%C),h[Math.max(0,Math.min(k,C-1))])},L=/[^.]*(?=\..*)\.|.*/,j=/\..*/,$=/::\d+$/,z={};let fe=1;const Q={mouseenter:"mouseover",mouseleave:"mouseout"},ft=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function nr(h,a){return a&&`${a}::${fe++}`||h.uidEvent||fe++}function rr(h){const a=nr(h);return h.uidEvent=a,z[a]=z[a]||{},z[a]}function oo(h,a,d=null){return Object.values(h).find(g=>g.callable===a&&g.delegationSelector===d)}function Ha(h,a,d){const g=typeof a=="string",C=g?d:a||d;let k=Y(h);return ft.has(k)||(k=h),[g,C,k]}function Ui(h,a,d,g,C){if(typeof a!="string"||!h)return;let[k,b,A]=Ha(a,d,g);a in Q&&(b=(X=>function(q){if(!q.relatedTarget||q.relatedTarget!==q.delegateTarget&&!q.delegateTarget.contains(q.relatedTarget))return X.call(this,q)})(b));const D=rr(h),U=D[A]||(D[A]={}),W=oo(U,b,k?d:null);if(W)return void(W.oneOff=W.oneOff&&C);const M=nr(b,a.replace(L,"")),Z=k?function(H,X,q){return function J(ve){const Ce=H.querySelectorAll(X);for(let{target:te}=ve;te&&te!==this;te=te.parentNode)for(const he of Ce)if(he===te)return Ie(ve,{delegateTarget:te}),J.oneOff&&x.off(H,ve.type,X,q),q.apply(te,[ve])}}(h,d,b):function(H,X){return function q(J){return Ie(J,{delegateTarget:H}),q.oneOff&&x.off(H,J.type,X),X.apply(H,[J])}}(h,b);Z.delegationSelector=k?d:null,Z.callable=b,Z.oneOff=C,Z.uidEvent=M,U[M]=Z,h.addEventListener(A,Z,k)}function Jr(h,a,d,g,C){const k=oo(a[d],g,C);k&&(h.removeEventListener(d,k,!!C),delete a[d][k.uidEvent])}function F(h,a,d,g){const C=a[d]||{};for(const[k,b]of Object.entries(C))k.includes(g)&&Jr(h,a,d,b.callable,b.delegationSelector)}function Y(h){return h=h.replace(j,""),Q[h]||h}const x={on(h,a,d,g){Ui(h,a,d,g,!1)},one(h,a,d,g){Ui(h,a,d,g,!0)},off(h,a,d,g){if(typeof a!="string"||!h)return;const[C,k,b]=Ha(a,d,g),A=b!==a,D=rr(h),U=D[b]||{},W=a.startsWith(".");if(k===void 0){if(W)for(const M of Object.keys(D))F(h,D,M,a.slice(1));for(const[M,Z]of Object.entries(U)){const H=M.replace($,"");A&&!a.includes(H)||Jr(h,D,b,Z.callable,Z.delegationSelector)}}else{if(!Object.keys(U).length)return;Jr(h,D,b,k,C?d:null)}},trigger(h,a,d){if(typeof a!="string"||!h)return null;const g=S();let C=null,k=!0,b=!0,A=!1;a!==Y(a)&&g&&(C=g.Event(a,d),g(h).trigger(C),k=!C.isPropagationStopped(),b=!C.isImmediatePropagationStopped(),A=C.isDefaultPrevented());const D=Ie(new Event(a,{bubbles:k,cancelable:!0}),d);return A&&D.preventDefault(),b&&h.dispatchEvent(D),D.defaultPrevented&&C&&C.preventDefault(),D}};function Ie(h,a={}){for(const[d,g]of Object.entries(a))try{h[d]=g}catch{Object.defineProperty(h,d,{configurable:!0,get:()=>g})}return h}function Fe(h){if(h==="true")return!0;if(h==="false")return!1;if(h===Number(h).toString())return Number(h);if(h===""||h==="null")return null;if(typeof h!="string")return h;try{return JSON.parse(decodeURIComponent(h))}catch{return h}}function ir(h){return h.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)}const Ze={setDataAttribute(h,a,d){h.setAttribute(`data-bs-${ir(a)}`,d)},removeDataAttribute(h,a){h.removeAttribute(`data-bs-${ir(a)}`)},getDataAttributes(h){if(!h)return{};const a={},d=Object.keys(h.dataset).filter(g=>g.startsWith("bs")&&!g.startsWith("bsConfig"));for(const g of d){let C=g.replace(/^bs/,"");C=C.charAt(0).toLowerCase()+C.slice(1,C.length),a[C]=Fe(h.dataset[g])}return a},getDataAttribute:(h,a)=>Fe(h.getAttribute(`data-bs-${ir(a)}`))};class An{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(a){return a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a}_mergeConfigObj(a,d){const g=l(d)?Ze.getDataAttribute(d,"config"):{};return{...this.constructor.Default,...typeof g=="object"?g:{},...l(d)?Ze.getDataAttributes(d):{},...typeof a=="object"?a:{}}}_typeCheckConfig(a,d=this.constructor.DefaultType){for(const[C,k]of Object.entries(d)){const b=a[C],A=l(b)?"element":(g=b)==null?`${g}`:Object.prototype.toString.call(g).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(k).test(A))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${C}" provided type "${A}" but expected type "${k}".`)}var g}}class We extends An{constructor(a,d){super(),(a=c(a))&&(this._element=a,this._config=this._getConfig(d),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),x.off(this._element,this.constructor.EVENT_KEY);for(const a of Object.getOwnPropertyNames(this))this[a]=null}_queueCallback(a,d,g=!0){w(a,d,g)}_getConfig(a){return a=this._mergeConfigObj(a,this._element),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}static getInstance(a){return r.get(c(a),this.DATA_KEY)}static getOrCreateInstance(a,d={}){return this.getInstance(a)||new this(a,typeof d=="object"?d:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(a){return`${a}${this.EVENT_KEY}`}}const sr=h=>{let a=h.getAttribute("data-bs-target");if(!a||a==="#"){let d=h.getAttribute("href");if(!d||!d.includes("#")&&!d.startsWith("."))return null;d.includes("#")&&!d.startsWith("#")&&(d=`#${d.split("#")[1]}`),a=d&&d!=="#"?d.trim():null}return a?a.split(",").map(d=>s(d)).join(","):null},V={find:(h,a=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(a,h)),findOne:(h,a=document.documentElement)=>Element.prototype.querySelector.call(a,h),children:(h,a)=>[].concat(...h.children).filter(d=>d.matches(a)),parents(h,a){const d=[];let g=h.parentNode.closest(a);for(;g;)d.push(g),g=g.parentNode.closest(a);return d},prev(h,a){let d=h.previousElementSibling;for(;d;){if(d.matches(a))return[d];d=d.previousElementSibling}return[]},next(h,a){let d=h.nextElementSibling;for(;d;){if(d.matches(a))return[d];d=d.nextElementSibling}return[]},focusableChildren(h){const a=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(d=>`${d}:not([tabindex^="-"])`).join(",");return this.find(a,h).filter(d=>!p(d)&&u(d))},getSelectorFromElement(h){const a=sr(h);return a&&V.findOne(a)?a:null},getElementFromSelector(h){const a=sr(h);return a?V.findOne(a):null},getMultipleElementsFromSelector(h){const a=sr(h);return a?V.find(a):[]}},Ga=(h,a="hide")=>{const d=`click.dismiss${h.EVENT_KEY}`,g=h.NAME;x.on(document,d,`[data-bs-dismiss="${g}"]`,function(C){if(["A","AREA"].includes(this.tagName)&&C.preventDefault(),p(this))return;const k=V.getElementFromSelector(this)||this.closest(`.${g}`);h.getOrCreateInstance(k)[a]()})},Cm=".bs.alert",NS=`close${Cm}`,PS=`closed${Cm}`;class ao extends We{static get NAME(){return"alert"}close(){if(x.trigger(this._element,NS).defaultPrevented)return;this._element.classList.remove("show");const a=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),x.trigger(this._element,PS),this.dispose()}static jQueryInterface(a){return this.each(function(){const d=ao.getOrCreateInstance(this);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a](this)}})}}Ga(ao,"close"),y(ao);const Sm='[data-bs-toggle="button"]';class lo extends We{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(a){return this.each(function(){const d=lo.getOrCreateInstance(this);a==="toggle"&&d[a]()})}}x.on(document,"click.bs.button.data-api",Sm,h=>{h.preventDefault();const a=h.target.closest(Sm);lo.getOrCreateInstance(a).toggle()}),y(lo);const Bi=".bs.swipe",AS=`touchstart${Bi}`,RS=`touchmove${Bi}`,OS=`touchend${Bi}`,DS=`pointerdown${Bi}`,LS=`pointerup${Bi}`,MS={endCallback:null,leftCallback:null,rightCallback:null},jS={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ka extends An{constructor(a,d){super(),this._element=a,a&&Ka.isSupported()&&(this._config=this._getConfig(d),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return MS}static get DefaultType(){return jS}static get NAME(){return"swipe"}dispose(){x.off(this._element,Bi)}_start(a){this._supportPointerEvents?this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX):this._deltaX=a.touches[0].clientX}_end(a){this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX-this._deltaX),this._handleSwipe(),v(this._config.endCallback)}_move(a){this._deltaX=a.touches&&a.touches.length>1?0:a.touches[0].clientX-this._deltaX}_handleSwipe(){const a=Math.abs(this._deltaX);if(a<=40)return;const d=a/this._deltaX;this._deltaX=0,d&&v(d>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(x.on(this._element,DS,a=>this._start(a)),x.on(this._element,LS,a=>this._end(a)),this._element.classList.add("pointer-event")):(x.on(this._element,AS,a=>this._start(a)),x.on(this._element,RS,a=>this._move(a)),x.on(this._element,OS,a=>this._end(a)))}_eventIsPointerPenTouch(a){return this._supportPointerEvents&&(a.pointerType==="pen"||a.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const or=".bs.carousel",km=".data-api",co="next",$i="prev",Wi="left",qa="right",FS=`slide${or}`,Fu=`slid${or}`,US=`keydown${or}`,BS=`mouseenter${or}`,$S=`mouseleave${or}`,WS=`dragstart${or}`,zS=`load${or}${km}`,VS=`click${or}${km}`,Tm="carousel",Qa="active",Im=".active",xm=".carousel-item",HS=Im+xm,GS={ArrowLeft:qa,ArrowRight:Wi},KS={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},qS={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class zi extends We{constructor(a,d){super(a,d),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=V.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Tm&&this.cycle()}static get Default(){return KS}static get DefaultType(){return qS}static get NAME(){return"carousel"}next(){this._slide(co)}nextWhenVisible(){!document.hidden&&u(this._element)&&this.next()}prev(){this._slide($i)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?x.one(this._element,Fu,()=>this.cycle()):this.cycle())}to(a){const d=this._getItems();if(a>d.length-1||a<0)return;if(this._isSliding)return void x.one(this._element,Fu,()=>this.to(a));const g=this._getItemIndex(this._getActive());if(g===a)return;const C=a>g?co:$i;this._slide(C,d[a])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(a){return a.defaultInterval=a.interval,a}_addEventListeners(){this._config.keyboard&&x.on(this._element,US,a=>this._keydown(a)),this._config.pause==="hover"&&(x.on(this._element,BS,()=>this.pause()),x.on(this._element,$S,()=>this._maybeEnableCycle())),this._config.touch&&Ka.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const d of V.find(".carousel-item img",this._element))x.on(d,WS,g=>g.preventDefault());const a={leftCallback:()=>this._slide(this._directionToOrder(Wi)),rightCallback:()=>this._slide(this._directionToOrder(qa)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Ka(this._element,a)}_keydown(a){if(/input|textarea/i.test(a.target.tagName))return;const d=GS[a.key];d&&(a.preventDefault(),this._slide(this._directionToOrder(d)))}_getItemIndex(a){return this._getItems().indexOf(a)}_setActiveIndicatorElement(a){if(!this._indicatorsElement)return;const d=V.findOne(Im,this._indicatorsElement);d.classList.remove(Qa),d.removeAttribute("aria-current");const g=V.findOne(`[data-bs-slide-to="${a}"]`,this._indicatorsElement);g&&(g.classList.add(Qa),g.setAttribute("aria-current","true"))}_updateInterval(){const a=this._activeElement||this._getActive();if(!a)return;const d=Number.parseInt(a.getAttribute("data-bs-interval"),10);this._config.interval=d||this._config.defaultInterval}_slide(a,d=null){if(this._isSliding)return;const g=this._getActive(),C=a===co,k=d||N(this._getItems(),g,C,this._config.wrap);if(k===g)return;const b=this._getItemIndex(k),A=M=>x.trigger(this._element,M,{relatedTarget:k,direction:this._orderToDirection(a),from:this._getItemIndex(g),to:b});if(A(FS).defaultPrevented||!g||!k)return;const D=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(b),this._activeElement=k;const U=C?"carousel-item-start":"carousel-item-end",W=C?"carousel-item-next":"carousel-item-prev";k.classList.add(W),E(k),g.classList.add(U),k.classList.add(U),this._queueCallback(()=>{k.classList.remove(U,W),k.classList.add(Qa),g.classList.remove(Qa,W,U),this._isSliding=!1,A(Fu)},g,this._isAnimated()),D&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return V.findOne(HS,this._element)}_getItems(){return V.find(xm,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(a){return P()?a===Wi?$i:co:a===Wi?co:$i}_orderToDirection(a){return P()?a===$i?Wi:qa:a===$i?qa:Wi}static jQueryInterface(a){return this.each(function(){const d=zi.getOrCreateInstance(this,a);if(typeof a!="number"){if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a]()}}else d.to(a)})}}x.on(document,VS,"[data-bs-slide], [data-bs-slide-to]",function(h){const a=V.getElementFromSelector(this);if(!a||!a.classList.contains(Tm))return;h.preventDefault();const d=zi.getOrCreateInstance(a),g=this.getAttribute("data-bs-slide-to");return g?(d.to(g),void d._maybeEnableCycle()):Ze.getDataAttribute(this,"slide")==="next"?(d.next(),void d._maybeEnableCycle()):(d.prev(),void d._maybeEnableCycle())}),x.on(window,zS,()=>{const h=V.find('[data-bs-ride="carousel"]');for(const a of h)zi.getOrCreateInstance(a)}),y(zi);const uo=".bs.collapse",QS=`show${uo}`,YS=`shown${uo}`,XS=`hide${uo}`,JS=`hidden${uo}`,ZS=`click${uo}.data-api`,Uu="show",Vi="collapse",Ya="collapsing",ek=`:scope .${Vi} .${Vi}`,Bu='[data-bs-toggle="collapse"]',tk={parent:null,toggle:!0},nk={parent:"(null|element)",toggle:"boolean"};class Hi extends We{constructor(a,d){super(a,d),this._isTransitioning=!1,this._triggerArray=[];const g=V.find(Bu);for(const C of g){const k=V.getSelectorFromElement(C),b=V.find(k).filter(A=>A===this._element);k!==null&&b.length&&this._triggerArray.push(C)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return tk}static get DefaultType(){return nk}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let a=[];if(this._config.parent&&(a=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(C=>C!==this._element).map(C=>Hi.getOrCreateInstance(C,{toggle:!1}))),a.length&&a[0]._isTransitioning||x.trigger(this._element,QS).defaultPrevented)return;for(const C of a)C.hide();const d=this._getDimension();this._element.classList.remove(Vi),this._element.classList.add(Ya),this._element.style[d]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const g=`scroll${d[0].toUpperCase()+d.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ya),this._element.classList.add(Vi,Uu),this._element.style[d]="",x.trigger(this._element,YS)},this._element,!0),this._element.style[d]=`${this._element[g]}px`}hide(){if(this._isTransitioning||!this._isShown()||x.trigger(this._element,XS).defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,E(this._element),this._element.classList.add(Ya),this._element.classList.remove(Vi,Uu);for(const d of this._triggerArray){const g=V.getElementFromSelector(d);g&&!this._isShown(g)&&this._addAriaAndCollapsedClass([d],!1)}this._isTransitioning=!0,this._element.style[a]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ya),this._element.classList.add(Vi),x.trigger(this._element,JS)},this._element,!0)}_isShown(a=this._element){return a.classList.contains(Uu)}_configAfterMerge(a){return a.toggle=!!a.toggle,a.parent=c(a.parent),a}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const a=this._getFirstLevelChildren(Bu);for(const d of a){const g=V.getElementFromSelector(d);g&&this._addAriaAndCollapsedClass([d],this._isShown(g))}}_getFirstLevelChildren(a){const d=V.find(ek,this._config.parent);return V.find(a,this._config.parent).filter(g=>!d.includes(g))}_addAriaAndCollapsedClass(a,d){if(a.length)for(const g of a)g.classList.toggle("collapsed",!d),g.setAttribute("aria-expanded",d)}static jQueryInterface(a){const d={};return typeof a=="string"&&/show|hide/.test(a)&&(d.toggle=!1),this.each(function(){const g=Hi.getOrCreateInstance(this,d);if(typeof a=="string"){if(g[a]===void 0)throw new TypeError(`No method named "${a}"`);g[a]()}})}}x.on(document,ZS,Bu,function(h){(h.target.tagName==="A"||h.delegateTarget&&h.delegateTarget.tagName==="A")&&h.preventDefault();for(const a of V.getMultipleElementsFromSelector(this))Hi.getOrCreateInstance(a,{toggle:!1}).toggle()}),y(Hi);var pt="top",Pt="bottom",At="right",mt="left",Xa="auto",Gi=[pt,Pt,At,mt],Zr="start",Ki="end",bm="clippingParents",$u="viewport",qi="popper",Nm="reference",Wu=Gi.reduce(function(h,a){return h.concat([a+"-"+Zr,a+"-"+Ki])},[]),zu=[].concat(Gi,[Xa]).reduce(function(h,a){return h.concat([a,a+"-"+Zr,a+"-"+Ki])},[]),Pm="beforeRead",Am="read",Rm="afterRead",Om="beforeMain",Dm="main",Lm="afterMain",Mm="beforeWrite",jm="write",Fm="afterWrite",Um=[Pm,Am,Rm,Om,Dm,Lm,Mm,jm,Fm];function gn(h){return h?(h.nodeName||"").toLowerCase():null}function Rt(h){if(h==null)return window;if(h.toString()!=="[object Window]"){var a=h.ownerDocument;return a&&a.defaultView||window}return h}function ei(h){return h instanceof Rt(h).Element||h instanceof Element}function Bt(h){return h instanceof Rt(h).HTMLElement||h instanceof HTMLElement}function Vu(h){return typeof ShadowRoot<"u"&&(h instanceof Rt(h).ShadowRoot||h instanceof ShadowRoot)}const Hu={name:"applyStyles",enabled:!0,phase:"write",fn:function(h){var a=h.state;Object.keys(a.elements).forEach(function(d){var g=a.styles[d]||{},C=a.attributes[d]||{},k=a.elements[d];Bt(k)&&gn(k)&&(Object.assign(k.style,g),Object.keys(C).forEach(function(b){var A=C[b];A===!1?k.removeAttribute(b):k.setAttribute(b,A===!0?"":A)}))})},effect:function(h){var a=h.state,d={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,d.popper),a.styles=d,a.elements.arrow&&Object.assign(a.elements.arrow.style,d.arrow),function(){Object.keys(a.elements).forEach(function(g){var C=a.elements[g],k=a.attributes[g]||{},b=Object.keys(a.styles.hasOwnProperty(g)?a.styles[g]:d[g]).reduce(function(A,D){return A[D]="",A},{});Bt(C)&&gn(C)&&(Object.assign(C.style,b),Object.keys(k).forEach(function(A){C.removeAttribute(A)}))})}},requires:["computeStyles"]};function _n(h){return h.split("-")[0]}var ti=Math.max,Ja=Math.min,Qi=Math.round;function Gu(){var h=navigator.userAgentData;return h!=null&&h.brands&&Array.isArray(h.brands)?h.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function Bm(){return!/^((?!chrome|android).)*safari/i.test(Gu())}function Yi(h,a,d){a===void 0&&(a=!1),d===void 0&&(d=!1);var g=h.getBoundingClientRect(),C=1,k=1;a&&Bt(h)&&(C=h.offsetWidth>0&&Qi(g.width)/h.offsetWidth||1,k=h.offsetHeight>0&&Qi(g.height)/h.offsetHeight||1);var b=(ei(h)?Rt(h):window).visualViewport,A=!Bm()&&d,D=(g.left+(A&&b?b.offsetLeft:0))/C,U=(g.top+(A&&b?b.offsetTop:0))/k,W=g.width/C,M=g.height/k;return{width:W,height:M,top:U,right:D+W,bottom:U+M,left:D,x:D,y:U}}function Ku(h){var a=Yi(h),d=h.offsetWidth,g=h.offsetHeight;return Math.abs(a.width-d)<=1&&(d=a.width),Math.abs(a.height-g)<=1&&(g=a.height),{x:h.offsetLeft,y:h.offsetTop,width:d,height:g}}function $m(h,a){var d=a.getRootNode&&a.getRootNode();if(h.contains(a))return!0;if(d&&Vu(d)){var g=a;do{if(g&&h.isSameNode(g))return!0;g=g.parentNode||g.host}while(g)}return!1}function Rn(h){return Rt(h).getComputedStyle(h)}function rk(h){return["table","td","th"].indexOf(gn(h))>=0}function ar(h){return((ei(h)?h.ownerDocument:h.document)||window.document).documentElement}function Za(h){return gn(h)==="html"?h:h.assignedSlot||h.parentNode||(Vu(h)?h.host:null)||ar(h)}function Wm(h){return Bt(h)&&Rn(h).position!=="fixed"?h.offsetParent:null}function ho(h){for(var a=Rt(h),d=Wm(h);d&&rk(d)&&Rn(d).position==="static";)d=Wm(d);return d&&(gn(d)==="html"||gn(d)==="body"&&Rn(d).position==="static")?a:d||function(g){var C=/firefox/i.test(Gu());if(/Trident/i.test(Gu())&&Bt(g)&&Rn(g).position==="fixed")return null;var k=Za(g);for(Vu(k)&&(k=k.host);Bt(k)&&["html","body"].indexOf(gn(k))<0;){var b=Rn(k);if(b.transform!=="none"||b.perspective!=="none"||b.contain==="paint"||["transform","perspective"].indexOf(b.willChange)!==-1||C&&b.willChange==="filter"||C&&b.filter&&b.filter!=="none")return k;k=k.parentNode}return null}(h)||a}function qu(h){return["top","bottom"].indexOf(h)>=0?"x":"y"}function fo(h,a,d){return ti(h,Ja(a,d))}function zm(h){return Object.assign({},{top:0,right:0,bottom:0,left:0},h)}function Vm(h,a){return a.reduce(function(d,g){return d[g]=h,d},{})}const Hm={name:"arrow",enabled:!0,phase:"main",fn:function(h){var a,d=h.state,g=h.name,C=h.options,k=d.elements.arrow,b=d.modifiersData.popperOffsets,A=_n(d.placement),D=qu(A),U=[mt,At].indexOf(A)>=0?"height":"width";if(k&&b){var W=function(ye,me){return zm(typeof(ye=typeof ye=="function"?ye(Object.assign({},me.rects,{placement:me.placement})):ye)!="number"?ye:Vm(ye,Gi))}(C.padding,d),M=Ku(k),Z=D==="y"?pt:mt,H=D==="y"?Pt:At,X=d.rects.reference[U]+d.rects.reference[D]-b[D]-d.rects.popper[U],q=b[D]-d.rects.reference[D],J=ho(k),ve=J?D==="y"?J.clientHeight||0:J.clientWidth||0:0,Ce=X/2-q/2,te=W[Z],he=ve-M[U]-W[H],ee=ve/2-M[U]/2+Ce,oe=fo(te,ee,he),pe=D;d.modifiersData[g]=((a={})[pe]=oe,a.centerOffset=oe-ee,a)}},effect:function(h){var a=h.state,d=h.options.element,g=d===void 0?"[data-popper-arrow]":d;g!=null&&(typeof g!="string"||(g=a.elements.popper.querySelector(g)))&&$m(a.elements.popper,g)&&(a.elements.arrow=g)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xi(h){return h.split("-")[1]}var ik={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Gm(h){var a,d=h.popper,g=h.popperRect,C=h.placement,k=h.variation,b=h.offsets,A=h.position,D=h.gpuAcceleration,U=h.adaptive,W=h.roundOffsets,M=h.isFixed,Z=b.x,H=Z===void 0?0:Z,X=b.y,q=X===void 0?0:X,J=typeof W=="function"?W({x:H,y:q}):{x:H,y:q};H=J.x,q=J.y;var ve=b.hasOwnProperty("x"),Ce=b.hasOwnProperty("y"),te=mt,he=pt,ee=window;if(U){var oe=ho(d),pe="clientHeight",ye="clientWidth";oe===Rt(d)&&Rn(oe=ar(d)).position!=="static"&&A==="absolute"&&(pe="scrollHeight",ye="scrollWidth"),(C===pt||(C===mt||C===At)&&k===Ki)&&(he=Pt,q-=(M&&oe===ee&&ee.visualViewport?ee.visualViewport.height:oe[pe])-g.height,q*=D?1:-1),C!==mt&&(C!==pt&&C!==Pt||k!==Ki)||(te=At,H-=(M&&oe===ee&&ee.visualViewport?ee.visualViewport.width:oe[ye])-g.width,H*=D?1:-1)}var me,Ue=Object.assign({position:A},U&&ik),Ot=W===!0?function(nn,gt){var Wt=nn.x,zt=nn.y,Le=gt.devicePixelRatio||1;return{x:Qi(Wt*Le)/Le||0,y:Qi(zt*Le)/Le||0}}({x:H,y:q},Rt(d)):{x:H,y:q};return H=Ot.x,q=Ot.y,D?Object.assign({},Ue,((me={})[he]=Ce?"0":"",me[te]=ve?"0":"",me.transform=(ee.devicePixelRatio||1)<=1?"translate("+H+"px, "+q+"px)":"translate3d("+H+"px, "+q+"px, 0)",me)):Object.assign({},Ue,((a={})[he]=Ce?q+"px":"",a[te]=ve?H+"px":"",a.transform="",a))}const Qu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(h){var a=h.state,d=h.options,g=d.gpuAcceleration,C=g===void 0||g,k=d.adaptive,b=k===void 0||k,A=d.roundOffsets,D=A===void 0||A,U={placement:_n(a.placement),variation:Xi(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:C,isFixed:a.options.strategy==="fixed"};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,Gm(Object.assign({},U,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:b,roundOffsets:D})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,Gm(Object.assign({},U,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:D})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})},data:{}};var el={passive:!0};const Yu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(h){var a=h.state,d=h.instance,g=h.options,C=g.scroll,k=C===void 0||C,b=g.resize,A=b===void 0||b,D=Rt(a.elements.popper),U=[].concat(a.scrollParents.reference,a.scrollParents.popper);return k&&U.forEach(function(W){W.addEventListener("scroll",d.update,el)}),A&&D.addEventListener("resize",d.update,el),function(){k&&U.forEach(function(W){W.removeEventListener("scroll",d.update,el)}),A&&D.removeEventListener("resize",d.update,el)}},data:{}};var sk={left:"right",right:"left",bottom:"top",top:"bottom"};function tl(h){return h.replace(/left|right|bottom|top/g,function(a){return sk[a]})}var ok={start:"end",end:"start"};function Km(h){return h.replace(/start|end/g,function(a){return ok[a]})}function Xu(h){var a=Rt(h);return{scrollLeft:a.pageXOffset,scrollTop:a.pageYOffset}}function Ju(h){return Yi(ar(h)).left+Xu(h).scrollLeft}function Zu(h){var a=Rn(h),d=a.overflow,g=a.overflowX,C=a.overflowY;return/auto|scroll|overlay|hidden/.test(d+C+g)}function qm(h){return["html","body","#document"].indexOf(gn(h))>=0?h.ownerDocument.body:Bt(h)&&Zu(h)?h:qm(Za(h))}function po(h,a){var d;a===void 0&&(a=[]);var g=qm(h),C=g===((d=h.ownerDocument)==null?void 0:d.body),k=Rt(g),b=C?[k].concat(k.visualViewport||[],Zu(g)?g:[]):g,A=a.concat(b);return C?A:A.concat(po(Za(b)))}function ed(h){return Object.assign({},h,{left:h.x,top:h.y,right:h.x+h.width,bottom:h.y+h.height})}function Qm(h,a,d){return a===$u?ed(function(g,C){var k=Rt(g),b=ar(g),A=k.visualViewport,D=b.clientWidth,U=b.clientHeight,W=0,M=0;if(A){D=A.width,U=A.height;var Z=Bm();(Z||!Z&&C==="fixed")&&(W=A.offsetLeft,M=A.offsetTop)}return{width:D,height:U,x:W+Ju(g),y:M}}(h,d)):ei(a)?function(g,C){var k=Yi(g,!1,C==="fixed");return k.top=k.top+g.clientTop,k.left=k.left+g.clientLeft,k.bottom=k.top+g.clientHeight,k.right=k.left+g.clientWidth,k.width=g.clientWidth,k.height=g.clientHeight,k.x=k.left,k.y=k.top,k}(a,d):ed(function(g){var C,k=ar(g),b=Xu(g),A=(C=g.ownerDocument)==null?void 0:C.body,D=ti(k.scrollWidth,k.clientWidth,A?A.scrollWidth:0,A?A.clientWidth:0),U=ti(k.scrollHeight,k.clientHeight,A?A.scrollHeight:0,A?A.clientHeight:0),W=-b.scrollLeft+Ju(g),M=-b.scrollTop;return Rn(A||k).direction==="rtl"&&(W+=ti(k.clientWidth,A?A.clientWidth:0)-D),{width:D,height:U,x:W,y:M}}(ar(h)))}function Ym(h){var a,d=h.reference,g=h.element,C=h.placement,k=C?_n(C):null,b=C?Xi(C):null,A=d.x+d.width/2-g.width/2,D=d.y+d.height/2-g.height/2;switch(k){case pt:a={x:A,y:d.y-g.height};break;case Pt:a={x:A,y:d.y+d.height};break;case At:a={x:d.x+d.width,y:D};break;case mt:a={x:d.x-g.width,y:D};break;default:a={x:d.x,y:d.y}}var U=k?qu(k):null;if(U!=null){var W=U==="y"?"height":"width";switch(b){case Zr:a[U]=a[U]-(d[W]/2-g[W]/2);break;case Ki:a[U]=a[U]+(d[W]/2-g[W]/2)}}return a}function Ji(h,a){a===void 0&&(a={});var d=a,g=d.placement,C=g===void 0?h.placement:g,k=d.strategy,b=k===void 0?h.strategy:k,A=d.boundary,D=A===void 0?bm:A,U=d.rootBoundary,W=U===void 0?$u:U,M=d.elementContext,Z=M===void 0?qi:M,H=d.altBoundary,X=H!==void 0&&H,q=d.padding,J=q===void 0?0:q,ve=zm(typeof J!="number"?J:Vm(J,Gi)),Ce=Z===qi?Nm:qi,te=h.rects.popper,he=h.elements[X?Ce:Z],ee=function(gt,Wt,zt,Le){var vn=Wt==="clippingParents"?function(Ee){var _t=po(Za(Ee)),Vt=["absolute","fixed"].indexOf(Rn(Ee).position)>=0&&Bt(Ee)?ho(Ee):Ee;return ei(Vt)?_t.filter(function(cr){return ei(cr)&&$m(cr,Vt)&&gn(cr)!=="body"}):[]}(gt):[].concat(Wt),yn=[].concat(vn,[zt]),ts=yn[0],Ke=yn.reduce(function(Ee,_t){var Vt=Qm(gt,_t,Le);return Ee.top=ti(Vt.top,Ee.top),Ee.right=Ja(Vt.right,Ee.right),Ee.bottom=Ja(Vt.bottom,Ee.bottom),Ee.left=ti(Vt.left,Ee.left),Ee},Qm(gt,ts,Le));return Ke.width=Ke.right-Ke.left,Ke.height=Ke.bottom-Ke.top,Ke.x=Ke.left,Ke.y=Ke.top,Ke}(ei(he)?he:he.contextElement||ar(h.elements.popper),D,W,b),oe=Yi(h.elements.reference),pe=Ym({reference:oe,element:te,strategy:"absolute",placement:C}),ye=ed(Object.assign({},te,pe)),me=Z===qi?ye:oe,Ue={top:ee.top-me.top+ve.top,bottom:me.bottom-ee.bottom+ve.bottom,left:ee.left-me.left+ve.left,right:me.right-ee.right+ve.right},Ot=h.modifiersData.offset;if(Z===qi&&Ot){var nn=Ot[C];Object.keys(Ue).forEach(function(gt){var Wt=[At,Pt].indexOf(gt)>=0?1:-1,zt=[pt,Pt].indexOf(gt)>=0?"y":"x";Ue[gt]+=nn[zt]*Wt})}return Ue}function ak(h,a){a===void 0&&(a={});var d=a,g=d.placement,C=d.boundary,k=d.rootBoundary,b=d.padding,A=d.flipVariations,D=d.allowedAutoPlacements,U=D===void 0?zu:D,W=Xi(g),M=W?A?Wu:Wu.filter(function(X){return Xi(X)===W}):Gi,Z=M.filter(function(X){return U.indexOf(X)>=0});Z.length===0&&(Z=M);var H=Z.reduce(function(X,q){return X[q]=Ji(h,{placement:q,boundary:C,rootBoundary:k,padding:b})[_n(q)],X},{});return Object.keys(H).sort(function(X,q){return H[X]-H[q]})}const Xm={name:"flip",enabled:!0,phase:"main",fn:function(h){var a=h.state,d=h.options,g=h.name;if(!a.modifiersData[g]._skip){for(var C=d.mainAxis,k=C===void 0||C,b=d.altAxis,A=b===void 0||b,D=d.fallbackPlacements,U=d.padding,W=d.boundary,M=d.rootBoundary,Z=d.altBoundary,H=d.flipVariations,X=H===void 0||H,q=d.allowedAutoPlacements,J=a.options.placement,ve=_n(J),Ce=D||(ve!==J&&X?function(Ee){if(_n(Ee)===Xa)return[];var _t=tl(Ee);return[Km(Ee),_t,Km(_t)]}(J):[tl(J)]),te=[J].concat(Ce).reduce(function(Ee,_t){return Ee.concat(_n(_t)===Xa?ak(a,{placement:_t,boundary:W,rootBoundary:M,padding:U,flipVariations:X,allowedAutoPlacements:q}):_t)},[]),he=a.rects.reference,ee=a.rects.popper,oe=new Map,pe=!0,ye=te[0],me=0;me<te.length;me++){var Ue=te[me],Ot=_n(Ue),nn=Xi(Ue)===Zr,gt=[pt,Pt].indexOf(Ot)>=0,Wt=gt?"width":"height",zt=Ji(a,{placement:Ue,boundary:W,rootBoundary:M,altBoundary:Z,padding:U}),Le=gt?nn?At:mt:nn?Pt:pt;he[Wt]>ee[Wt]&&(Le=tl(Le));var vn=tl(Le),yn=[];if(k&&yn.push(zt[Ot]<=0),A&&yn.push(zt[Le]<=0,zt[vn]<=0),yn.every(function(Ee){return Ee})){ye=Ue,pe=!1;break}oe.set(Ue,yn)}if(pe)for(var ts=function(Ee){var _t=te.find(function(Vt){var cr=oe.get(Vt);if(cr)return cr.slice(0,Ee).every(function(ul){return ul})});if(_t)return ye=_t,"break"},Ke=X?3:1;Ke>0&&ts(Ke)!=="break";Ke--);a.placement!==ye&&(a.modifiersData[g]._skip=!0,a.placement=ye,a.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Jm(h,a,d){return d===void 0&&(d={x:0,y:0}),{top:h.top-a.height-d.y,right:h.right-a.width+d.x,bottom:h.bottom-a.height+d.y,left:h.left-a.width-d.x}}function Zm(h){return[pt,At,Pt,mt].some(function(a){return h[a]>=0})}const eg={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(h){var a=h.state,d=h.name,g=a.rects.reference,C=a.rects.popper,k=a.modifiersData.preventOverflow,b=Ji(a,{elementContext:"reference"}),A=Ji(a,{altBoundary:!0}),D=Jm(b,g),U=Jm(A,C,k),W=Zm(D),M=Zm(U);a.modifiersData[d]={referenceClippingOffsets:D,popperEscapeOffsets:U,isReferenceHidden:W,hasPopperEscaped:M},a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-reference-hidden":W,"data-popper-escaped":M})}},tg={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(h){var a=h.state,d=h.options,g=h.name,C=d.offset,k=C===void 0?[0,0]:C,b=zu.reduce(function(W,M){return W[M]=function(Z,H,X){var q=_n(Z),J=[mt,pt].indexOf(q)>=0?-1:1,ve=typeof X=="function"?X(Object.assign({},H,{placement:Z})):X,Ce=ve[0],te=ve[1];return Ce=Ce||0,te=(te||0)*J,[mt,At].indexOf(q)>=0?{x:te,y:Ce}:{x:Ce,y:te}}(M,a.rects,k),W},{}),A=b[a.placement],D=A.x,U=A.y;a.modifiersData.popperOffsets!=null&&(a.modifiersData.popperOffsets.x+=D,a.modifiersData.popperOffsets.y+=U),a.modifiersData[g]=b}},td={name:"popperOffsets",enabled:!0,phase:"read",fn:function(h){var a=h.state,d=h.name;a.modifiersData[d]=Ym({reference:a.rects.reference,element:a.rects.popper,strategy:"absolute",placement:a.placement})},data:{}},ng={name:"preventOverflow",enabled:!0,phase:"main",fn:function(h){var a=h.state,d=h.options,g=h.name,C=d.mainAxis,k=C===void 0||C,b=d.altAxis,A=b!==void 0&&b,D=d.boundary,U=d.rootBoundary,W=d.altBoundary,M=d.padding,Z=d.tether,H=Z===void 0||Z,X=d.tetherOffset,q=X===void 0?0:X,J=Ji(a,{boundary:D,rootBoundary:U,padding:M,altBoundary:W}),ve=_n(a.placement),Ce=Xi(a.placement),te=!Ce,he=qu(ve),ee=he==="x"?"y":"x",oe=a.modifiersData.popperOffsets,pe=a.rects.reference,ye=a.rects.popper,me=typeof q=="function"?q(Object.assign({},a.rects,{placement:a.placement})):q,Ue=typeof me=="number"?{mainAxis:me,altAxis:me}:Object.assign({mainAxis:0,altAxis:0},me),Ot=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,nn={x:0,y:0};if(oe){if(k){var gt,Wt=he==="y"?pt:mt,zt=he==="y"?Pt:At,Le=he==="y"?"height":"width",vn=oe[he],yn=vn+J[Wt],ts=vn-J[zt],Ke=H?-ye[Le]/2:0,Ee=Ce===Zr?pe[Le]:ye[Le],_t=Ce===Zr?-ye[Le]:-pe[Le],Vt=a.elements.arrow,cr=H&&Vt?Ku(Vt):{width:0,height:0},ul=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Wg=ul[Wt],zg=ul[zt],dl=fo(0,pe[Le],cr[Le]),MT=te?pe[Le]/2-Ke-dl-Wg-Ue.mainAxis:Ee-dl-Wg-Ue.mainAxis,jT=te?-pe[Le]/2+Ke+dl+zg+Ue.mainAxis:_t+dl+zg+Ue.mainAxis,pd=a.elements.arrow&&ho(a.elements.arrow),FT=pd?he==="y"?pd.clientTop||0:pd.clientLeft||0:0,Vg=(gt=Ot==null?void 0:Ot[he])!=null?gt:0,UT=vn+jT-Vg,Hg=fo(H?Ja(yn,vn+MT-Vg-FT):yn,vn,H?ti(ts,UT):ts);oe[he]=Hg,nn[he]=Hg-vn}if(A){var Gg,BT=he==="x"?pt:mt,$T=he==="x"?Pt:At,ci=oe[ee],hl=ee==="y"?"height":"width",Kg=ci+J[BT],qg=ci-J[$T],md=[pt,mt].indexOf(ve)!==-1,Qg=(Gg=Ot==null?void 0:Ot[ee])!=null?Gg:0,Yg=md?Kg:ci-pe[hl]-ye[hl]-Qg+Ue.altAxis,Xg=md?ci+pe[hl]+ye[hl]-Qg-Ue.altAxis:qg,Jg=H&&md?function(WT,zT,gd){var Zg=fo(WT,zT,gd);return Zg>gd?gd:Zg}(Yg,ci,Xg):fo(H?Yg:Kg,ci,H?Xg:qg);oe[ee]=Jg,nn[ee]=Jg-ci}a.modifiersData[g]=nn}},requiresIfExists:["offset"]};function lk(h,a,d){d===void 0&&(d=!1);var g,C,k=Bt(a),b=Bt(a)&&function(M){var Z=M.getBoundingClientRect(),H=Qi(Z.width)/M.offsetWidth||1,X=Qi(Z.height)/M.offsetHeight||1;return H!==1||X!==1}(a),A=ar(a),D=Yi(h,b,d),U={scrollLeft:0,scrollTop:0},W={x:0,y:0};return(k||!k&&!d)&&((gn(a)!=="body"||Zu(A))&&(U=(g=a)!==Rt(g)&&Bt(g)?{scrollLeft:(C=g).scrollLeft,scrollTop:C.scrollTop}:Xu(g)),Bt(a)?((W=Yi(a,!0)).x+=a.clientLeft,W.y+=a.clientTop):A&&(W.x=Ju(A))),{x:D.left+U.scrollLeft-W.x,y:D.top+U.scrollTop-W.y,width:D.width,height:D.height}}function ck(h){var a=new Map,d=new Set,g=[];function C(k){d.add(k.name),[].concat(k.requires||[],k.requiresIfExists||[]).forEach(function(b){if(!d.has(b)){var A=a.get(b);A&&C(A)}}),g.push(k)}return h.forEach(function(k){a.set(k.name,k)}),h.forEach(function(k){d.has(k.name)||C(k)}),g}var rg={placement:"bottom",modifiers:[],strategy:"absolute"};function ig(){for(var h=arguments.length,a=new Array(h),d=0;d<h;d++)a[d]=arguments[d];return!a.some(function(g){return!(g&&typeof g.getBoundingClientRect=="function")})}function nl(h){h===void 0&&(h={});var a=h,d=a.defaultModifiers,g=d===void 0?[]:d,C=a.defaultOptions,k=C===void 0?rg:C;return function(b,A,D){D===void 0&&(D=k);var U,W,M={placement:"bottom",orderedModifiers:[],options:Object.assign({},rg,k),modifiersData:{},elements:{reference:b,popper:A},attributes:{},styles:{}},Z=[],H=!1,X={state:M,setOptions:function(J){var ve=typeof J=="function"?J(M.options):J;q(),M.options=Object.assign({},k,M.options,ve),M.scrollParents={reference:ei(b)?po(b):b.contextElement?po(b.contextElement):[],popper:po(A)};var Ce,te,he=function(ee){var oe=ck(ee);return Um.reduce(function(pe,ye){return pe.concat(oe.filter(function(me){return me.phase===ye}))},[])}((Ce=[].concat(g,M.options.modifiers),te=Ce.reduce(function(ee,oe){var pe=ee[oe.name];return ee[oe.name]=pe?Object.assign({},pe,oe,{options:Object.assign({},pe.options,oe.options),data:Object.assign({},pe.data,oe.data)}):oe,ee},{}),Object.keys(te).map(function(ee){return te[ee]})));return M.orderedModifiers=he.filter(function(ee){return ee.enabled}),M.orderedModifiers.forEach(function(ee){var oe=ee.name,pe=ee.options,ye=pe===void 0?{}:pe,me=ee.effect;if(typeof me=="function"){var Ue=me({state:M,name:oe,instance:X,options:ye});Z.push(Ue||function(){})}}),X.update()},forceUpdate:function(){if(!H){var J=M.elements,ve=J.reference,Ce=J.popper;if(ig(ve,Ce)){M.rects={reference:lk(ve,ho(Ce),M.options.strategy==="fixed"),popper:Ku(Ce)},M.reset=!1,M.placement=M.options.placement,M.orderedModifiers.forEach(function(me){return M.modifiersData[me.name]=Object.assign({},me.data)});for(var te=0;te<M.orderedModifiers.length;te++)if(M.reset!==!0){var he=M.orderedModifiers[te],ee=he.fn,oe=he.options,pe=oe===void 0?{}:oe,ye=he.name;typeof ee=="function"&&(M=ee({state:M,options:pe,name:ye,instance:X})||M)}else M.reset=!1,te=-1}}},update:(U=function(){return new Promise(function(J){X.forceUpdate(),J(M)})},function(){return W||(W=new Promise(function(J){Promise.resolve().then(function(){W=void 0,J(U())})})),W}),destroy:function(){q(),H=!0}};if(!ig(b,A))return X;function q(){Z.forEach(function(J){return J()}),Z=[]}return X.setOptions(D).then(function(J){!H&&D.onFirstUpdate&&D.onFirstUpdate(J)}),X}}var uk=nl(),dk=nl({defaultModifiers:[Yu,td,Qu,Hu]}),nd=nl({defaultModifiers:[Yu,td,Qu,Hu,tg,Xm,ng,Hm,eg]});const sg=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Lm,afterRead:Rm,afterWrite:Fm,applyStyles:Hu,arrow:Hm,auto:Xa,basePlacements:Gi,beforeMain:Om,beforeRead:Pm,beforeWrite:Mm,bottom:Pt,clippingParents:bm,computeStyles:Qu,createPopper:nd,createPopperBase:uk,createPopperLite:dk,detectOverflow:Ji,end:Ki,eventListeners:Yu,flip:Xm,hide:eg,left:mt,main:Dm,modifierPhases:Um,offset:tg,placements:zu,popper:qi,popperGenerator:nl,popperOffsets:td,preventOverflow:ng,read:Am,reference:Nm,right:At,start:Zr,top:pt,variationPlacements:Wu,viewport:$u,write:jm},Symbol.toStringTag,{value:"Module"})),og="dropdown",ni=".bs.dropdown",rd=".data-api",hk="ArrowUp",ag="ArrowDown",fk=`hide${ni}`,pk=`hidden${ni}`,mk=`show${ni}`,gk=`shown${ni}`,lg=`click${ni}${rd}`,cg=`keydown${ni}${rd}`,_k=`keyup${ni}${rd}`,Zi="show",ri='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',vk=`${ri}.${Zi}`,rl=".dropdown-menu",yk=P()?"top-end":"top-start",wk=P()?"top-start":"top-end",Ek=P()?"bottom-end":"bottom-start",Ck=P()?"bottom-start":"bottom-end",Sk=P()?"left-start":"right-start",kk=P()?"right-start":"left-start",Tk={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ik={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class tn extends We{constructor(a,d){super(a,d),this._popper=null,this._parent=this._element.parentNode,this._menu=V.next(this._element,rl)[0]||V.prev(this._element,rl)[0]||V.findOne(rl,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Tk}static get DefaultType(){return Ik}static get NAME(){return og}toggle(){return this._isShown()?this.hide():this.show()}show(){if(p(this._element)||this._isShown())return;const a={relatedTarget:this._element};if(!x.trigger(this._element,mk,a).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const d of[].concat(...document.body.children))x.on(d,"mouseover",_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Zi),this._element.classList.add(Zi),x.trigger(this._element,gk,a)}}hide(){if(p(this._element)||!this._isShown())return;const a={relatedTarget:this._element};this._completeHide(a)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(a){if(!x.trigger(this._element,fk,a).defaultPrevented){if("ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))x.off(d,"mouseover",_);this._popper&&this._popper.destroy(),this._menu.classList.remove(Zi),this._element.classList.remove(Zi),this._element.setAttribute("aria-expanded","false"),Ze.removeDataAttribute(this._menu,"popper"),x.trigger(this._element,pk,a)}}_getConfig(a){if(typeof(a=super._getConfig(a)).reference=="object"&&!l(a.reference)&&typeof a.reference.getBoundingClientRect!="function")throw new TypeError(`${og.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return a}_createPopper(){if(sg===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let a=this._element;this._config.reference==="parent"?a=this._parent:l(this._config.reference)?a=c(this._config.reference):typeof this._config.reference=="object"&&(a=this._config.reference);const d=this._getPopperConfig();this._popper=nd(a,this._menu,d)}_isShown(){return this._menu.classList.contains(Zi)}_getPlacement(){const a=this._parent;if(a.classList.contains("dropend"))return Sk;if(a.classList.contains("dropstart"))return kk;if(a.classList.contains("dropup-center"))return"top";if(a.classList.contains("dropdown-center"))return"bottom";const d=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return a.classList.contains("dropup")?d?wk:yk:d?Ck:Ek}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(d=>Number.parseInt(d,10)):typeof a=="function"?d=>a(d,this._element):a}_getPopperConfig(){const a={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ze.setDataAttribute(this._menu,"popper","static"),a.modifiers=[{name:"applyStyles",enabled:!1}]),{...a,...v(this._config.popperConfig,[a])}}_selectMenuItem({key:a,target:d}){const g=V.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(C=>u(C));g.length&&N(g,d,a===ag,!g.includes(d)).focus()}static jQueryInterface(a){return this.each(function(){const d=tn.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0)throw new TypeError(`No method named "${a}"`);d[a]()}})}static clearMenus(a){if(a.button===2||a.type==="keyup"&&a.key!=="Tab")return;const d=V.find(vk);for(const g of d){const C=tn.getInstance(g);if(!C||C._config.autoClose===!1)continue;const k=a.composedPath(),b=k.includes(C._menu);if(k.includes(C._element)||C._config.autoClose==="inside"&&!b||C._config.autoClose==="outside"&&b||C._menu.contains(a.target)&&(a.type==="keyup"&&a.key==="Tab"||/input|select|option|textarea|form/i.test(a.target.tagName)))continue;const A={relatedTarget:C._element};a.type==="click"&&(A.clickEvent=a),C._completeHide(A)}}static dataApiKeydownHandler(a){const d=/input|textarea/i.test(a.target.tagName),g=a.key==="Escape",C=[hk,ag].includes(a.key);if(!C&&!g||d&&!g)return;a.preventDefault();const k=this.matches(ri)?this:V.prev(this,ri)[0]||V.next(this,ri)[0]||V.findOne(ri,a.delegateTarget.parentNode),b=tn.getOrCreateInstance(k);if(C)return a.stopPropagation(),b.show(),void b._selectMenuItem(a);b._isShown()&&(a.stopPropagation(),b.hide(),k.focus())}}x.on(document,cg,ri,tn.dataApiKeydownHandler),x.on(document,cg,rl,tn.dataApiKeydownHandler),x.on(document,lg,tn.clearMenus),x.on(document,_k,tn.clearMenus),x.on(document,lg,ri,function(h){h.preventDefault(),tn.getOrCreateInstance(this).toggle()}),y(tn);const ug="backdrop",dg="show",hg=`mousedown.bs.${ug}`,xk={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},bk={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class fg extends An{constructor(a){super(),this._config=this._getConfig(a),this._isAppended=!1,this._element=null}static get Default(){return xk}static get DefaultType(){return bk}static get NAME(){return ug}show(a){if(!this._config.isVisible)return void v(a);this._append();const d=this._getElement();this._config.isAnimated&&E(d),d.classList.add(dg),this._emulateAnimation(()=>{v(a)})}hide(a){this._config.isVisible?(this._getElement().classList.remove(dg),this._emulateAnimation(()=>{this.dispose(),v(a)})):v(a)}dispose(){this._isAppended&&(x.off(this._element,hg),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const a=document.createElement("div");a.className=this._config.className,this._config.isAnimated&&a.classList.add("fade"),this._element=a}return this._element}_configAfterMerge(a){return a.rootElement=c(a.rootElement),a}_append(){if(this._isAppended)return;const a=this._getElement();this._config.rootElement.append(a),x.on(a,hg,()=>{v(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(a){w(a,this._getElement(),this._config.isAnimated)}}const il=".bs.focustrap",Nk=`focusin${il}`,Pk=`keydown.tab${il}`,pg="backward",Ak={autofocus:!0,trapElement:null},Rk={autofocus:"boolean",trapElement:"element"};class mg extends An{constructor(a){super(),this._config=this._getConfig(a),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ak}static get DefaultType(){return Rk}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),x.off(document,il),x.on(document,Nk,a=>this._handleFocusin(a)),x.on(document,Pk,a=>this._handleKeydown(a)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,x.off(document,il))}_handleFocusin(a){const{trapElement:d}=this._config;if(a.target===document||a.target===d||d.contains(a.target))return;const g=V.focusableChildren(d);g.length===0?d.focus():this._lastTabNavDirection===pg?g[g.length-1].focus():g[0].focus()}_handleKeydown(a){a.key==="Tab"&&(this._lastTabNavDirection=a.shiftKey?pg:"forward")}}const gg=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_g=".sticky-top",sl="padding-right",vg="margin-right";class id{constructor(){this._element=document.body}getWidth(){const a=document.documentElement.clientWidth;return Math.abs(window.innerWidth-a)}hide(){const a=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,sl,d=>d+a),this._setElementAttributes(gg,sl,d=>d+a),this._setElementAttributes(_g,vg,d=>d-a)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,sl),this._resetElementAttributes(gg,sl),this._resetElementAttributes(_g,vg)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(a,d,g){const C=this.getWidth();this._applyManipulationCallback(a,k=>{if(k!==this._element&&window.innerWidth>k.clientWidth+C)return;this._saveInitialAttribute(k,d);const b=window.getComputedStyle(k).getPropertyValue(d);k.style.setProperty(d,`${g(Number.parseFloat(b))}px`)})}_saveInitialAttribute(a,d){const g=a.style.getPropertyValue(d);g&&Ze.setDataAttribute(a,d,g)}_resetElementAttributes(a,d){this._applyManipulationCallback(a,g=>{const C=Ze.getDataAttribute(g,d);C!==null?(Ze.removeDataAttribute(g,d),g.style.setProperty(d,C)):g.style.removeProperty(d)})}_applyManipulationCallback(a,d){if(l(a))d(a);else for(const g of V.find(a,this._element))d(g)}}const $t=".bs.modal",Ok=`hide${$t}`,Dk=`hidePrevented${$t}`,yg=`hidden${$t}`,wg=`show${$t}`,Lk=`shown${$t}`,Mk=`resize${$t}`,jk=`click.dismiss${$t}`,Fk=`mousedown.dismiss${$t}`,Uk=`keydown.dismiss${$t}`,Bk=`click${$t}.data-api`,Eg="modal-open",Cg="show",sd="modal-static",$k={backdrop:!0,focus:!0,keyboard:!0},Wk={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ii extends We{constructor(a,d){super(a,d),this._dialog=V.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new id,this._addEventListeners()}static get Default(){return $k}static get DefaultType(){return Wk}static get NAME(){return"modal"}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||this._isTransitioning||x.trigger(this._element,wg,{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Eg),this._adjustDialog(),this._backdrop.show(()=>this._showElement(a)))}hide(){this._isShown&&!this._isTransitioning&&(x.trigger(this._element,Ok).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Cg),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){x.off(window,$t),x.off(this._dialog,$t),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new fg({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new mg({trapElement:this._element})}_showElement(a){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const d=V.findOne(".modal-body",this._dialog);d&&(d.scrollTop=0),E(this._element),this._element.classList.add(Cg),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,x.trigger(this._element,Lk,{relatedTarget:a})},this._dialog,this._isAnimated())}_addEventListeners(){x.on(this._element,Uk,a=>{a.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),x.on(window,Mk,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),x.on(this._element,Fk,a=>{x.one(this._element,jk,d=>{this._element===a.target&&this._element===d.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Eg),this._resetAdjustments(),this._scrollBar.reset(),x.trigger(this._element,yg)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(x.trigger(this._element,Dk).defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,d=this._element.style.overflowY;d==="hidden"||this._element.classList.contains(sd)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add(sd),this._queueCallback(()=>{this._element.classList.remove(sd),this._queueCallback(()=>{this._element.style.overflowY=d},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const a=this._element.scrollHeight>document.documentElement.clientHeight,d=this._scrollBar.getWidth(),g=d>0;if(g&&!a){const C=P()?"paddingLeft":"paddingRight";this._element.style[C]=`${d}px`}if(!g&&a){const C=P()?"paddingRight":"paddingLeft";this._element.style[C]=`${d}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(a,d){return this.each(function(){const g=ii.getOrCreateInstance(this,a);if(typeof a=="string"){if(g[a]===void 0)throw new TypeError(`No method named "${a}"`);g[a](d)}})}}x.on(document,Bk,'[data-bs-toggle="modal"]',function(h){const a=V.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&h.preventDefault(),x.one(a,wg,g=>{g.defaultPrevented||x.one(a,yg,()=>{u(this)&&this.focus()})});const d=V.findOne(".modal.show");d&&ii.getInstance(d).hide(),ii.getOrCreateInstance(a).toggle(this)}),Ga(ii),y(ii);const On=".bs.offcanvas",Sg=".data-api",zk=`load${On}${Sg}`,kg="show",Tg="showing",Ig="hiding",xg=".offcanvas.show",Vk=`show${On}`,Hk=`shown${On}`,Gk=`hide${On}`,bg=`hidePrevented${On}`,Ng=`hidden${On}`,Kk=`resize${On}`,qk=`click${On}${Sg}`,Qk=`keydown.dismiss${On}`,Yk={backdrop:!0,keyboard:!0,scroll:!1},Xk={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Dn extends We{constructor(a,d){super(a,d),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Yk}static get DefaultType(){return Xk}static get NAME(){return"offcanvas"}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||x.trigger(this._element,Vk,{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new id().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Tg),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(kg),this._element.classList.remove(Tg),x.trigger(this._element,Hk,{relatedTarget:a})},this._element,!0))}hide(){this._isShown&&(x.trigger(this._element,Gk).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ig),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(kg,Ig),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new id().reset(),x.trigger(this._element,Ng)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=!!this._config.backdrop;return new fg({className:"offcanvas-backdrop",isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?()=>{this._config.backdrop!=="static"?this.hide():x.trigger(this._element,bg)}:null})}_initializeFocusTrap(){return new mg({trapElement:this._element})}_addEventListeners(){x.on(this._element,Qk,a=>{a.key==="Escape"&&(this._config.keyboard?this.hide():x.trigger(this._element,bg))})}static jQueryInterface(a){return this.each(function(){const d=Dn.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a](this)}})}}x.on(document,qk,'[data-bs-toggle="offcanvas"]',function(h){const a=V.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&h.preventDefault(),p(this))return;x.one(a,Ng,()=>{u(this)&&this.focus()});const d=V.findOne(xg);d&&d!==a&&Dn.getInstance(d).hide(),Dn.getOrCreateInstance(a).toggle(this)}),x.on(window,zk,()=>{for(const h of V.find(xg))Dn.getOrCreateInstance(h).show()}),x.on(window,Kk,()=>{for(const h of V.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(h).position!=="fixed"&&Dn.getOrCreateInstance(h).hide()}),Ga(Dn),y(Dn);const Pg={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Jk=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Zk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,eT=(h,a)=>{const d=h.nodeName.toLowerCase();return a.includes(d)?!Jk.has(d)||!!Zk.test(h.nodeValue):a.filter(g=>g instanceof RegExp).some(g=>g.test(d))},tT={allowList:Pg,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},nT={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},rT={entry:"(string|element|function|null)",selector:"(string|element)"};class iT extends An{constructor(a){super(),this._config=this._getConfig(a)}static get Default(){return tT}static get DefaultType(){return nT}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(a=>this._resolvePossibleFunction(a)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(a){return this._checkContent(a),this._config.content={...this._config.content,...a},this}toHtml(){const a=document.createElement("div");a.innerHTML=this._maybeSanitize(this._config.template);for(const[C,k]of Object.entries(this._config.content))this._setContent(a,k,C);const d=a.children[0],g=this._resolvePossibleFunction(this._config.extraClass);return g&&d.classList.add(...g.split(" ")),d}_typeCheckConfig(a){super._typeCheckConfig(a),this._checkContent(a.content)}_checkContent(a){for(const[d,g]of Object.entries(a))super._typeCheckConfig({selector:d,entry:g},rT)}_setContent(a,d,g){const C=V.findOne(g,a);C&&((d=this._resolvePossibleFunction(d))?l(d)?this._putElementInTemplate(c(d),C):this._config.html?C.innerHTML=this._maybeSanitize(d):C.textContent=d:C.remove())}_maybeSanitize(a){return this._config.sanitize?function(d,g,C){if(!d.length)return d;if(C&&typeof C=="function")return C(d);const k=new window.DOMParser().parseFromString(d,"text/html"),b=[].concat(...k.body.querySelectorAll("*"));for(const A of b){const D=A.nodeName.toLowerCase();if(!Object.keys(g).includes(D)){A.remove();continue}const U=[].concat(...A.attributes),W=[].concat(g["*"]||[],g[D]||[]);for(const M of U)eT(M,W)||A.removeAttribute(M.nodeName)}return k.body.innerHTML}(a,this._config.allowList,this._config.sanitizeFn):a}_resolvePossibleFunction(a){return v(a,[this])}_putElementInTemplate(a,d){if(this._config.html)return d.innerHTML="",void d.append(a);d.textContent=a.textContent}}const sT=new Set(["sanitize","allowList","sanitizeFn"]),od="fade",ol="show",Ag=".modal",Rg="hide.bs.modal",mo="hover",ad="focus",oT={AUTO:"auto",TOP:"top",RIGHT:P()?"left":"right",BOTTOM:"bottom",LEFT:P()?"right":"left"},aT={allowList:Pg,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},lT={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class si extends We{constructor(a,d){if(sg===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(a,d),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return aT}static get DefaultType(){return lT}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),x.off(this._element.closest(Ag),Rg,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const a=x.trigger(this._element,this.constructor.eventName("show")),d=(f(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(a.defaultPrevented||!d)return;this._disposePopper();const g=this._getTipElement();this._element.setAttribute("aria-describedby",g.getAttribute("id"));const{container:C}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(C.append(g),x.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(g),g.classList.add(ol),"ontouchstart"in document.documentElement)for(const k of[].concat(...document.body.children))x.on(k,"mouseover",_);this._queueCallback(()=>{x.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!x.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ol),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))x.off(a,"mouseover",_);this._activeTrigger.click=!1,this._activeTrigger[ad]=!1,this._activeTrigger[mo]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),x.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(a){const d=this._getTemplateFactory(a).toHtml();if(!d)return null;d.classList.remove(od,ol),d.classList.add(`bs-${this.constructor.NAME}-auto`);const g=(C=>{do C+=Math.floor(1e6*Math.random());while(document.getElementById(C));return C})(this.constructor.NAME).toString();return d.setAttribute("id",g),this._isAnimated()&&d.classList.add(od),d}setContent(a){this._newContent=a,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(a){return this._templateFactory?this._templateFactory.changeContent(a):this._templateFactory=new iT({...this._config,content:a,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(a){return this.constructor.getOrCreateInstance(a.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(od)}_isShown(){return this.tip&&this.tip.classList.contains(ol)}_createPopper(a){const d=v(this._config.placement,[this,a,this._element]),g=oT[d.toUpperCase()];return nd(this._element,a,this._getPopperConfig(g))}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(d=>Number.parseInt(d,10)):typeof a=="function"?d=>a(d,this._element):a}_resolvePossibleFunction(a){return v(a,[this._element])}_getPopperConfig(a){const d={placement:a,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:g=>{this._getTipElement().setAttribute("data-popper-placement",g.state.placement)}}]};return{...d,...v(this._config.popperConfig,[d])}}_setListeners(){const a=this._config.trigger.split(" ");for(const d of a)if(d==="click")x.on(this._element,this.constructor.eventName("click"),this._config.selector,g=>{this._initializeOnDelegatedTarget(g).toggle()});else if(d!=="manual"){const g=d===mo?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),C=d===mo?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");x.on(this._element,g,this._config.selector,k=>{const b=this._initializeOnDelegatedTarget(k);b._activeTrigger[k.type==="focusin"?ad:mo]=!0,b._enter()}),x.on(this._element,C,this._config.selector,k=>{const b=this._initializeOnDelegatedTarget(k);b._activeTrigger[k.type==="focusout"?ad:mo]=b._element.contains(k.relatedTarget),b._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},x.on(this._element.closest(Ag),Rg,this._hideModalHandler)}_fixTitle(){const a=this._element.getAttribute("title");a&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",a),this._element.setAttribute("data-bs-original-title",a),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(a,d){clearTimeout(this._timeout),this._timeout=setTimeout(a,d)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(a){const d=Ze.getDataAttributes(this._element);for(const g of Object.keys(d))sT.has(g)&&delete d[g];return a={...d,...typeof a=="object"&&a?a:{}},a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a.container=a.container===!1?document.body:c(a.container),typeof a.delay=="number"&&(a.delay={show:a.delay,hide:a.delay}),typeof a.title=="number"&&(a.title=a.title.toString()),typeof a.content=="number"&&(a.content=a.content.toString()),a}_getDelegateConfig(){const a={};for(const[d,g]of Object.entries(this._config))this.constructor.Default[d]!==g&&(a[d]=g);return a.selector=!1,a.trigger="manual",a}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(a){return this.each(function(){const d=si.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0)throw new TypeError(`No method named "${a}"`);d[a]()}})}}y(si);const cT={...si.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},uT={...si.DefaultType,content:"(null|string|element|function)"};class al extends si{static get Default(){return cT}static get DefaultType(){return uT}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(a){return this.each(function(){const d=al.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0)throw new TypeError(`No method named "${a}"`);d[a]()}})}}y(al);const ld=".bs.scrollspy",dT=`activate${ld}`,Og=`click${ld}`,hT=`load${ld}.data-api`,es="active",cd="[href]",Dg=".nav-link",fT=`${Dg}, .nav-item > ${Dg}, .list-group-item`,pT={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},mT={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class go extends We{constructor(a,d){super(a,d),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return pT}static get DefaultType(){return mT}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const a of this._observableSections.values())this._observer.observe(a)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(a){return a.target=c(a.target)||document.body,a.rootMargin=a.offset?`${a.offset}px 0px -30%`:a.rootMargin,typeof a.threshold=="string"&&(a.threshold=a.threshold.split(",").map(d=>Number.parseFloat(d))),a}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(x.off(this._config.target,Og),x.on(this._config.target,Og,cd,a=>{const d=this._observableSections.get(a.target.hash);if(d){a.preventDefault();const g=this._rootElement||window,C=d.offsetTop-this._element.offsetTop;if(g.scrollTo)return void g.scrollTo({top:C,behavior:"smooth"});g.scrollTop=C}}))}_getNewObserver(){const a={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(d=>this._observerCallback(d),a)}_observerCallback(a){const d=b=>this._targetLinks.get(`#${b.target.id}`),g=b=>{this._previousScrollData.visibleEntryTop=b.target.offsetTop,this._process(d(b))},C=(this._rootElement||document.documentElement).scrollTop,k=C>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=C;for(const b of a){if(!b.isIntersecting){this._activeTarget=null,this._clearActiveClass(d(b));continue}const A=b.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(k&&A){if(g(b),!C)return}else k||A||g(b)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const a=V.find(cd,this._config.target);for(const d of a){if(!d.hash||p(d))continue;const g=V.findOne(decodeURI(d.hash),this._element);u(g)&&(this._targetLinks.set(decodeURI(d.hash),d),this._observableSections.set(d.hash,g))}}_process(a){this._activeTarget!==a&&(this._clearActiveClass(this._config.target),this._activeTarget=a,a.classList.add(es),this._activateParents(a),x.trigger(this._element,dT,{relatedTarget:a}))}_activateParents(a){if(a.classList.contains("dropdown-item"))V.findOne(".dropdown-toggle",a.closest(".dropdown")).classList.add(es);else for(const d of V.parents(a,".nav, .list-group"))for(const g of V.prev(d,fT))g.classList.add(es)}_clearActiveClass(a){a.classList.remove(es);const d=V.find(`${cd}.${es}`,a);for(const g of d)g.classList.remove(es)}static jQueryInterface(a){return this.each(function(){const d=go.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a]()}})}}x.on(window,hT,()=>{for(const h of V.find('[data-bs-spy="scroll"]'))go.getOrCreateInstance(h)}),y(go);const oi=".bs.tab",gT=`hide${oi}`,_T=`hidden${oi}`,vT=`show${oi}`,yT=`shown${oi}`,wT=`click${oi}`,ET=`keydown${oi}`,CT=`load${oi}`,ST="ArrowLeft",Lg="ArrowRight",kT="ArrowUp",Mg="ArrowDown",ud="Home",jg="End",ai="active",Fg="fade",dd="show",Ug=".dropdown-toggle",hd=`:not(${Ug})`,Bg='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',fd=`.nav-link${hd}, .list-group-item${hd}, [role="tab"]${hd}, ${Bg}`,TT=`.${ai}[data-bs-toggle="tab"], .${ai}[data-bs-toggle="pill"], .${ai}[data-bs-toggle="list"]`;class li extends We{constructor(a){super(a),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),x.on(this._element,ET,d=>this._keydown(d)))}static get NAME(){return"tab"}show(){const a=this._element;if(this._elemIsActive(a))return;const d=this._getActiveElem(),g=d?x.trigger(d,gT,{relatedTarget:a}):null;x.trigger(a,vT,{relatedTarget:d}).defaultPrevented||g&&g.defaultPrevented||(this._deactivate(d,a),this._activate(a,d))}_activate(a,d){a&&(a.classList.add(ai),this._activate(V.getElementFromSelector(a)),this._queueCallback(()=>{a.getAttribute("role")==="tab"?(a.removeAttribute("tabindex"),a.setAttribute("aria-selected",!0),this._toggleDropDown(a,!0),x.trigger(a,yT,{relatedTarget:d})):a.classList.add(dd)},a,a.classList.contains(Fg)))}_deactivate(a,d){a&&(a.classList.remove(ai),a.blur(),this._deactivate(V.getElementFromSelector(a)),this._queueCallback(()=>{a.getAttribute("role")==="tab"?(a.setAttribute("aria-selected",!1),a.setAttribute("tabindex","-1"),this._toggleDropDown(a,!1),x.trigger(a,_T,{relatedTarget:d})):a.classList.remove(dd)},a,a.classList.contains(Fg)))}_keydown(a){if(![ST,Lg,kT,Mg,ud,jg].includes(a.key))return;a.stopPropagation(),a.preventDefault();const d=this._getChildren().filter(C=>!p(C));let g;if([ud,jg].includes(a.key))g=d[a.key===ud?0:d.length-1];else{const C=[Lg,Mg].includes(a.key);g=N(d,a.target,C,!0)}g&&(g.focus({preventScroll:!0}),li.getOrCreateInstance(g).show())}_getChildren(){return V.find(fd,this._parent)}_getActiveElem(){return this._getChildren().find(a=>this._elemIsActive(a))||null}_setInitialAttributes(a,d){this._setAttributeIfNotExists(a,"role","tablist");for(const g of d)this._setInitialAttributesOnChild(g)}_setInitialAttributesOnChild(a){a=this._getInnerElement(a);const d=this._elemIsActive(a),g=this._getOuterElement(a);a.setAttribute("aria-selected",d),g!==a&&this._setAttributeIfNotExists(g,"role","presentation"),d||a.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(a,"role","tab"),this._setInitialAttributesOnTargetPanel(a)}_setInitialAttributesOnTargetPanel(a){const d=V.getElementFromSelector(a);d&&(this._setAttributeIfNotExists(d,"role","tabpanel"),a.id&&this._setAttributeIfNotExists(d,"aria-labelledby",`${a.id}`))}_toggleDropDown(a,d){const g=this._getOuterElement(a);if(!g.classList.contains("dropdown"))return;const C=(k,b)=>{const A=V.findOne(k,g);A&&A.classList.toggle(b,d)};C(Ug,ai),C(".dropdown-menu",dd),g.setAttribute("aria-expanded",d)}_setAttributeIfNotExists(a,d,g){a.hasAttribute(d)||a.setAttribute(d,g)}_elemIsActive(a){return a.classList.contains(ai)}_getInnerElement(a){return a.matches(fd)?a:V.findOne(fd,a)}_getOuterElement(a){return a.closest(".nav-item, .list-group-item")||a}static jQueryInterface(a){return this.each(function(){const d=li.getOrCreateInstance(this);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a]()}})}}x.on(document,wT,Bg,function(h){["A","AREA"].includes(this.tagName)&&h.preventDefault(),p(this)||li.getOrCreateInstance(this).show()}),x.on(window,CT,()=>{for(const h of V.find(TT))li.getOrCreateInstance(h)}),y(li);const lr=".bs.toast",IT=`mouseover${lr}`,xT=`mouseout${lr}`,bT=`focusin${lr}`,NT=`focusout${lr}`,PT=`hide${lr}`,AT=`hidden${lr}`,RT=`show${lr}`,OT=`shown${lr}`,$g="hide",ll="show",cl="showing",DT={animation:"boolean",autohide:"boolean",delay:"number"},LT={animation:!0,autohide:!0,delay:5e3};class _o extends We{constructor(a,d){super(a,d),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return LT}static get DefaultType(){return DT}static get NAME(){return"toast"}show(){x.trigger(this._element,RT).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove($g),E(this._element),this._element.classList.add(ll,cl),this._queueCallback(()=>{this._element.classList.remove(cl),x.trigger(this._element,OT),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(x.trigger(this._element,PT).defaultPrevented||(this._element.classList.add(cl),this._queueCallback(()=>{this._element.classList.add($g),this._element.classList.remove(cl,ll),x.trigger(this._element,AT)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ll),super.dispose()}isShown(){return this._element.classList.contains(ll)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(a,d){switch(a.type){case"mouseover":case"mouseout":this._hasMouseInteraction=d;break;case"focusin":case"focusout":this._hasKeyboardInteraction=d}if(d)return void this._clearTimeout();const g=a.relatedTarget;this._element===g||this._element.contains(g)||this._maybeScheduleHide()}_setListeners(){x.on(this._element,IT,a=>this._onInteraction(a,!0)),x.on(this._element,xT,a=>this._onInteraction(a,!1)),x.on(this._element,bT,a=>this._onInteraction(a,!0)),x.on(this._element,NT,a=>this._onInteraction(a,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(a){return this.each(function(){const d=_o.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0)throw new TypeError(`No method named "${a}"`);d[a](this)}})}}return Ga(_o),y(_o),{Alert:ao,Button:lo,Carousel:zi,Collapse:Hi,Dropdown:tn,Modal:ii,Offcanvas:Dn,Popover:al,ScrollSpy:go,Tab:li,Toast:_o,Tooltip:si}})})(yx);var cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw Qs(e)},Qs=function(t){return new Error("Firebase Database ("+z0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Cp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,p=s>>2,f=(s&3)<<4|l>>4;let _=(l&15)<<2|u>>6,E=u&63;c||(E=64,o||(_=64)),r.push(n[p],n[f],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(V0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||f==null)throw new Ex;const _=s<<2|l>>4;if(r.push(_),u!==64){const E=l<<4&240|u>>2;if(r.push(E),f!==64){const S=u<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ex extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H0=function(t){const e=V0(t);return Cp.encodeByteArray(e,!0)},yc=function(t){return H0(t).replace(/\./g,"")},wc=function(t){try{return Cp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t){return G0(void 0,t)}function G0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Sx(n)||(t[n]=G0(t[n],e[n]));return t}function Sx(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=()=>kx().__FIREBASE_DEFAULTS__,Ix=()=>{if(typeof process>"u"||typeof cv>"u")return;const t=cv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wc(t[1]);return e&&JSON.parse(e)},Sp=()=>{try{return Tx()||Ix()||xx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},K0=t=>{var e,n;return(n=(e=Sp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bx=t=>{const e=K0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},q0=()=>{var t;return(t=Sp())===null||t===void 0?void 0:t.config},Q0=t=>{var e;return(e=Sp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yc(JSON.stringify(n)),yc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function Px(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Y0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ax(){const t=ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function X0(){return z0.NODE_ADMIN===!0}function Rx(){try{return typeof indexedDB=="object"}catch{return!1}}function Ox(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="FirebaseError";class qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dx,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ra.prototype.create)}}class Ra{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Lx(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new qr(i,l,r)}}function Lx(t,e){return t.replace(Mx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Mx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){return JSON.parse(t)}function He(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=fa(wc(s[0])||""),n=fa(wc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},jx=function(t){const e=J0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Fx=function(t){const e=J0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function js(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Xh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ec(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Cc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(uv(s)&&uv(o)){if(!Cc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Do(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Lo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const _=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(_<<1|_>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],u,p;for(let f=0;f<80;f++){f<40?f<20?(u=l^s&(o^l),p=1518500249):(u=s^o^l,p=1859775393):f<60?(u=s&o|l&(s|o),p=2400959708):(u=s^o^l,p=3395469782);const _=(i<<5|i>>>27)+u+c+p+r[f]&4294967295;c=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=_}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Bx(t,e){const n=new $x(t,e);return n.subscribe.bind(n)}class $x{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Wx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zd),i.error===void 0&&(i.error=zd),i.complete===void 0&&(i.complete=zd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zd(){}function Oa(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,O(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fu=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class xi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Aa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gx(e))try{this.getOrInitializeService({instanceIdentifier:hi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hi){return this.instances.has(e)}getOptions(e=hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hi){return this.component?this.component.multipleInstances?e:hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hx(t){return t===hi?void 0:t}function Gx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Vx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const qx={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Qx=we.INFO,Yx={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},Xx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Yx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tp{constructor(e){this.name=e,this._logLevel=Qx,this._logHandler=Xx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const Jx=(t,e)=>e.some(n=>t instanceof n);let dv,hv;function Zx(){return dv||(dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eb(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z0=new WeakMap,Jh=new WeakMap,eE=new WeakMap,Vd=new WeakMap,Ip=new WeakMap;function tb(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Or(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Z0.set(n,t)}).catch(()=>{}),Ip.set(e,t),e}function nb(t){if(Jh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jh.set(t,e)}let Zh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rb(t){Zh=t(Zh)}function ib(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hd(this),e,...n);return eE.set(r,e.sort?e.sort():[e]),Or(r)}:eb().includes(t)?function(...e){return t.apply(Hd(this),e),Or(Z0.get(this))}:function(...e){return Or(t.apply(Hd(this),e))}}function sb(t){return typeof t=="function"?ib(t):(t instanceof IDBTransaction&&nb(t),Jx(t,Zx())?new Proxy(t,Zh):t)}function Or(t){if(t instanceof IDBRequest)return tb(t);if(Vd.has(t))return Vd.get(t);const e=sb(t);return e!==t&&(Vd.set(t,e),Ip.set(e,t)),e}const Hd=t=>Ip.get(t);function ob(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Or(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Or(o.result),c.oldVersion,c.newVersion,Or(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const ab=["get","getKey","getAll","getAllKeys","count"],lb=["put","add","delete","clear"],Gd=new Map;function fv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ab.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return Gd.set(e,s),s}rb(t=>({...t,get:(e,n,r)=>fv(e,n)||t.get(e,n,r),has:(e,n)=>!!fv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ub(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ub(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ef="@firebase/app",pv="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Tp("@firebase/app"),db="@firebase/app-compat",hb="@firebase/analytics-compat",fb="@firebase/analytics",pb="@firebase/app-check-compat",mb="@firebase/app-check",gb="@firebase/auth",_b="@firebase/auth-compat",vb="@firebase/database",yb="@firebase/database-compat",wb="@firebase/functions",Eb="@firebase/functions-compat",Cb="@firebase/installations",Sb="@firebase/installations-compat",kb="@firebase/messaging",Tb="@firebase/messaging-compat",Ib="@firebase/performance",xb="@firebase/performance-compat",bb="@firebase/remote-config",Nb="@firebase/remote-config-compat",Pb="@firebase/storage",Ab="@firebase/storage-compat",Rb="@firebase/firestore",Ob="@firebase/firestore-compat",Db="firebase",Lb="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="[DEFAULT]",Mb={[ef]:"fire-core",[db]:"fire-core-compat",[fb]:"fire-analytics",[hb]:"fire-analytics-compat",[mb]:"fire-app-check",[pb]:"fire-app-check-compat",[gb]:"fire-auth",[_b]:"fire-auth-compat",[vb]:"fire-rtdb",[yb]:"fire-rtdb-compat",[wb]:"fire-fn",[Eb]:"fire-fn-compat",[Cb]:"fire-iid",[Sb]:"fire-iid-compat",[kb]:"fire-fcm",[Tb]:"fire-fcm-compat",[Ib]:"fire-perf",[xb]:"fire-perf-compat",[bb]:"fire-rc",[Nb]:"fire-rc-compat",[Pb]:"fire-gcs",[Ab]:"fire-gcs-compat",[Rb]:"fire-fst",[Ob]:"fire-fst-compat","fire-js":"fire-js",[Db]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,jb=new Map,nf=new Map;function mv(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fs(t){const e=t.name;if(nf.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;nf.set(e,t);for(const n of Sc.values())mv(n,t);for(const n of jb.values())mv(n,t);return!0}function xp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Ra("app","Firebase",Fb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=Lb;function tE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=q0()),!n)throw Dr.create("no-options");const s=Sc.get(i);if(s){if(Cc(n,s.options)&&Cc(r,s.config))return s;throw Dr.create("duplicate-app",{appName:i})}const o=new Kx(i);for(const c of nf.values())o.addComponent(c);const l=new Ub(n,r,o);return Sc.set(i,l),l}function nE(t=tf){const e=Sc.get(t);if(!e&&t===tf&&q0())return tE();if(!e)throw Dr.create("no-app",{appName:t});return e}function Lr(t,e,n){var r;let i=(r=Mb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(l.join(" "));return}Fs(new xi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firebase-heartbeat-database",$b=1,pa="firebase-heartbeat-store";let Kd=null;function rE(){return Kd||(Kd=ob(Bb,$b,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),Kd}async function Wb(t){try{const n=(await rE()).transaction(pa),r=await n.objectStore(pa).get(iE(t));return await n.done,r}catch(e){if(e instanceof qr)bi.warn(e.message);else{const n=Dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function gv(t,e){try{const r=(await rE()).transaction(pa,"readwrite");await r.objectStore(pa).put(e,iE(t)),await r.done}catch(n){if(n instanceof qr)bi.warn(n.message);else{const r=Dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(r.message)}}}function iE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=1024,Vb=30*24*60*60*1e3;class Hb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_v();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Vb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_v(),{heartbeatsToSend:r,unsentEntries:i}=Gb(this._heartbeatsCache.heartbeats),s=yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function _v(){return new Date().toISOString().substring(0,10)}function Gb(t,e=zb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Kb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rx()?Ox().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Wb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vv(t){return yc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t){Fs(new xi("platform-logger",e=>new cb(e),"PRIVATE")),Fs(new xi("heartbeat",e=>new Hb(e),"PRIVATE")),Lr(ef,pv,t),Lr(ef,pv,"esm2017"),Lr("fire-js","")}qb("");var yv={};const wv="@firebase/database",Ev="1.0.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sE="";function Qb(t){sE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),He(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:fa(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return bn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Yb(e)}}catch{}return new Xb},_i=oE("localStorage"),rf=oE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Tp("@firebase/database"),Jb=function(){let t=1;return function(){return t++}}(),aE=function(t){const e=zx(t),n=new Ux;n.update(e);const r=n.digest();return Cp.encodeByteArray(r)},Da=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Da.apply(null,r):typeof r=="object"?e+=He(r):e+=r,e+=" "}return e};let wi=null,Cv=!0;const Zb=function(t,e){O(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ts.logLevel=we.VERBOSE,wi=Ts.log.bind(Ts),e&&rf.set("logging_enabled",!0)):typeof t=="function"?wi=t:(wi=null,rf.remove("logging_enabled"))},nt=function(...t){if(Cv===!0&&(Cv=!1,wi===null&&rf.get("logging_enabled")===!0&&Zb(!0)),wi){const e=Da.apply(null,t);wi(e)}},La=function(t){return function(...e){nt(t,...e)}},sf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Da(...t);Ts.error(e)},Yn=function(...t){const e=`FIREBASE FATAL ERROR: ${Da(...t)}`;throw Ts.error(e),new Error(e)},Et=function(...t){const e="FIREBASE WARNING: "+Da(...t);Ts.warn(e)},eN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},bp=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},tN=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ni="[MIN_NAME]",$r="[MAX_NAME]",Mi=function(t,e){if(t===e)return 0;if(t===Ni||e===$r)return-1;if(e===Ni||t===$r)return 1;{const n=Sv(t),r=Sv(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},nN=function(t,e){return t===e?0:t<e?-1:1},Io=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+He(e))},Np=function(t){if(typeof t!="object"||t===null)return He(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=He(e[r]),n+=":",n+=Np(t[e[r]]);return n+="}",n},lE=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function st(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const cE=function(t){O(!bp(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const p=u.join("");let f="";for(c=0;c<64;c+=8){let _=parseInt(p.substr(c,8),2).toString(16);_.length===1&&(_="0"+_),f=f+_}return f.toLowerCase()},rN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},iN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sN(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const oN=new RegExp("^-?(0*)\\d{1,10}$"),aN=-2147483648,lN=2147483647,Sv=function(t){if(oN.test(t)){const e=Number(t);if(e>=aN&&e<=lN)return e}return null},Js=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Et("Exception was thrown by user callback.",n),e},Math.floor(0))}},cN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ho=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Et(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Et(e)}}class Is{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Is.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="5",uE="v",dE="s",hE="r",fE="f",pE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mE="ls",gE="p",of="ac",_E="websocket",vE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,r,i,s=!1,o="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_i.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_i.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function hN(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function wE(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let r;if(e===_E)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===vE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);hN(t)&&(n.ns=t.namespace);const i=[];return st(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.counters_={}}incrementCounter(e,n=1){bn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Cx(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd={},Qd={};function Ap(t){const e=t.toString();return qd[e]||(qd[e]=new fN),qd[e]}function pN(t,e){const n=t.toString();return Qd[n]||(Qd[n]=e()),Qd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Js(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="start",gN="close",_N="pLPCommand",vN="pRTLPCB",EE="id",CE="pw",SE="ser",yN="cb",wN="seg",EN="ts",CN="d",SN="dframe",kE=1870,TE=30,kN=kE-TE,TN=25e3,IN=3e4;class gs{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=La(e),this.stats_=Ap(n),this.urlFn=c=>(this.appCheckToken&&(c[of]=this.appCheckToken),wE(n,vE,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new mN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(IN)),tN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rp((...s)=>{const[o,l,c,u,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===kv)this.id=l,this.password=c;else if(o===gN)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[kv]="t",r[SE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[yN]=this.scriptTagHolder.uniqueCallbackIdentifier),r[uE]=Pp,this.transportSessionId&&(r[dE]=this.transportSessionId),this.lastSessionId&&(r[mE]=this.lastSessionId),this.applicationId&&(r[gE]=this.applicationId),this.appCheckToken&&(r[of]=this.appCheckToken),typeof location<"u"&&location.hostname&&pE.test(location.hostname)&&(r[hE]=fE);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gs.forceAllow_=!0}static forceDisallow(){gs.forceDisallow_=!0}static isAvailable(){return gs.forceAllow_?!0:!gs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rN()&&!iN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=H0(n),i=lE(r,kN);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[SN]="t",r[EE]=e,r[CE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=He(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Rp{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Jb(),window[_N+this.uniqueCallbackIdentifier]=e,window[vN+this.uniqueCallbackIdentifier]=n,this.myIFrame=Rp.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){nt("frame writing exception"),l.stack&&nt(l.stack),nt(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[EE]=this.myID,e[CE]=this.myPW,e[SE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+TE+r.length<=kE;){const o=this.pendingSegs.shift();r=r+"&"+wN+i+"="+o.seg+"&"+EN+i+"="+o.ts+"&"+CN+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(TN)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{nt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=16384,bN=45e3;let kc=null;typeof MozWebSocket<"u"?kc=MozWebSocket:typeof WebSocket<"u"&&(kc=WebSocket);class ln{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=La(this.connId),this.stats_=Ap(n),this.connURL=ln.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[uE]=Pp,typeof location<"u"&&location.hostname&&pE.test(location.hostname)&&(o[hE]=fE),n&&(o[dE]=n),r&&(o[mE]=r),i&&(o[of]=i),s&&(o[gE]=s),wE(e,_E,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_i.set("previous_websocket_failure",!0);try{let r;X0(),this.mySock=new kc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ln.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&kc!==null&&!ln.forceDisallow_}static previouslyFailed(){return _i.isInMemoryStorage||_i.get("previous_websocket_failure")===!0}markConnectionHealthy(){_i.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=fa(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=He(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=lE(n,xN);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(bN))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ln.responsesRequiredToBeHealthy=2;ln.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[gs,ln]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ln&&ln.isAvailable();let r=n&&!ln.previouslyFailed();if(e.webSocketOnly&&(n||Et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ln];else{const i=this.transports_=[];for(const s of ma.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ma.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ma.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=6e4,PN=5e3,AN=10*1024,RN=100*1024,Yd="t",Tv="d",ON="s",Iv="r",DN="e",xv="o",bv="a",Nv="n",Pv="p",LN="h";class MN{constructor(e,n,r,i,s,o,l,c,u,p){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=La("c:"+this.id+":"),this.transportManager_=new ma(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ho(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>RN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>AN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Yd in e){const n=e[Yd];n===bv?this.upgradeIfSecondaryHealthy_():n===Iv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===xv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Io("t",e),r=Io("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Pv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:bv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Nv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Io("t",e),r=Io("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Io(Yd,e);if(Tv in e){const r=e[Tv];if(n===LN){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Nv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ON?this.onConnectionShutdown_(r):n===Iv?this.onReset_(r):n===DN?sf("Server Error: "+r):n===xv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Pp!==r&&Et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ho(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(NN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ho(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(PN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Pv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends xE{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Tc}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=32,Rv=768;class _e{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function de(){return new _e("")}function ne(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Wr(t){return t.pieces_.length-t.pieceNum_}function ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _e(t.pieces_,e)}function Op(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function jN(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ga(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function bE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _e(e,0)}function je(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof _e)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new _e(n,0)}function re(t){return t.pieceNum_>=t.pieces_.length}function yt(t,e){const n=ne(t),r=ne(e);if(n===null)return e;if(n===r)return yt(ke(t),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function FN(t,e){const n=ga(t,0),r=ga(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Mi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Dp(t,e){if(Wr(t)!==Wr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Yt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Wr(t)>Wr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class UN{constructor(e,n){this.errorPrefix_=n,this.parts_=ga(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=fu(this.parts_[r]);NE(this)}}function BN(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=fu(e),NE(t)}function $N(t){const e=t.parts_.pop();t.byteLength_-=fu(e),t.parts_.length>0&&(t.byteLength_-=1)}function NE(t){if(t.byteLength_>Rv)throw new Error(t.errorPrefix_+"has a key path longer than "+Rv+" bytes ("+t.byteLength_+").");if(t.parts_.length>Av)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Av+") or object contains a cycle "+fi(t))}function fi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends xE{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Lp}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=1e3,WN=60*5*1e3,Ov=30*1e3,zN=1.3,VN=3e4,HN="server_kill",Dv=3;class Vn extends IE{constructor(e,n,r,i,s,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=Vn.nextPersistentConnectionId_++,this.log_=La("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xo,this.maxReconnectDelay_=WN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!X0())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Tc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(He(s)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Aa,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const c=l.d,u=l.s;Vn.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&bn(e,"w")){const r=js(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Fx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ov)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=jx(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+He(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):sf("Unrecognized action received from server: "+He(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>VN&&(this.reconnectDelay_=xo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*zN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Vn.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,r())},u=function(f){O(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,_]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);o?nt("getToken() completed but was canceled"):(nt("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=_&&_.token,l=new MN(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,E=>{Et(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(HN)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&Et(f),c())}}}interrupt(e){nt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Xh(this.interruptReasons_)&&(this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Np(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new _e(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){nt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Dv&&(this.reconnectDelay_=Ov,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){nt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Dv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+sE.replace(/\./g,"-")]=1,kp()?e["framework.cordova"]=1:Y0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Tc.getInstance().currentlyOnline();return Xh(this.interruptReasons_)&&e}}Vn.nextPersistentConnectionId_=0;Vn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ie(Ni,e),i=new ie(Ni,n);return this.compare(r,i)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl;class PE extends pu{static get __EMPTY_NODE(){return Pl}static set __EMPTY_NODE(e){Pl=e}compare(e,n){return Mi(e.name,n.name)}isDefinedOn(e){throw Qs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ie.MIN}maxPost(){return new ie($r,Pl)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new ie(e,Pl)}toString(){return".key"}}const Ei=new PE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ye.RED,this.left=i??It.EMPTY_NODE,this.right=s??It.EMPTY_NODE}copy(e,n,r,i,s){return new Ye(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return It.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return It.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ye.RED=!0;Ye.BLACK=!1;class GN{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ye(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class It{constructor(e,n=It.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new It(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ye.BLACK,null,null))}remove(e){return new It(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ye.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Al(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Al(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Al(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Al(this.root_,null,this.comparator_,!0,e)}}It.EMPTY_NODE=new GN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t,e){return Mi(t.name,e.name)}function Mp(t,e){return Mi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af;function qN(t){af=t}const AE=function(t){return typeof t=="number"?"number:"+cE(t):"string:"+t},RE=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&bn(e,".sv"),"Priority must be a string or number.")}else O(t===af||t.isEmpty(),"priority of unexpected type.");O(t===af||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lv;class qe{constructor(e,n=qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),RE(this.priorityNode_)}static set __childrenNodeConstructor(e){Lv=e}static get __childrenNodeConstructor(){return Lv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return re(e)?this:ne(e)===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ne(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(O(r!==".priority"||Wr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+AE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=cE(this.value_):e+=this.value_,this.lazyHash_=aE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qe.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=qe.VALUE_TYPE_ORDER.indexOf(n),s=qe.VALUE_TYPE_ORDER.indexOf(r);return O(i>=0,"Unknown leaf type: "+n),O(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OE,DE;function QN(t){OE=t}function YN(t){DE=t}class XN extends pu{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Mi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie($r,new qe("[PRIORITY-POST]",DE))}makePost(e,n){const r=OE(e);return new ie(n,new qe("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ae=new XN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=Math.log(2);class ZN{constructor(e){const n=s=>parseInt(Math.log(s)/JN,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ic=function(t,e,n,r){t.sort(e);const i=function(c,u){const p=u-c;let f,_;if(p===0)return null;if(p===1)return f=t[c],_=n?n(f):f,new Ye(_,f.node,Ye.BLACK,null,null);{const E=parseInt(p/2,10)+c,S=i(c,E),I=i(E+1,u);return f=t[E],_=n?n(f):f,new Ye(_,f.node,Ye.BLACK,S,I)}},s=function(c){let u=null,p=null,f=t.length;const _=function(S,I){const P=f-S,y=f;f-=S;const v=i(P+1,y),w=t[P],N=n?n(w):w;E(new Ye(N,w.node,I,null,v))},E=function(S){u?(u.left=S,u=S):(p=S,u=S)};for(let S=0;S<c.count;++S){const I=c.nextBitIsOne(),P=Math.pow(2,c.count-(S+1));I?_(P,Ye.BLACK):(_(P,Ye.BLACK),_(P,Ye.RED))}return p},o=new ZN(t.length),l=s(o);return new It(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd;const rs={};class Un{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return O(rs&&Ae,"ChildrenNode.ts has not been loaded"),Xd=Xd||new Un({".priority":rs},{".priority":Ae}),Xd}get(e){const n=js(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof It?n:null}hasIndex(e){return bn(this.indexSet_,e.toString())}addIndex(e,n){O(e!==Ei,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ie.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Ic(r,e.getCompare()):l=rs;const c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;const p=Object.assign({},this.indexes_);return p[c]=l,new Un(p,u)}addToIndexes(e,n){const r=Ec(this.indexes_,(i,s)=>{const o=js(this.indexSet_,s);if(O(o,"Missing index implementation for "+s),i===rs)if(o.isDefinedOn(e.node)){const l=[],c=n.getIterator(ie.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&l.push(u),u=c.getNext();return l.push(e),Ic(l,o.getCompare())}else return rs;else{const l=n.get(e.name);let c=i;return l&&(c=c.remove(new ie(e.name,l))),c.insert(e,e.node)}});return new Un(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ec(this.indexes_,i=>{if(i===rs)return i;{const s=n.get(e.name);return s?i.remove(new ie(e.name,s)):i}});return new Un(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo;class G{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&RE(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bo||(bo=new G(new It(Mp),null,Un.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bo}updatePriority(e){return this.children_.isEmpty()?this:new G(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?bo:n}}getChild(e){const n=ne(e);return n===null?this:this.getImmediateChild(n).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ie(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?bo:this.priorityNode_;return new G(i,o,s)}}updateChild(e,n){const r=ne(e);if(r===null)return n;{O(ne(e)!==".priority"||Wr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ke(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ae,(o,l)=>{n[o]=l.val(e),r++,s&&G.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+AE(this.getPriority().val())+":"),this.forEachChild(Ae,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":aE(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ie(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ma?-1:0}withIndex(e){if(e===Ei||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new G(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ei||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ae),i=n.getIterator(Ae);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ei?null:this.indexMap_.get(e.toString())}}G.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class eP extends G{constructor(){super(new It(Mp),G.EMPTY_NODE,Un.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return G.EMPTY_NODE}isEmpty(){return!1}}const Ma=new eP;Object.defineProperties(ie,{MIN:{value:new ie(Ni,G.EMPTY_NODE)},MAX:{value:new ie($r,Ma)}});PE.__EMPTY_NODE=G.EMPTY_NODE;qe.__childrenNodeConstructor=G;qN(Ma);YN(Ma);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=!0;function Ve(t,e=null){if(t===null)return G.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new qe(n,Ve(e))}if(!(t instanceof Array)&&tP){const n=[];let r=!1;if(st(t,(o,l)=>{if(o.substring(0,1)!=="."){const c=Ve(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new ie(o,c)))}}),n.length===0)return G.EMPTY_NODE;const s=Ic(n,KN,o=>o.name,Mp);if(r){const o=Ic(n,Ae.getCompare());return new G(s,Ve(e),new Un({".priority":o},{".priority":Ae}))}else return new G(s,Ve(e),Un.Default)}else{let n=G.EMPTY_NODE;return st(t,(r,i)=>{if(bn(t,r)&&r.substring(0,1)!=="."){const s=Ve(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ve(e))}}QN(Ve);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends pu{constructor(e){super(),this.indexPath_=e,O(!re(e)&&ne(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Mi(e.name,n.name):s}makePost(e,n){const r=Ve(e),i=G.EMPTY_NODE.updateChild(this.indexPath_,r);return new ie(n,i)}maxPost(){const e=G.EMPTY_NODE.updateChild(this.indexPath_,Ma);return new ie($r,e)}toString(){return ga(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP extends pu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Mi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(e,n){const r=Ve(e);return new ie(n,r)}toString(){return".value"}}const LE=new nP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t){return{type:"value",snapshotNode:t}}function Us(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _a(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function va(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function rP(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(_a(n,l)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Us(n,r)):o.trackChildChange(va(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ae,(i,s)=>{n.hasChild(i)||r.trackChildChange(_a(i,s))}),n.isLeafNode()||n.forEachChild(Ae,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(va(i,s,o))}else r.trackChildChange(Us(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?G.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.indexedFilter_=new Fp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ya.getStartPost_(e),this.endPost_=ya.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ie(n,r))||(r=G.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=G.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(G.EMPTY_NODE);const s=this;return n.forEachChild(Ae,(o,l)=>{s.matches(new ie(o,l))||(i=i.updateImmediateChild(o,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ya(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ie(n,r))||(r=G.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=G.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(G.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(_,E)=>f(E,_)}else o=this.index_.getCompare();const l=e;O(l.numChildren()===this.limit_,"");const c=new ie(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),p=this.rangedFilter_.matches(c);if(l.hasChild(n)){const f=l.getImmediateChild(n);let _=i.getChildAfterChild(this.index_,u,this.reverse_);for(;_!=null&&(_.name===n||l.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const E=_==null?1:o(_,c);if(p&&!r.isEmpty()&&E>=0)return s!=null&&s.trackChildChange(va(n,r,f)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(_a(n,f));const I=l.updateImmediateChild(n,G.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(s!=null&&s.trackChildChange(Us(_.name,_.node)),I.updateImmediateChild(_.name,_.node)):I}}else return r.isEmpty()?e:p&&o(u,c)>=0?(s!=null&&(s.trackChildChange(_a(u.name,u.node)),s.trackChildChange(Us(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,G.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ae}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ni}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$r}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ae}copy(){const e=new Up;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function sP(t){return t.loadsAllData()?new Fp(t.getIndex()):t.hasLimit()?new iP(t):new ya(t)}function oP(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function aP(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function lP(t,e){const n=t.copy();return n.index_=e,n}function Mv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ae?n="$priority":t.index_===LE?n="$value":t.index_===Ei?n="$key":(O(t.index_ instanceof jp,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=He(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=He(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+He(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=He(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+He(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function jv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ae&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends IE{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=La("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=xc.getListenId_(e,r),l={};this.listens_[o]=l;const c=Mv(e._queryParams);this.restRequest_(s+".json",c,(u,p)=>{let f=p;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(s,f,!1,r),js(this.listens_,o)===l){let _;u?u===401?_="permission_denied":_="rest_error:"+u:_="ok",i(_,null)}})}unlisten(e,n){const r=xc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Mv(e._queryParams),r=e._path.toString(),i=new Aa;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ys(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=fa(l.responseText)}catch{Et("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&Et("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(){return{value:null,children:new Map}}function jE(t,e,n){if(re(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ne(e);t.children.has(r)||t.children.set(r,bc());const i=t.children.get(r);e=ke(e),jE(i,e,n)}}function lf(t,e,n){t.value!==null?n(e,t.value):uP(t,(r,i)=>{const s=new _e(e.toString()+"/"+r);lf(i,s,n)})}function uP(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&st(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=10*1e3,hP=30*1e3,fP=5*60*1e3;class pP{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new dP(e);const r=Fv+(hP-Fv)*Math.random();Ho(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;st(e,(i,s)=>{s>0&&bn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ho(this.reportStats_.bind(this),Math.floor(Math.random()*2*fP))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cn||(cn={}));function Bp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $p(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=cn.ACK_USER_WRITE,this.source=Bp()}operationForChild(e){if(re(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _e(e));return new Nc(de(),n,this.revert)}}else return O(ne(this.path)===e,"operationForChild called for unrelated child."),new Nc(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.source=e,this.path=n,this.type=cn.LISTEN_COMPLETE}operationForChild(e){return re(this.path)?new wa(this.source,de()):new wa(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=cn.OVERWRITE}operationForChild(e){return re(this.path)?new Pi(this.source,de(),this.snap.getImmediateChild(e)):new Pi(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=cn.MERGE}operationForChild(e){if(re(this.path)){const n=this.children.subtree(new _e(e));return n.isEmpty()?null:n.value?new Pi(this.source,de(),n.value):new Bs(this.source,de(),n)}else return O(ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Bs(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(re(e))return this.isFullyInitialized()&&!this.filtered_;const n=ne(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function gP(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(rP(o.childName,o.snapshotNode))}),No(t,i,"child_removed",e,r,n),No(t,i,"child_added",e,r,n),No(t,i,"child_moved",s,r,n),No(t,i,"child_changed",e,r,n),No(t,i,"value",e,r,n),i}function No(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,c)=>vP(t,l,c)),o.forEach(l=>{const c=_P(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(c,t.query_))})})}function _P(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function vP(t,e,n){if(e.childName==null||n.childName==null)throw Qs("Should only compare child_ events.");const r=new ie(e.childName,e.snapshotNode),i=new ie(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t,e){return{eventCache:t,serverCache:e}}function Go(t,e,n,r){return mu(new zr(e,n,r),t.serverCache)}function FE(t,e,n,r){return mu(t.eventCache,new zr(e,n,r))}function Pc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ai(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd;const yP=()=>(Jd||(Jd=new It(nN)),Jd);class Se{constructor(e,n=yP()){this.value=e,this.children=n}static fromObject(e){let n=new Se(null);return st(e,(r,i)=>{n=n.set(new _e(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:de(),value:this.value};if(re(e))return null;{const r=ne(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ke(e),n);return s!=null?{path:je(new _e(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(re(e))return this;{const n=ne(e),r=this.children.get(n);return r!==null?r.subtree(ke(e)):new Se(null)}}set(e,n){if(re(e))return new Se(n,this.children);{const r=ne(e),s=(this.children.get(r)||new Se(null)).set(ke(e),n),o=this.children.insert(r,s);return new Se(this.value,o)}}remove(e){if(re(e))return this.children.isEmpty()?new Se(null):new Se(null,this.children);{const n=ne(e),r=this.children.get(n);if(r){const i=r.remove(ke(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Se(null):new Se(this.value,s)}else return this}}get(e){if(re(e))return this.value;{const n=ne(e),r=this.children.get(n);return r?r.get(ke(e)):null}}setTree(e,n){if(re(e))return n;{const r=ne(e),s=(this.children.get(r)||new Se(null)).setTree(ke(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Se(this.value,o)}}fold(e){return this.fold_(de(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(je(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,de(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(re(e))return null;{const s=ne(e),o=this.children.get(s);return o?o.findOnPath_(ke(e),je(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,de(),n)}foreachOnPath_(e,n,r){if(re(e))return this;{this.value&&r(n,this.value);const i=ne(e),s=this.children.get(i);return s?s.foreachOnPath_(ke(e),je(n,i),r):new Se(null)}}foreach(e){this.foreach_(de(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(je(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.writeTree_=e}static empty(){return new hn(new Se(null))}}function Ko(t,e,n){if(re(e))return new hn(new Se(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=yt(i,e);return s=s.updateChild(o,n),new hn(t.writeTree_.set(i,s))}else{const i=new Se(n),s=t.writeTree_.setTree(e,i);return new hn(s)}}}function cf(t,e,n){let r=t;return st(n,(i,s)=>{r=Ko(r,je(e,i),s)}),r}function Uv(t,e){if(re(e))return hn.empty();{const n=t.writeTree_.setTree(e,new Se(null));return new hn(n)}}function uf(t,e){return ji(t,e)!=null}function ji(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(yt(n.path,e)):null}function Bv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ae,(r,i)=>{e.push(new ie(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ie(r,i.value))}),e}function Mr(t,e){if(re(e))return t;{const n=ji(t,e);return n!=null?new hn(new Se(n)):new hn(t.writeTree_.subtree(e))}}function df(t){return t.writeTree_.isEmpty()}function $s(t,e){return UE(de(),t.writeTree_,e)}function UE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(O(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=UE(je(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(je(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t,e){return zE(e,t)}function wP(t,e,n,r,i){O(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ko(t.visibleWrites,e,n)),t.lastWriteId=r}function EP(t,e,n,r){O(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=cf(t.visibleWrites,e,n),t.lastWriteId=r}function CP(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function SP(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&kP(l,r.path)?i=!1:Yt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return TP(t),!0;if(r.snap)t.visibleWrites=Uv(t.visibleWrites,r.path);else{const l=r.children;st(l,c=>{t.visibleWrites=Uv(t.visibleWrites,je(r.path,c))})}return!0}else return!1}function kP(t,e){if(t.snap)return Yt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Yt(je(t.path,n),e))return!0;return!1}function TP(t){t.visibleWrites=BE(t.allWrites,IP,de()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function IP(t){return t.visible}function BE(t,e,n){let r=hn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)Yt(n,o)?(l=yt(n,o),r=Ko(r,l,s.snap)):Yt(o,n)&&(l=yt(o,n),r=Ko(r,de(),s.snap.getChild(l)));else if(s.children){if(Yt(n,o))l=yt(n,o),r=cf(r,l,s.children);else if(Yt(o,n))if(l=yt(o,n),re(l))r=cf(r,de(),s.children);else{const c=js(s.children,ne(l));if(c){const u=c.getChild(ke(l));r=Ko(r,de(),u)}}}else throw Qs("WriteRecord should have .snap or .children")}}return r}function $E(t,e,n,r,i){if(!r&&!i){const s=ji(t.visibleWrites,e);if(s!=null)return s;{const o=Mr(t.visibleWrites,e);if(df(o))return n;if(n==null&&!uf(o,de()))return null;{const l=n||G.EMPTY_NODE;return $s(o,l)}}}else{const s=Mr(t.visibleWrites,e);if(!i&&df(s))return n;if(!i&&n==null&&!uf(s,de()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Yt(u.path,e)||Yt(e,u.path))},l=BE(t.allWrites,o,e),c=n||G.EMPTY_NODE;return $s(l,c)}}}function xP(t,e,n){let r=G.EMPTY_NODE;const i=ji(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ae,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Mr(t.visibleWrites,e);return n.forEachChild(Ae,(o,l)=>{const c=$s(Mr(s,new _e(o)),l);r=r.updateImmediateChild(o,c)}),Bv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Mr(t.visibleWrites,e);return Bv(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function bP(t,e,n,r,i){O(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=je(e,n);if(uf(t.visibleWrites,s))return null;{const o=Mr(t.visibleWrites,s);return df(o)?i.getChild(n):$s(o,i.getChild(n))}}function NP(t,e,n,r){const i=je(e,n),s=ji(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Mr(t.visibleWrites,i);return $s(o,r.getNode().getImmediateChild(n))}else return null}function PP(t,e){return ji(t.visibleWrites,e)}function AP(t,e,n,r,i,s,o){let l;const c=Mr(t.visibleWrites,e),u=ji(c,de());if(u!=null)l=u;else if(n!=null)l=$s(c,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const p=[],f=o.getCompare(),_=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let E=_.getNext();for(;E&&p.length<i;)f(E,r)!==0&&p.push(E),E=_.getNext();return p}else return[]}function RP(){return{visibleWrites:hn.empty(),allWrites:[],lastWriteId:-1}}function Ac(t,e,n,r){return $E(t.writeTree,t.treePath,e,n,r)}function zp(t,e){return xP(t.writeTree,t.treePath,e)}function $v(t,e,n,r){return bP(t.writeTree,t.treePath,e,n,r)}function Rc(t,e){return PP(t.writeTree,je(t.treePath,e))}function OP(t,e,n,r,i,s){return AP(t.writeTree,t.treePath,e,n,r,i,s)}function Vp(t,e,n){return NP(t.writeTree,t.treePath,e,n)}function WE(t,e){return zE(je(t.treePath,e),t.writeTree)}function zE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,va(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,_a(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Us(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,va(r,e.snapshotNode,i.oldSnap));else throw Qs("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const VE=new LP;class Hp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new zr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ai(this.viewCache_),s=OP(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){return{filter:t}}function jP(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function FP(t,e,n,r,i){const s=new DP;let o,l;if(n.type===cn.OVERWRITE){const u=n;u.source.fromUser?o=hf(t,e,u.path,u.snap,r,i,s):(O(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!re(u.path),o=Oc(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===cn.MERGE){const u=n;u.source.fromUser?o=BP(t,e,u.path,u.children,r,i,s):(O(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=ff(t,e,u.path,u.children,r,i,l,s))}else if(n.type===cn.ACK_USER_WRITE){const u=n;u.revert?o=zP(t,e,u.path,r,i,s):o=$P(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===cn.LISTEN_COMPLETE)o=WP(t,e,n.path,r,s);else throw Qs("Unknown operation type: "+n.type);const c=s.getChanges();return UP(e,o,c),{viewCache:o,changes:c}}function UP(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Pc(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ME(Pc(e)))}}function HE(t,e,n,r,i,s){const o=e.eventCache;if(Rc(r,n)!=null)return e;{let l,c;if(re(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Ai(e),p=u instanceof G?u:G.EMPTY_NODE,f=zp(r,p);l=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const u=Ac(r,Ai(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=ne(n);if(u===".priority"){O(Wr(n)===1,"Can't have a priority with additional path components");const p=o.getNode();c=e.serverCache.getNode();const f=$v(r,n,p,c);f!=null?l=t.filter.updatePriority(p,f):l=o.getNode()}else{const p=ke(n);let f;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();const _=$v(r,n,o.getNode(),c);_!=null?f=o.getNode().getImmediateChild(u).updateChild(p,_):f=o.getNode().getImmediateChild(u)}else f=Vp(r,u,e.serverCache);f!=null?l=t.filter.updateChild(o.getNode(),u,f,p,i,s):l=o.getNode()}}return Go(e,l,o.isFullyInitialized()||re(n),t.filter.filtersNodes())}}function Oc(t,e,n,r,i,s,o,l){const c=e.serverCache;let u;const p=o?t.filter:t.filter.getIndexedFilter();if(re(n))u=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){const E=c.getNode().updateChild(n,r);u=p.updateFullNode(c.getNode(),E,null)}else{const E=ne(n);if(!c.isCompleteForPath(n)&&Wr(n)>1)return e;const S=ke(n),P=c.getNode().getImmediateChild(E).updateChild(S,r);E===".priority"?u=p.updatePriority(c.getNode(),P):u=p.updateChild(c.getNode(),E,P,S,VE,null)}const f=FE(e,u,c.isFullyInitialized()||re(n),p.filtersNodes()),_=new Hp(i,f,s);return HE(t,f,n,i,_,l)}function hf(t,e,n,r,i,s,o){const l=e.eventCache;let c,u;const p=new Hp(i,e,s);if(re(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=Go(e,u,!0,t.filter.filtersNodes());else{const f=ne(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=Go(e,u,l.isFullyInitialized(),l.isFiltered());else{const _=ke(n),E=l.getNode().getImmediateChild(f);let S;if(re(_))S=r;else{const I=p.getCompleteChild(f);I!=null?Op(_)===".priority"&&I.getChild(bE(_)).isEmpty()?S=I:S=I.updateChild(_,r):S=G.EMPTY_NODE}if(E.equals(S))c=e;else{const I=t.filter.updateChild(l.getNode(),f,S,_,p,o);c=Go(e,I,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function Wv(t,e){return t.eventCache.isCompleteForChild(e)}function BP(t,e,n,r,i,s,o){let l=e;return r.foreach((c,u)=>{const p=je(n,c);Wv(e,ne(p))&&(l=hf(t,l,p,u,i,s,o))}),r.foreach((c,u)=>{const p=je(n,c);Wv(e,ne(p))||(l=hf(t,l,p,u,i,s,o))}),l}function zv(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ff(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;re(n)?u=r:u=new Se(null).setTree(n,r);const p=e.serverCache.getNode();return u.children.inorderTraversal((f,_)=>{if(p.hasChild(f)){const E=e.serverCache.getNode().getImmediateChild(f),S=zv(t,E,_);c=Oc(t,c,new _e(f),S,i,s,o,l)}}),u.children.inorderTraversal((f,_)=>{const E=!e.serverCache.isCompleteForChild(f)&&_.value===null;if(!p.hasChild(f)&&!E){const S=e.serverCache.getNode().getImmediateChild(f),I=zv(t,S,_);c=Oc(t,c,new _e(f),I,i,s,o,l)}}),c}function $P(t,e,n,r,i,s,o){if(Rc(i,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(re(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Oc(t,e,n,c.getNode().getChild(n),i,s,l,o);if(re(n)){let u=new Se(null);return c.getNode().forEachChild(Ei,(p,f)=>{u=u.set(new _e(p),f)}),ff(t,e,n,u,i,s,l,o)}else return e}else{let u=new Se(null);return r.foreach((p,f)=>{const _=je(n,p);c.isCompleteForPath(_)&&(u=u.set(p,c.getNode().getChild(_)))}),ff(t,e,n,u,i,s,l,o)}}function WP(t,e,n,r,i){const s=e.serverCache,o=FE(e,s.getNode(),s.isFullyInitialized()||re(n),s.isFiltered());return HE(t,o,n,r,VE,i)}function zP(t,e,n,r,i,s){let o;if(Rc(r,n)!=null)return e;{const l=new Hp(r,e,i),c=e.eventCache.getNode();let u;if(re(n)||ne(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=Ac(r,Ai(e));else{const f=e.serverCache.getNode();O(f instanceof G,"serverChildren would be complete if leaf node"),p=zp(r,f)}p=p,u=t.filter.updateFullNode(c,p,s)}else{const p=ne(n);let f=Vp(r,p,e.serverCache);f==null&&e.serverCache.isCompleteForChild(p)&&(f=c.getImmediateChild(p)),f!=null?u=t.filter.updateChild(c,p,f,ke(n),l,s):e.eventCache.getNode().hasChild(p)?u=t.filter.updateChild(c,p,G.EMPTY_NODE,ke(n),l,s):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ac(r,Ai(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Rc(r,de())!=null,Go(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Fp(r.getIndex()),s=sP(r);this.processor_=MP(s);const o=n.serverCache,l=n.eventCache,c=i.updateFullNode(G.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(G.EMPTY_NODE,l.getNode(),null),p=new zr(c,o.isFullyInitialized(),i.filtersNodes()),f=new zr(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=mu(f,p),this.eventGenerator_=new mP(this.query_)}get query(){return this.query_}}function HP(t){return t.viewCache_.serverCache.getNode()}function GP(t){return Pc(t.viewCache_)}function KP(t,e){const n=Ai(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!re(e)&&!n.getImmediateChild(ne(e)).isEmpty())?n.getChild(e):null}function Vv(t){return t.eventRegistrations_.length===0}function qP(t,e){t.eventRegistrations_.push(e)}function Hv(t,e,n){const r=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Gv(t,e,n,r){e.type===cn.MERGE&&e.source.queryId!==null&&(O(Ai(t.viewCache_),"We should always have a full cache before handling merges"),O(Pc(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=FP(t.processor_,i,e,n,r);return jP(t.processor_,s.viewCache),O(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,GE(t,s.changes,s.viewCache.eventCache.getNode(),null)}function QP(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ae,(s,o)=>{r.push(Us(s,o))}),n.isFullyInitialized()&&r.push(ME(n.getNode())),GE(t,r,n.getNode(),e)}function GE(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return gP(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc;class KE{constructor(){this.views=new Map}}function YP(t){O(!Dc,"__referenceConstructor has already been defined"),Dc=t}function XP(){return O(Dc,"Reference.ts has not been loaded"),Dc}function JP(t){return t.views.size===0}function Gp(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return O(s!=null,"SyncTree gave us an op for an invalid query."),Gv(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Gv(o,e,n,r));return s}}function qE(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=Ac(n,i?r:null),c=!1;l?c=!0:r instanceof G?(l=zp(n,r),c=!1):(l=G.EMPTY_NODE,c=!1);const u=mu(new zr(l,c,!1),new zr(r,i,!1));return new VP(e,u)}return o}function ZP(t,e,n,r,i,s){const o=qE(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),qP(o,n),QP(o,n)}function eA(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=Vr(t);if(i==="default")for(const[c,u]of t.views.entries())o=o.concat(Hv(u,n,r)),Vv(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||s.push(u.query));else{const c=t.views.get(i);c&&(o=o.concat(Hv(c,n,r)),Vv(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return l&&!Vr(t)&&s.push(new(XP())(e._repo,e._path)),{removed:s,events:o}}function QE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function jr(t,e){let n=null;for(const r of t.views.values())n=n||KP(r,e);return n}function YE(t,e){if(e._queryParams.loadsAllData())return _u(t);{const r=e._queryIdentifier;return t.views.get(r)}}function XE(t,e){return YE(t,e)!=null}function Vr(t){return _u(t)!=null}function _u(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;function tA(t){O(!Lc,"__referenceConstructor has already been defined"),Lc=t}function nA(){return O(Lc,"Reference.ts has not been loaded"),Lc}let rA=1;class Kv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Se(null),this.pendingWriteTree_=RP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function JE(t,e,n,r,i){return wP(t.pendingWriteTree_,e,n,r,i),i?Zs(t,new Pi(Bp(),e,n)):[]}function iA(t,e,n,r){EP(t.pendingWriteTree_,e,n,r);const i=Se.fromObject(n);return Zs(t,new Bs(Bp(),e,i))}function Sr(t,e,n=!1){const r=CP(t.pendingWriteTree_,e);if(SP(t.pendingWriteTree_,e)){let s=new Se(null);return r.snap!=null?s=s.set(de(),!0):st(r.children,o=>{s=s.set(new _e(o),!0)}),Zs(t,new Nc(r.path,s,n))}else return[]}function ja(t,e,n){return Zs(t,new Pi($p(),e,n))}function sA(t,e,n){const r=Se.fromObject(n);return Zs(t,new Bs($p(),e,r))}function oA(t,e){return Zs(t,new wa($p(),e))}function aA(t,e,n){const r=qp(t,n);if(r){const i=Qp(r),s=i.path,o=i.queryId,l=yt(s,e),c=new wa(Wp(o),l);return Yp(t,s,c)}else return[]}function Mc(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||XE(o,e))){const c=eA(o,e,n,r);JP(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=c.removed;if(l=c.events,!i){const p=u.findIndex(_=>_._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(_,E)=>Vr(E));if(p&&!f){const _=t.syncPointTree_.subtree(s);if(!_.isEmpty()){const E=uA(_);for(let S=0;S<E.length;++S){const I=E[S],P=I.query,y=nC(t,I);t.listenProvider_.startListening(qo(P),Ea(t,P),y.hashFn,y.onComplete)}}}!f&&u.length>0&&!r&&(p?t.listenProvider_.stopListening(qo(e),null):u.forEach(_=>{const E=t.queryToTagMap.get(vu(_));t.listenProvider_.stopListening(qo(_),E)}))}dA(t,u)}return l}function ZE(t,e,n,r){const i=qp(t,r);if(i!=null){const s=Qp(i),o=s.path,l=s.queryId,c=yt(o,e),u=new Pi(Wp(l),c,n);return Yp(t,o,u)}else return[]}function lA(t,e,n,r){const i=qp(t,r);if(i){const s=Qp(i),o=s.path,l=s.queryId,c=yt(o,e),u=Se.fromObject(n),p=new Bs(Wp(l),c,u);return Yp(t,o,p)}else return[]}function pf(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(_,E)=>{const S=yt(_,i);s=s||jr(E,S),o=o||Vr(E)});let l=t.syncPointTree_.get(i);l?(o=o||Vr(l),s=s||jr(l,de())):(l=new KE,t.syncPointTree_=t.syncPointTree_.set(i,l));let c;s!=null?c=!0:(c=!1,s=G.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((E,S)=>{const I=jr(S,de());I&&(s=s.updateImmediateChild(E,I))}));const u=XE(l,e);if(!u&&!e._queryParams.loadsAllData()){const _=vu(e);O(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const E=hA();t.queryToTagMap.set(_,E),t.tagToQueryMap.set(E,_)}const p=gu(t.pendingWriteTree_,i);let f=ZP(l,e,n,p,s,c);if(!u&&!o&&!r){const _=YE(l,e);f=f.concat(fA(t,e,_))}return f}function Kp(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const c=yt(o,e),u=jr(l,c);if(u)return u});return $E(i,e,s,n,!0)}function cA(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,p)=>{const f=yt(u,n);r=r||jr(p,f)});let i=t.syncPointTree_.get(n);i?r=r||jr(i,de()):(i=new KE,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new zr(r,!0,!1):null,l=gu(t.pendingWriteTree_,e._path),c=qE(i,e,l,s?o.getNode():G.EMPTY_NODE,s);return GP(c)}function Zs(t,e){return eC(e,t.syncPointTree_,null,gu(t.pendingWriteTree_,de()))}function eC(t,e,n,r){if(re(t.path))return tC(t,e,n,r);{const i=e.get(de());n==null&&i!=null&&(n=jr(i,de()));let s=[];const o=ne(t.path),l=t.operationForChild(o),c=e.children.get(o);if(c&&l){const u=n?n.getImmediateChild(o):null,p=WE(r,o);s=s.concat(eC(l,c,u,p))}return i&&(s=s.concat(Gp(i,t,r,n))),s}}function tC(t,e,n,r){const i=e.get(de());n==null&&i!=null&&(n=jr(i,de()));let s=[];return e.children.inorderTraversal((o,l)=>{const c=n?n.getImmediateChild(o):null,u=WE(r,o),p=t.operationForChild(o);p&&(s=s.concat(tC(p,l,c,u)))}),i&&(s=s.concat(Gp(i,t,r,n))),s}function nC(t,e){const n=e.query,r=Ea(t,n);return{hashFn:()=>(HP(e)||G.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?aA(t,n._path,r):oA(t,n._path);{const s=sN(i,n);return Mc(t,n,null,s)}}}}function Ea(t,e){const n=vu(e);return t.queryToTagMap.get(n)}function vu(t){return t._path.toString()+"$"+t._queryIdentifier}function qp(t,e){return t.tagToQueryMap.get(e)}function Qp(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _e(t.substr(0,e))}}function Yp(t,e,n){const r=t.syncPointTree_.get(e);O(r,"Missing sync point for query tag that we're tracking");const i=gu(t.pendingWriteTree_,e);return Gp(r,n,i,null)}function uA(t){return t.fold((e,n,r)=>{if(n&&Vr(n))return[_u(n)];{let i=[];return n&&(i=QE(n)),st(r,(s,o)=>{i=i.concat(o)}),i}})}function qo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(nA())(t._repo,t._path):t}function dA(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=vu(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function hA(){return rA++}function fA(t,e,n){const r=e._path,i=Ea(t,e),s=nC(t,n),o=t.listenProvider_.startListening(qo(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)O(!Vr(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((u,p,f)=>{if(!re(u)&&p&&Vr(p))return[_u(p).query];{let _=[];return p&&(_=_.concat(QE(p).map(E=>E.query))),st(f,(E,S)=>{_=_.concat(S)}),_}});for(let u=0;u<c.length;++u){const p=c[u];t.listenProvider_.stopListening(qo(p),Ea(t,p))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Xp(n)}node(){return this.node_}}class Jp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=je(this.path_,e);return new Jp(this.syncTree_,n)}node(){return Kp(this.syncTree_,this.path_)}}const pA=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qv=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return mA(t[".sv"],e,n);if(typeof t[".sv"]=="object")return gA(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},mA=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},gA=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&O(!1,"Unexpected increment value: "+r);const i=e.node();if(O(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},rC=function(t,e,n,r){return Zp(e,new Jp(n,t),r)},iC=function(t,e,n){return Zp(t,new Xp(e),n)};function Zp(t,e,n){const r=t.getPriority().val(),i=qv(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=qv(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new qe(l,Ve(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new qe(i))),o.forEachChild(Ae,(l,c)=>{const u=Zp(c,e.getImmediateChild(l),n);u!==c&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function tm(t,e){let n=e instanceof _e?e:new _e(e),r=t,i=ne(n);for(;i!==null;){const s=js(r.node.children,i)||{children:{},childCount:0};r=new em(i,r,s),n=ke(n),i=ne(n)}return r}function eo(t){return t.node.value}function sC(t,e){t.node.value=e,mf(t)}function oC(t){return t.node.childCount>0}function _A(t){return eo(t)===void 0&&!oC(t)}function yu(t,e){st(t.node.children,(n,r)=>{e(new em(n,t,r))})}function aC(t,e,n,r){n&&!r&&e(t),yu(t,i=>{aC(i,e,!0,r)}),n&&r&&e(t)}function vA(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Fa(t){return new _e(t.parent===null?t.name:Fa(t.parent)+"/"+t.name)}function mf(t){t.parent!==null&&yA(t.parent,t.name,t)}function yA(t,e,n){const r=_A(n),i=bn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,mf(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,mf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=/[\[\].#$\/\u0000-\u001F\u007F]/,EA=/[\[\].#$\u0000-\u001F\u007F]/,Zd=10*1024*1024,wu=function(t){return typeof t=="string"&&t.length!==0&&!wA.test(t)},lC=function(t){return typeof t=="string"&&t.length!==0&&!EA.test(t)},CA=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),lC(t)},gf=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!bp(t)||t&&typeof t=="object"&&bn(t,".sv")},Ua=function(t,e,n,r){r&&e===void 0||Eu(Oa(t,"value"),e,n)},Eu=function(t,e,n){const r=n instanceof _e?new UN(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+fi(r));if(typeof e=="function")throw new Error(t+"contains a function "+fi(r)+" with contents = "+e.toString());if(bp(e))throw new Error(t+"contains "+e.toString()+" "+fi(r));if(typeof e=="string"&&e.length>Zd/3&&fu(e)>Zd)throw new Error(t+"contains a string greater than "+Zd+" utf8 bytes "+fi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(st(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!wu(o)))throw new Error(t+" contains an invalid key ("+o+") "+fi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);BN(r,o),Eu(t,l,r),$N(r)}),i&&s)throw new Error(t+' contains ".value" child '+fi(r)+" in addition to actual children.")}},SA=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=ga(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!wu(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(FN);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Yt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},kA=function(t,e,n,r){if(r&&e===void 0)return;const i=Oa(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];st(e,(o,l)=>{const c=new _e(o);if(Eu(i,l,je(n,c)),Op(c)===".priority"&&!gf(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),SA(i,s)},TA=function(t,e,n,r){if(!(r&&n===void 0)&&!wu(n))throw new Error(Oa(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},nm=function(t,e,n,r){if(!(r&&n===void 0)&&!lC(n))throw new Error(Oa(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IA=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),nm(t,e,n,r)},cC=function(t,e){if(ne(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},xA=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!wu(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!CA(n))throw new Error(Oa(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cu(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Dp(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function uC(t,e,n){Cu(t,n),dC(t,r=>Dp(r,e))}function en(t,e,n){Cu(t,n),dC(t,r=>Yt(r,e)||Yt(e,r))}function dC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(NA(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function NA(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();wi&&nt("event: "+n.toString()),Js(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="repo_interrupt",AA=25;class RA{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bc(),this.transactionQueueTree_=new em,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function OA(t,e,n){if(t.stats_=Ap(t.repoInfo_),t.forceRestClient_||cN())t.server_=new xc(t.repoInfo_,(r,i,s,o)=>{Qv(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Yv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{He(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Vn(t.repoInfo_,e,(r,i,s,o)=>{Qv(t,r,i,s,o)},r=>{Yv(t,r)},r=>{DA(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=pN(t.repoInfo_,()=>new pP(t.stats_,t.server_)),t.infoData_=new cP,t.infoSyncTree_=new Kv({startListening:(r,i,s,o)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=ja(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),rm(t,"connected",!1),t.serverSyncTree_=new Kv({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,c)=>{const u=o(l,c);en(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function hC(t){const n=t.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Su(t){return pA({timestamp:hC(t)})}function Qv(t,e,n,r,i){t.dataUpdateCount++;const s=new _e(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const c=Ec(n,u=>Ve(u));o=lA(t.serverSyncTree_,s,c,i)}else{const c=Ve(n);o=ZE(t.serverSyncTree_,s,c,i)}else if(r){const c=Ec(n,u=>Ve(u));o=sA(t.serverSyncTree_,s,c)}else{const c=Ve(n);o=ja(t.serverSyncTree_,s,c)}let l=s;o.length>0&&(l=Ws(t,s)),en(t.eventQueue_,l,o)}function Yv(t,e){rm(t,"connected",e),e===!1&&FA(t)}function DA(t,e){st(e,(n,r)=>{rm(t,n,r)})}function rm(t,e,n){const r=new _e("/.info/"+e),i=Ve(n);t.infoData_.updateSnapshot(r,i);const s=ja(t.infoSyncTree_,r,i);en(t.eventQueue_,r,s)}function im(t){return t.nextWriteId_++}function LA(t,e,n){const r=cA(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Ve(i).withIndex(e._queryParams.getIndex());pf(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=ja(t.serverSyncTree_,e._path,s);else{const l=Ea(t.serverSyncTree_,e);o=ZE(t.serverSyncTree_,e._path,s,l)}return en(t.eventQueue_,e._path,o),Mc(t.serverSyncTree_,e,n,null,!0),s},i=>(Ba(t,"get for query "+He(e)+" failed: "+i),Promise.reject(new Error(i))))}function MA(t,e,n,r,i){Ba(t,"set",{path:e.toString(),value:n,priority:r});const s=Su(t),o=Ve(n,r),l=Kp(t.serverSyncTree_,e),c=iC(o,l,s),u=im(t),p=JE(t.serverSyncTree_,e,c,u,!0);Cu(t.eventQueue_,p),t.server_.put(e.toString(),o.val(!0),(_,E)=>{const S=_==="ok";S||Et("set at "+e+" failed: "+_);const I=Sr(t.serverSyncTree_,u,!S);en(t.eventQueue_,e,I),_f(t,i,_,E)});const f=om(t,e);Ws(t,f),en(t.eventQueue_,f,[])}function jA(t,e,n,r){Ba(t,"update",{path:e.toString(),value:n});let i=!0;const s=Su(t),o={};if(st(n,(l,c)=>{i=!1,o[l]=rC(je(e,l),Ve(c),t.serverSyncTree_,s)}),i)nt("update() called with empty data.  Don't do anything."),_f(t,r,"ok",void 0);else{const l=im(t),c=iA(t.serverSyncTree_,e,o,l);Cu(t.eventQueue_,c),t.server_.merge(e.toString(),n,(u,p)=>{const f=u==="ok";f||Et("update at "+e+" failed: "+u);const _=Sr(t.serverSyncTree_,l,!f),E=_.length>0?Ws(t,e):e;en(t.eventQueue_,E,_),_f(t,r,u,p)}),st(n,u=>{const p=om(t,je(e,u));Ws(t,p)}),en(t.eventQueue_,e,[])}}function FA(t){Ba(t,"onDisconnectEvents");const e=Su(t),n=bc();lf(t.onDisconnect_,de(),(i,s)=>{const o=rC(i,s,t.serverSyncTree_,e);jE(n,i,o)});let r=[];lf(n,de(),(i,s)=>{r=r.concat(ja(t.serverSyncTree_,i,s));const o=om(t,i);Ws(t,o)}),t.onDisconnect_=bc(),en(t.eventQueue_,de(),r)}function UA(t,e,n){let r;ne(e._path)===".info"?r=pf(t.infoSyncTree_,e,n):r=pf(t.serverSyncTree_,e,n),uC(t.eventQueue_,e._path,r)}function Xv(t,e,n){let r;ne(e._path)===".info"?r=Mc(t.infoSyncTree_,e,n):r=Mc(t.serverSyncTree_,e,n),uC(t.eventQueue_,e._path,r)}function BA(t){t.persistentConnection_&&t.persistentConnection_.interrupt(PA)}function Ba(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),nt(n,...e)}function _f(t,e,n,r){e&&Js(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function fC(t,e,n){return Kp(t.serverSyncTree_,e,n)||G.EMPTY_NODE}function sm(t,e=t.transactionQueueTree_){if(e||ku(t,e),eo(e)){const n=mC(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&$A(t,Fa(e),n)}else oC(e)&&yu(e,n=>{sm(t,n)})}function $A(t,e,n){const r=n.map(u=>u.currentWriteId),i=fC(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const p=n[u];O(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const f=yt(e,p.path);s=s.updateChild(f,p.currentOutputSnapshotRaw)}const l=s.val(!0),c=e;t.server_.put(c.toString(),l,u=>{Ba(t,"transaction put response",{path:c.toString(),status:u});let p=[];if(u==="ok"){const f=[];for(let _=0;_<n.length;_++)n[_].status=2,p=p.concat(Sr(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&f.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();ku(t,tm(t.transactionQueueTree_,e)),sm(t,t.transactionQueueTree_),en(t.eventQueue_,e,p);for(let _=0;_<f.length;_++)Js(f[_])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Et("transaction at "+c.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Ws(t,e)}},o)}function Ws(t,e){const n=pC(t,e),r=Fa(n),i=mC(t,n);return WA(t,i,r),r}function WA(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],u=yt(n,c.path);let p=!1,f;if(O(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)p=!0,f=c.abortReason,i=i.concat(Sr(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=AA)p=!0,f="maxretry",i=i.concat(Sr(t.serverSyncTree_,c.currentWriteId,!0));else{const _=fC(t,c.path,o);c.currentInputSnapshot=_;const E=e[l].update(_.val());if(E!==void 0){Eu("transaction failed: Data returned ",E,c.path);let S=Ve(E);typeof E=="object"&&E!=null&&bn(E,".priority")||(S=S.updatePriority(_.getPriority()));const P=c.currentWriteId,y=Su(t),v=iC(S,_,y);c.currentOutputSnapshotRaw=S,c.currentOutputSnapshotResolved=v,c.currentWriteId=im(t),o.splice(o.indexOf(P),1),i=i.concat(JE(t.serverSyncTree_,c.path,v,c.currentWriteId,c.applyLocally)),i=i.concat(Sr(t.serverSyncTree_,P,!0))}else p=!0,f="nodata",i=i.concat(Sr(t.serverSyncTree_,c.currentWriteId,!0))}en(t.eventQueue_,n,i),i=[],p&&(e[l].status=2,function(_){setTimeout(_,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(f),!1,null))))}ku(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Js(r[l]);sm(t,t.transactionQueueTree_)}function pC(t,e){let n,r=t.transactionQueueTree_;for(n=ne(e);n!==null&&eo(r)===void 0;)r=tm(r,n),e=ke(e),n=ne(e);return r}function mC(t,e){const n=[];return gC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function gC(t,e,n){const r=eo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);yu(e,i=>{gC(t,i,n)})}function ku(t,e){const n=eo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,sC(e,n.length>0?n:void 0)}yu(e,r=>{ku(t,r)})}function om(t,e){const n=Fa(pC(t,e)),r=tm(t.transactionQueueTree_,e);return vA(r,i=>{eh(t,i)}),eh(t,r),aC(r,i=>{eh(t,i)}),n}function eh(t,e){const n=eo(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(O(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(O(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Sr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?sC(e,void 0):n.length=s+1,en(t.eventQueue_,Fa(e),i);for(let o=0;o<r.length;o++)Js(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function VA(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Et(`Invalid query segment '${n}' in query '${t}'`)}return e}const Jv=function(t,e){const n=HA(t),r=n.namespace;n.domain==="firebase.com"&&Yn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||eN();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new yE(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new _e(n.pathString)}},HA=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let p=t.indexOf("/");p===-1&&(p=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(p,f)),p<f&&(i=zA(t.substring(p,f)));const _=VA(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const E=e.slice(0,u);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),s=r}"ns"in _&&(s=_.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",GA=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Zv.charAt(n%64),n=Math.floor(n/64);O(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Zv.charAt(e[i]);return O(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+He(this.snapshot.exportVal())}}class vC{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return re(this._path)?null:Op(this._path)}get ref(){return new Nn(this._repo,this._path)}get _queryIdentifier(){const e=jv(this._queryParams),n=Np(e);return n==="{}"?"default":n}get _queryObject(){return jv(this._queryParams)}isEqual(e){if(e=at(e),!(e instanceof to))return!1;const n=this._repo===e._repo,r=Dp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+jN(this._path)}}function KA(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function am(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ei){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Ni)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==$r)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Ae){if(e!=null&&!gf(e)||n!=null&&!gf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(O(t.getIndex()instanceof jp||t.getIndex()===LE,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function wC(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Nn extends to{constructor(e,n){super(e,n,new Up,!1)}get parent(){const e=bE(this._path);return e===null?null:new Nn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class zs{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new _e(e),r=Vs(this.ref,e);return new zs(this._node.getChild(n),r,Ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new zs(i,Vs(this.ref,r),Ae)))}hasChild(e){const n=new _e(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function le(t,e){return t=at(t),t._checkNotDeleted("ref"),e!==void 0?Vs(t._root,e):t._root}function Vs(t,e){return t=at(t),ne(t._path)===null?IA("child","path",e,!1):nm("child","path",e,!1),new Nn(t._repo,je(t._path,e))}function EC(t,e){t=at(t),cC("push",t._path),Ua("push",e,t._path,!0);const n=hC(t._repo),r=GA(n),i=Vs(t,r),s=Vs(t,r);let o;return e!=null?o=CC(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function CC(t,e){t=at(t),cC("set",t._path),Ua("set",e,t._path,!1);const n=new Aa;return MA(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function mn(t,e){kA("update",e,t._path,!1);const n=new Aa;return jA(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function ot(t){t=at(t);const e=new yC(()=>{}),n=new Tu(e);return LA(t._repo,t,n).then(r=>new zs(r,new Nn(t._repo,t._path),t._queryParams.getIndex()))}class Tu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new _C("value",this,new zs(e.snapshotNode,new Nn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new vC(this,e,n):null}matches(e){return e instanceof Tu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class lm{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new vC(this,e,n):null}createEvent(e,n){O(e.childName!=null,"Child events should have a childName.");const r=Vs(new Nn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new _C(e.type,this,new zs(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof lm?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function SC(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const c=n,u=(p,f)=>{Xv(t._repo,t,l),c(p,f)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new yC(n,s||void 0),l=e==="value"?new Tu(o):new lm(e,o);return UA(t._repo,t,l),()=>Xv(t._repo,t,l)}function ey(t,e,n,r){return SC(t,"value",e,n,r)}function qA(t,e,n,r){return SC(t,"child_changed",e,n,r)}class Iu{}class QA extends Iu{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Ua("endAt",this._value,e._path,!0);const n=aP(e._queryParams,this._value,this._key);if(wC(n),am(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new to(e._repo,e._path,n,e._orderByCalled)}}class YA extends Iu{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Ua("startAt",this._value,e._path,!0);const n=oP(e._queryParams,this._value,this._key);if(wC(n),am(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new to(e._repo,e._path,n,e._orderByCalled)}}class XA extends Iu{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){KA(e,"orderByChild");const n=new _e(this._path);if(re(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new jp(n),i=lP(e._queryParams,r);return am(i),new to(e._repo,e._path,i,!0)}}function xu(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return nm("orderByChild","path",t,!1),new XA(t)}class JA extends Iu{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Ua("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new QA(this._value,this._key)._apply(new YA(this._value,this._key)._apply(e))}}function bu(t,e){return TA("equalTo","key",e,!0),new JA(t,e)}function Nu(t,...e){let n=at(t);for(const r of e)n=r._apply(n);return n}YP(Nn);tA(Nn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="FIREBASE_DATABASE_EMULATOR_HOST",vf={};let eR=!1;function tR(t,e,n,r){t.repoInfo_=new yE(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function nR(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Jv(s,i),l=o.repoInfo,c,u;typeof process<"u"&&yv&&(u=yv[ZA]),u?(c=!0,s=`http://${u}?ns=${l.namespace}`,o=Jv(s,i),l=o.repoInfo):c=!o.repoInfo.secure;const p=i&&c?new Is(Is.OWNER):new dN(t.name,t.options,e);xA("Invalid Firebase Database URL",o),re(o.path)||Yn("Database URL must point to the root of a Firebase Database (not including a child path).");const f=iR(l,t,p,new uN(t.name,n));return new sR(f,t)}function rR(t,e){const n=vf[e];(!n||n[t.key]!==t)&&Yn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),BA(t),delete n[t.key]}function iR(t,e,n,r){let i=vf[e.name];i||(i={},vf[e.name]=i);let s=i[t.toURLString()];return s&&Yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new RA(t,eR,n,r),i[t.toURLString()]=s,s}class sR{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(OA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nn(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(rR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Yn("Cannot call "+e+" on a deleted database.")}}function oR(t=nE(),e){const n=xp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=bx("database");r&&aR(n,...r)}return n}function aR(t,e,n,r={}){t=at(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Yn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Is(Is.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Nx(r.mockUserToken,t.app.options.projectId);s=new Is(o)}tR(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){Qb(Xs),Fs(new xi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return nR(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Lr(wv,Ev,t),Lr(wv,Ev,"esm2017")}Vn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Vn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};lR();var cR="firebase",uR="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(cR,uR,"app");function cm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dR=kC,TC=new Ra("auth","Firebase",kC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Tp("@firebase/auth");function hR(t,...e){jc.logLevel<=we.WARN&&jc.warn(`Auth (${Xs}): ${t}`,...e)}function Hl(t,...e){jc.logLevel<=we.ERROR&&jc.error(`Auth (${Xs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw um(t,...e)}function In(t,...e){return um(t,...e)}function IC(t,e,n){const r=Object.assign(Object.assign({},dR()),{[e]:n});return new Ra("auth","Firebase",r).create(e,{appName:t.name})}function Hn(t){return IC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function um(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TC.create(t,...e)}function K(t,e,...n){if(!t)throw um(e,...n)}function Bn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hl(e),new Error(e)}function Xn(t,e){t||Bn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fR(){return ty()==="http:"||ty()==="https:"}function ty(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fR()||Px()||"connection"in navigator)?navigator.onLine:!0}function mR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xn(n>e,"Short delay should be less than long delay!"),this.isMobile=kp()||Y0()}get(){return pR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t,e){Xn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new $a(3e4,6e4);function Qr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yr(t,e,n,r,i={}){return bC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Ys(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),xC.fetch()(NC(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function bC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gR),e);try{const i=new yR(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Rl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Rl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Rl(t,"user-disabled",o);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw IC(t,p,u);pn(t,p)}}catch(i){if(i instanceof qr)throw i;pn(t,"network-request-failed",{message:String(i)})}}async function Wa(t,e,n,r,i={}){const s=await Yr(t,e,n,r,i);return"mfaPendingCredential"in s&&pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function NC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?dm(t.config,i):`${t.config.apiScheme}://${i}`}function vR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(In(this.auth,"network-request-failed")),_R.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=In(t,e,r);return i.customData._tokenResponse=n,i}function ny(t){return t!==void 0&&t.enterprise!==void 0}class wR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function ER(t,e){return Yr(t,"GET","/v2/recaptchaConfig",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(t,e){return Yr(t,"POST","/v1/accounts:delete",e)}async function PC(t,e){return Yr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SR(t,e=!1){const n=at(t),r=await n.getIdToken(e),i=hm(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Qo(th(i.auth_time)),issuedAtTime:Qo(th(i.iat)),expirationTime:Qo(th(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function th(t){return Number(t)*1e3}function hm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hl("JWT malformed, contained fewer than 3 sections"),null;try{const i=wc(n);return i?JSON.parse(i):(Hl("Failed to decode base64 JWT payload"),null)}catch(i){return Hl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ry(t){const e=hm(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qr&&kR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qo(this.lastLoginAt),this.creationTime=Qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ca(t,PC(n,{idToken:r}));K(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?AC(s.providerUserInfo):[],l=xR(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new wf(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,f)}async function IR(t){const e=at(t);await Fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AC(t){return t.map(e=>{var{providerId:n}=e,r=cm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(t,e){const n=await bC(t,{},async()=>{const r=Ys({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=NC(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",xC.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NR(t,e){return Yr(t,"POST","/v2/accounts:revokeToken",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ry(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=ry(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await bR(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new xs;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xs,this.toJSON())}_performRefresh(){return Bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $n{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=cm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ca(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SR(this,e)}reload(){return IR(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(Hn(this.auth));const e=await this.getIdToken();return await Ca(this,CR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,u,p;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(l=n.tenantId)!==null&&l!==void 0?l:void 0,P=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:w,emailVerified:N,isAnonymous:L,providerData:j,stsTokenManager:$}=n;K(w&&$,e,"internal-error");const z=xs.fromJSON(this.name,$);K(typeof w=="string",e,"internal-error"),dr(f,e.name),dr(_,e.name),K(typeof N=="boolean",e,"internal-error"),K(typeof L=="boolean",e,"internal-error"),dr(E,e.name),dr(S,e.name),dr(I,e.name),dr(P,e.name),dr(y,e.name),dr(v,e.name);const fe=new $n({uid:w,auth:e,email:_,emailVerified:N,displayName:f,isAnonymous:L,photoURL:S,phoneNumber:E,tenantId:I,stsTokenManager:z,createdAt:y,lastLoginAt:v});return j&&Array.isArray(j)&&(fe.providerData=j.map(Q=>Object.assign({},Q))),P&&(fe._redirectEventId=P),fe}static async _fromIdTokenResponse(e,n,r=!1){const i=new xs;i.updateFromServerResponse(n);const s=new $n({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];K(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?AC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new xs;l.updateFromIdToken(r);const c=new $n({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=new Map;function Wn(t){Xn(t instanceof Function,"Expected a class definition");let e=iy.get(t);return e?(Xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RC.type="NONE";const sy=RC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t,e,n){return`firebase:${t}:${e}:${n}`}class bs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$n._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bs(Wn(sy),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Wn(sy);const o=Gl(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const p=await u._get(o);if(p){const f=$n._fromJSON(e,p);u!==s&&(l=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new bs(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new bs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jC(e))return"Blackberry";if(FC(e))return"Webos";if(fm(e))return"Safari";if((e.includes("chrome/")||DC(e))&&!e.includes("edge/"))return"Chrome";if(MC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function OC(t=ht()){return/firefox\//i.test(t)}function fm(t=ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DC(t=ht()){return/crios\//i.test(t)}function LC(t=ht()){return/iemobile/i.test(t)}function MC(t=ht()){return/android/i.test(t)}function jC(t=ht()){return/blackberry/i.test(t)}function FC(t=ht()){return/webos/i.test(t)}function Pu(t=ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PR(t=ht()){var e;return Pu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AR(){return Ax()&&document.documentMode===10}function UC(t=ht()){return Pu(t)||MC(t)||FC(t)||jC(t)||/windows phone/i.test(t)||LC(t)}function RR(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t,e=[]){let n;switch(t){case"Browser":n=oy(ht());break;case"Worker":n=`${oy(ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(t,e={}){return Yr(t,"GET","/v2/passwordPolicy",Qr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=6;class MR{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:LR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ay(this),this.idTokenSubscription=new ay(this),this.beforeStateQueue=new OR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await bs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await PC(this,{idToken:e}),r=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Sn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(Hn(this));const n=e?at(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(Hn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(Hn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DR(this),n=new MR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ra("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await bs.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fi(t){return at(t)}class ay{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bx(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FR(t){Au=t}function $C(t){return Au.loadJS(t)}function UR(){return Au.recaptchaEnterpriseScript}function BR(){return Au.gapiScript}function $R(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const WR="recaptcha-enterprise",zR="NO_RECAPTCHA";class VR{constructor(e){this.type=WR,this.auth=Fi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{ER(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new wR(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;ny(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(zR)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&ny(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=UR();c.length!==0&&(c+=l),$C(c).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function ly(t,e,n,r=!1){const i=new VR(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ef(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ly(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ly(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e){const n=xp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Cc(s,e??{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function GR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KR(t,e,n){const r=Fi(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=WC(e),{host:o,port:l}=qR(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||QR()}function WC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qR(t){const e=WC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:cy(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:cy(o)}}}function cy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function QR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bn("not implemented")}_getIdTokenResponse(e){return Bn("not implemented")}_linkToIdToken(e,n){return Bn("not implemented")}_getReauthenticationResolver(e){return Bn("not implemented")}}async function YR(t,e){return Yr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(t,e){return Wa(t,"POST","/v1/accounts:signInWithPassword",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t,e){return Wa(t,"POST","/v1/accounts:signInWithEmailLink",Qr(t,e))}async function ZR(t,e){return Wa(t,"POST","/v1/accounts:signInWithEmailLink",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends pm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Sa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ef(e,n,"signInWithPassword",XR);case"emailLink":return JR(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ef(e,r,"signUpPassword",YR);case"emailLink":return ZR(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(t,e){return Wa(t,"POST","/v1/accounts:signInWithIdp",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="http://localhost";class Ri extends pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ri(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=cm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ri(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ns(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ns(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ns(e,n)}buildRequest(){const e={requestUri:eO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ys(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nO(t){const e=Do(Lo(t)).link,n=e?Do(Lo(e)).deep_link_id:null,r=Do(Lo(t)).deep_link_id;return(r?Do(Lo(r)).link:null)||r||n||e||t}class mm{constructor(e){var n,r,i,s,o,l;const c=Do(Lo(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,f=tO((i=c.mode)!==null&&i!==void 0?i:null);K(u&&p&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=nO(e);try{return new mm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.providerId=no.PROVIDER_ID}static credential(e,n){return Sa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mm.parseLink(n);return K(r,"argument-error"),Sa._fromEmailAndCode(e,r.code,r.tenantId)}}no.PROVIDER_ID="password";no.EMAIL_PASSWORD_SIGN_IN_METHOD="password";no.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends zC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends za{constructor(){super("facebook.com")}static credential(e){return Ri._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.FACEBOOK_SIGN_IN_METHOD="facebook.com";_r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends za{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ri._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends za{constructor(){super("github.com")}static credential(e){return Ri._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends za{constructor(){super("twitter.com")}static credential(e,n){return Ri._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wr.credential(n,r)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(t,e){return Wa(t,"POST","/v1/accounts:signUp",Qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $n._fromIdTokenResponse(e,r,i),o=uy(r);return new Oi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=uy(r);return new Oi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function uy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends qr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Uc(e,n,r,i)}}function VC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Uc._fromErrorAndOperation(t,s,e,r):s})}async function iO(t,e,n=!1){const r=await Ca(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e,n=!1){const{auth:r}=t;if(Sn(r.app))return Promise.reject(Hn(r));const i="reauthenticate";try{const s=await Ca(t,VC(r,i,e,t),n);K(s.idToken,r,"internal-error");const o=hm(s.idToken);K(o,r,"internal-error");const{sub:l}=o;return K(t.uid===l,r,"user-mismatch"),Oi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(t,e,n=!1){if(Sn(t.app))return Promise.reject(Hn(t));const r="signIn",i=await VC(t,r,e),s=await Oi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function oO(t,e){return HC(Fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(t){const e=Fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aO(t,e,n){if(Sn(t.app))return Promise.reject(Hn(t));const r=Fi(t),o=await Ef(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rO).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&GC(t),c}),l=await Oi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function lO(t,e,n){return Sn(t.app)?Promise.reject(Hn(t)):oO(at(t),no.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GC(t),r})}function cO(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function uO(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function dO(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}function hO(t){return at(t).signOut()}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){const t=ht();return fm(t)||Pu(t)}const pO=1e3,mO=10;class qC extends KC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fO()&&RR(),this.fallbackToPolling=UC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);AR()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qC.type="LOCAL";const gO=qC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC extends KC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QC.type="SESSION";const YC=QC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ru(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await _O(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ru.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=gm("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const _=f;if(_.data.eventId===u)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(_.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function yO(t){xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function wO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CO(){return XC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="firebaseLocalStorageDb",SO=1,$c="firebaseLocalStorage",ZC="fbase_key";class Va{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ou(t,e){return t.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function kO(){const t=indexedDB.deleteDatabase(JC);return new Va(t).toPromise()}function Cf(){const t=indexedDB.open(JC,SO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($c,{keyPath:ZC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($c)?e(r):(r.close(),await kO(),e(await Cf()))})})}async function dy(t,e,n){const r=Ou(t,!0).put({[ZC]:e,value:n});return new Va(r).toPromise()}async function TO(t,e){const n=Ou(t,!1).get(e),r=await new Va(n).toPromise();return r===void 0?null:r.value}function hy(t,e){const n=Ou(t,!0).delete(e);return new Va(n).toPromise()}const IO=800,xO=3;class eS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ru._getInstance(CO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wO(),!this.activeServiceWorker)return;this.sender=new vO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cf();return await dy(e,Bc,"1"),await hy(e,Bc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ou(i,!1).getAll();return new Va(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eS.type="LOCAL";const bO=eS;new $a(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t,e){return e?Wn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ns(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ns(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PO(t){return HC(t.auth,new _m(t),t.bypassAuthState)}function AO(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),sO(n,new _m(t),t.bypassAuthState)}async function RO(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),iO(n,new _m(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PO;case"linkViaPopup":case"linkViaRedirect":return RO;case"reauthViaPopup":case"reauthViaRedirect":return AO;default:pn(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new $a(2e3,1e4);class _s extends tS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const e=gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OO.get())};e()}}_s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="pendingRedirect",Kl=new Map;class LO extends tS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kl.get(this.auth._key());if(!e){try{const r=await MO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kl.set(this.auth._key(),e)}return this.bypassAuthState||Kl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MO(t,e){const n=UO(e),r=FO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function jO(t,e){Kl.set(t._key(),e)}function FO(t){return Wn(t._redirectPersistence)}function UO(t){return Gl(DO,t.config.apiKey,t.name)}async function BO(t,e,n=!1){if(Sn(t.app))return Promise.reject(Hn(t));const r=Fi(t),i=NO(r,e),o=await new LO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=10*60*1e3;class WO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(In(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$O&&this.cachedEventUids.clear(),this.cachedEventUids.has(fy(e))}saveEventToCache(e){this.cachedEventUids.add(fy(e)),this.lastProcessedEventTime=Date.now()}}function fy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t,e={}){return Yr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GO=/^https?/;async function KO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VO(t);for(const n of e)try{if(qO(n))return}catch{}pn(t,"unauthorized-domain")}function qO(t){const e=yf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GO.test(n))return!1;if(HO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new $a(3e4,6e4);function py(){const t=xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YO(t){return new Promise((e,n)=>{var r,i,s;function o(){py(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{py(),n(In(t,"network-request-failed"))},timeout:QO.get()})}if(!((i=(r=xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xn().gapi)===null||s===void 0)&&s.load)o();else{const l=$R("iframefcb");return xn()[l]=()=>{gapi.load?o():n(In(t,"network-request-failed"))},$C(`${BR()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ql=null,e})}let ql=null;function XO(t){return ql=ql||YO(t),ql}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=new $a(5e3,15e3),ZO="__/auth/iframe",eD="emulator/auth/iframe",tD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rD(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dm(e,eD):`https://${t.config.authDomain}/${ZO}`,r={apiKey:e.apiKey,appName:t.name,v:Xs},i=nD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ys(r).slice(1)}`}async function iD(t){const e=await XO(t),n=xn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:rD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=In(t,"network-request-failed"),l=xn().setTimeout(()=>{s(o)},JO.get());function c(){xn().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oD=500,aD=600,lD="_blank",cD="http://localhost";class my{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uD(t,e,n,r=oD,i=aD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},sD),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ht().toLowerCase();n&&(l=DC(u)?lD:n),OC(u)&&(e=e||cD,c.scrollbars="yes");const p=Object.entries(c).reduce((_,[E,S])=>`${_}${E}=${S},`,"");if(PR(u)&&l!=="_self")return dD(e||"",l),new my(null);const f=window.open(e||"",l,p);K(f,t,"popup-blocked");try{f.focus()}catch{}return new my(f)}function dD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="__/auth/handler",fD="emulator/auth/handler",pD=encodeURIComponent("fac");async function gy(t,e,n,r,i,s){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xs,eventId:i};if(e instanceof zC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Xh(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,f]of Object.entries(s||{}))o[p]=f}if(e instanceof za){const p=e.getScopes().filter(f=>f!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const c=await t._getAppCheckToken(),u=c?`#${pD}=${encodeURIComponent(c)}`:"";return`${mD(t)}?${Ys(l).slice(1)}${u}`}function mD({config:t}){return t.emulator?dm(t,fD):`https://${t.authDomain}/${hD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="webStorageSupport";class gD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YC,this._completeRedirectFn=BO,this._overrideRedirectResult=jO}async _openPopup(e,n,r,i){var s;Xn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await gy(e,n,r,yf(),i);return uD(e,o,gm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await gy(e,n,r,yf(),i);return yO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await iD(e),r=new WO(e);return n.register("authEvent",i=>(K(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nh,{type:nh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[nh];o!==void 0&&n(!!o),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UC()||fm()||Pu()}}const _D=gD;var _y="@firebase/auth",vy="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wD(t){Fs(new xi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BC(t)},u=new jR(r,i,s,c);return GR(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fs(new xi("auth-internal",e=>{const n=Fi(e.getProvider("auth").getImmediate());return(r=>new vD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(_y,vy,yD(t)),Lr(_y,vy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=5*60,CD=Q0("authIdTokenMaxAge")||ED;let yy=null;const SD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CD)return;const i=n==null?void 0:n.token;yy!==i&&(yy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kD(t=nE()){const e=xp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HR(t,{popupRedirectResolver:_D,persistence:[bO,gO,YC]}),r=Q0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=SD(s.toString());uO(n,o,()=>o(n.currentUser)),cO(n,l=>o(l))}}const i=K0("auth");return i&&KR(n,`http://${i}`),n}function TD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=In("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",TD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wD("Browser");const ID={apiKey:"AIzaSyD2gWWF06GSrkPtD4tK4EKGftRdLuH-Fk0",authDomain:"reactventure-9cf76.firebaseapp.com",projectId:"reactventure-9cf76",storageBucket:"reactventure-9cf76.appspot.com",messagingSenderId:"650631874031",appId:"1:650631874031:web:d4187efa2bb1439bce621a",databaseURL:"https://reactventure-9cf76-default-rtdb.europe-west1.firebasedatabase.app/"},rS=tE(ID),Du=kD(rS),ce=oR(rS),xD=async(t,e,n)=>{const r={title:t,content:e,author:n,createdOn:Date.now(),isDeleted:!1},i=await EC(le(ce,"posts"),r);console.log(i.key)},iS=async(t=null,e="")=>{const n=await ot(le(ce,"posts"));if(!n.exists())return[];let r=Object.entries(n.val()).map(([i,s])=>({...s,id:i,likedBy:s.likedBy?Object.keys(s.likedBy):[],createdOn:new Date(s.createdOn).toString()})).filter(i=>!i.isDeleted);return t&&(r=r.filter(i=>i.author===t)),e&&(r=r.filter(i=>i.content.toLowerCase().includes(e.toLowerCase()))),r},bD=async()=>{const t=await ot(le(ce,"posts")),e=Object.entries(t.val()).map(([n,r])=>({...r,id:n}));return Array.isArray(e)?(e.sort((n,r)=>n.author.localeCompare(r.author)),e.reverse()):(console.error("Posts data is not in the expected format."),[])},ND=async()=>{const t=await ot(le(ce,"posts")),e=Object.entries(t.val()).map(([n,r])=>({...r,id:n}));return e.sort((n,r)=>r.createdOn-n.createdOn),e},wy=async()=>{const t=await ot(le(ce,"posts")),e=Object.entries(t.val()).map(([r,i])=>({...i,id:r}));return Array.isArray(e)?e.filter(r=>r.likedBy&&Object.keys(r.likedBy).length>0).reverse():(console.error("Posts data is not in the expected format."),[])},PD=async()=>{const t=await ot(le(ce,"posts")),e=Object.entries(t.val()).map(([s,o])=>({...o,id:s})),n=await ot(le(ce,"comments")),r=Object.entries(n.val()).map(([s,o])=>({...o,id:s}));return e.filter(s=>r.some(o=>o.postId===s.id)).reverse()},sS=async()=>{const t=await ot(le(ce,"posts"));if(!t.exists())return[];const n=(await ot(le(ce,"comments"))).val(),r=Object.entries(t.val()).map(([s,o])=>{const l=s,c=n?Object.values(n).filter(u=>u.postId===l).length:0;return{id:l,commentsCount:c,...o}});return r.sort((s,o)=>o.commentsCount-s.commentsCount),r.map(s=>({...s,likedBy:s.likedBy?Object.keys(s.likedBy):[],createdOn:new Date(s.createdOn).toString()})).slice(0,10)},oS=async()=>{const t=await ot(le(ce,"posts"));return t.exists()?Object.entries(t.val()).map(([n,r])=>({...r,id:n,likedBy:r.likedBy?Object.keys(r.likedBy):[],createdOn:new Date(r.createdOn).toString()})).sort((n,r)=>new Date(r.createdOn)-new Date(n.createdOn)).slice(0,10):[]},AD=async()=>{try{const t=le(ce,"users"),e=await ot(t);return e.exists()?Object.keys(e.val()).length:0}catch(t){return console.error("Error fetching number of users:",t),0}},RD=async()=>{try{const t=le(ce,"posts"),e=await ot(t);return e.exists()?Object.keys(e.val()).length:0}catch(t){return console.error("Error fetching number of posts:",t),0}},aS=async(t,e)=>{const n={};n[`users/${e}/likedPosts/${t}`]=!0,n[`posts/${t}/likedBy/${e}`]=!0,mn(le(ce),n)},OD=async(t,e)=>{const n={};n[`users/${e}/likedPosts/${t}`]=null,n[`posts/${t}/likedBy/${e}`]=null,mn(le(ce),n)},ro=async t=>{await mn(le(ce),{[`posts/${t}/isDeleted`]:!0})},lS=async t=>{const e={};e[`posts/${t}/isDeleted`]=null,await mn(le(ce),e)},DD=async()=>{try{const t=le(ce,"posts"),e=Nu(t,xu("isDeleted"),bu(!0)),n=await ot(e);if(!n.exists())return[];const r=[];return n.forEach(i=>{r.push({id:i.key,...i.val()})}),r}catch(t){return console.error("Error fetching deleted posts:",t),[]}},LD=async(t,e,n)=>{try{const r=le(ce,`posts/${t}`);await mn(r,{title:e,content:n}),console.log("Post updated successfully!")}catch(r){throw console.error("Error updating post:",r),r}},MD=async t=>{try{const e=Nu(le(ce,"posts"),xu("author"),bu(t)),n=await ot(e),r=[];return n.forEach(i=>{const s=i.val();s.isDeleted&&r.push({id:i.key,...s})}),r}catch(e){throw console.error("Error fetching deleted posts:",e),e}};var cS={exports:{}},jD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",FD=jD,UD=FD;function uS(){}function dS(){}dS.resetWarningCache=uS;var BD=function(){function t(r,i,s,o,l,c){if(c!==UD){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:dS,resetWarningCache:uS};return n.PropTypes=n,n};cS.exports=BD();var $D=cS.exports;const ae=Ny($D);/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ka.apply(this,arguments)}var kr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(kr||(kr={}));const Ey="popstate";function WD(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Sf("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wc(i)}return VD(e,n,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zD(){return Math.random().toString(36).substr(2,8)}function Cy(t,e){return{usr:t.state,key:t.key,idx:e}}function Sf(t,e,n,r){return n===void 0&&(n=null),ka({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?io(e):e,{state:n,key:e&&e.key||r||zD()})}function Wc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function VD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=kr.Pop,c=null,u=p();u==null&&(u=0,o.replaceState(ka({},o.state,{idx:u}),""));function p(){return(o.state||{idx:null}).idx}function f(){l=kr.Pop;let P=p(),y=P==null?null:P-u;u=P,c&&c({action:l,location:I.location,delta:y})}function _(P,y){l=kr.Push;let v=Sf(I.location,P,y);n&&n(v,P),u=p()+1;let w=Cy(v,u),N=I.createHref(v);try{o.pushState(w,"",N)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(N)}s&&c&&c({action:l,location:I.location,delta:1})}function E(P,y){l=kr.Replace;let v=Sf(I.location,P,y);n&&n(v,P),u=p();let w=Cy(v,u),N=I.createHref(v);o.replaceState(w,"",N),s&&c&&c({action:l,location:I.location,delta:0})}function S(P){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof P=="string"?P:Wc(P);return v=v.replace(/ $/,"%20"),Oe(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let I={get action(){return l},get location(){return t(i,o)},listen(P){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Ey,f),c=P,()=>{i.removeEventListener(Ey,f),c=null}},createHref(P){return e(i,P)},createURL:S,encodeLocation(P){let y=S(P);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:_,replace:E,go(P){return o.go(P)}};return I}var Sy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Sy||(Sy={}));function HD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?io(e):e,i=Hs(r.pathname||"/",n);if(i==null)return null;let s=fS(t);GD(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=rL(i);o=tL(s[l],c)}return o}function fS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Oe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Fr([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(Oe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fS(s.children,e,p,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:ZD(u,s.index),routesMeta:p})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of pS(s.path))i(s,o,c)}),e}function pS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=pS(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function GD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KD=/^:[\w-]+$/,qD=3,QD=2,YD=1,XD=10,JD=-2,ky=t=>t==="*";function ZD(t,e){let n=t.split("/"),r=n.length;return n.some(ky)&&(r+=JD),e&&(r+=QD),n.filter(i=>!ky(i)).reduce((i,s)=>i+(KD.test(s)?qD:s===""?YD:XD),r)}function eL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tL(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",p=kf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!p)return null;Object.assign(r,p.params);let f=l.route;s.push({params:r,pathname:Fr([i,p.pathname]),pathnameBase:aL(Fr([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=Fr([i,p.pathnameBase]))}return s}function kf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,p,f)=>{let{paramName:_,isOptional:E}=p;if(_==="*"){let I=l[f]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const S=l[f];return E&&!S?u[_]=void 0:u[_]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function nL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),hS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function iL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?io(t):t;return{pathname:n?n.startsWith("/")?n:sL(n,e):e,search:lL(r),hash:cL(i)}}function sL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vm(t,e){let n=oL(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ym(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=io(t):(i=ka({},t),Oe(!i.pathname||!i.pathname.includes("?"),rh("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),rh("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),rh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let _=o.split("/");for(;_[0]==="..";)_.shift(),f-=1;i.pathname=_.join("/")}l=f>=0?e[f]:"/"}let c=iL(i,l),u=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||p)&&(c.pathname+="/"),c}const Fr=t=>t.join("/").replace(/\/\/+/g,"/"),aL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mS=["post","put","patch","delete"];new Set(mS);const dL=["get",...mS];new Set(dL);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ta.apply(this,arguments)}const Lu=T.createContext(null),gS=T.createContext(null),Zn=T.createContext(null),Mu=T.createContext(null),er=T.createContext({outlet:null,matches:[],isDataRoute:!1}),_S=T.createContext(null);function hL(t,e){let{relative:n}=e===void 0?{}:e;so()||Oe(!1);let{basename:r,navigator:i}=T.useContext(Zn),{hash:s,pathname:o,search:l}=ju(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Fr([r,o])),i.createHref({pathname:c,search:l,hash:s})}function so(){return T.useContext(Mu)!=null}function tr(){return so()||Oe(!1),T.useContext(Mu).location}function vS(t){T.useContext(Zn).static||T.useLayoutEffect(t)}function Xr(){let{isDataRoute:t}=T.useContext(er);return t?TL():fL()}function fL(){so()||Oe(!1);let t=T.useContext(Lu),{basename:e,future:n,navigator:r}=T.useContext(Zn),{matches:i}=T.useContext(er),{pathname:s}=tr(),o=JSON.stringify(vm(i,n.v7_relativeSplatPath)),l=T.useRef(!1);return vS(()=>{l.current=!0}),T.useCallback(function(u,p){if(p===void 0&&(p={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=ym(u,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Fr([e,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[e,r,o,s,t])}function yS(){let{matches:t}=T.useContext(er),e=t[t.length-1];return e?e.params:{}}function ju(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(Zn),{matches:i}=T.useContext(er),{pathname:s}=tr(),o=JSON.stringify(vm(i,r.v7_relativeSplatPath));return T.useMemo(()=>ym(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function pL(t,e){return mL(t,e)}function mL(t,e,n,r){so()||Oe(!1);let{navigator:i}=T.useContext(Zn),{matches:s}=T.useContext(er),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=tr(),p;if(e){var f;let P=typeof e=="string"?io(e):e;c==="/"||(f=P.pathname)!=null&&f.startsWith(c)||Oe(!1),p=P}else p=u;let _=p.pathname||"/",E=_;if(c!=="/"){let P=c.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(P.length).join("/")}let S=HD(t,{pathname:E}),I=wL(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:Fr([c,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?c:Fr([c,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return e&&I?T.createElement(Mu.Provider,{value:{location:Ta({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:kr.Pop}},I):I}function gL(){let t=kL(),e=uL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const _L=T.createElement(gL,null);class vL extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(er.Provider,{value:this.props.routeContext},T.createElement(_S.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yL(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(Lu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(er.Provider,{value:e},r)}function wL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);p>=0||Oe(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let f=o[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=p),f.route.id){let{loaderData:_,errors:E}=n,S=f.route.loader&&_[f.route.id]===void 0&&(!E||E[f.route.id]===void 0);if(f.route.lazy||S){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((p,f,_)=>{let E,S=!1,I=null,P=null;n&&(E=l&&f.route.id?l[f.route.id]:void 0,I=f.route.errorElement||_L,c&&(u<0&&_===0?(IL("route-fallback",!1),S=!0,P=null):u===_&&(S=!0,P=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,_+1)),v=()=>{let w;return E?w=I:S?w=P:f.route.Component?w=T.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=p,T.createElement(yL,{match:f,routeContext:{outlet:p,matches:y,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||_===0)?T.createElement(vL,{location:n.location,revalidation:n.revalidation,component:I,error:E,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var wS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(wS||{}),zc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zc||{});function EL(t){let e=T.useContext(Lu);return e||Oe(!1),e}function CL(t){let e=T.useContext(gS);return e||Oe(!1),e}function SL(t){let e=T.useContext(er);return e||Oe(!1),e}function ES(t){let e=SL(),n=e.matches[e.matches.length-1];return n.route.id||Oe(!1),n.route.id}function kL(){var t;let e=T.useContext(_S),n=CL(zc.UseRouteError),r=ES(zc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function TL(){let{router:t}=EL(wS.UseNavigateStable),e=ES(zc.UseNavigateStable),n=T.useRef(!1);return vS(()=>{n.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ta({fromRouteId:e},s)))},[t,e])}const Ty={};function IL(t,e,n){!e&&!Ty[t]&&(Ty[t]=!0)}function xL(t){let{to:e,replace:n,state:r,relative:i}=t;so()||Oe(!1);let{future:s,static:o}=T.useContext(Zn),{matches:l}=T.useContext(er),{pathname:c}=tr(),u=Xr(),p=ym(e,vm(l,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(p);return T.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function et(t){Oe(!1)}function bL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=kr.Pop,navigator:s,static:o=!1,future:l}=t;so()&&Oe(!1);let c=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:c,navigator:s,static:o,future:Ta({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=io(r));let{pathname:p="/",search:f="",hash:_="",state:E=null,key:S="default"}=r,I=T.useMemo(()=>{let P=Hs(p,c);return P==null?null:{location:{pathname:P,search:f,hash:_,state:E,key:S},navigationType:i}},[c,p,f,_,E,S,i]);return I==null?null:T.createElement(Zn.Provider,{value:u},T.createElement(Mu.Provider,{children:n,value:I}))}function NL(t){let{children:e,location:n}=t;return pL(Tf(e),n)}new Promise(()=>{});function Tf(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Tf(r.props.children,s));return}r.type!==et&&Oe(!1),!r.props.index||!r.props.children||Oe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Tf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vc.apply(this,arguments)}function CS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function PL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AL(t,e){return t.button===0&&(!e||e==="_self")&&!PL(t)}function If(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function RL(t,e){let n=If(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const OL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],DL=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],LL="6";try{window.__reactRouterVersion=LL}catch{}const ML=T.createContext({isTransitioning:!1}),jL="startTransition",Iy=l1[jL];function FL(t){let{basename:e,children:n,future:r,window:i}=t,s=T.useRef();s.current==null&&(s.current=WD({window:i,v5Compat:!0}));let o=s.current,[l,c]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},p=T.useCallback(f=>{u&&Iy?Iy(()=>c(f)):c(f)},[c,u]);return T.useLayoutEffect(()=>o.listen(p),[o,p]),T.createElement(bL,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const UL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qt=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:p,unstable_viewTransition:f}=e,_=CS(e,OL),{basename:E}=T.useContext(Zn),S,I=!1;if(typeof u=="string"&&BL.test(u)&&(S=u,UL))try{let w=new URL(window.location.href),N=u.startsWith("//")?new URL(w.protocol+u):new URL(u),L=Hs(N.pathname,E);N.origin===w.origin&&L!=null?u=L+N.search+N.hash:I=!0}catch{}let P=hL(u,{relative:i}),y=WL(u,{replace:o,state:l,target:c,preventScrollReset:p,relative:i,unstable_viewTransition:f});function v(w){r&&r(w),w.defaultPrevented||y(w)}return T.createElement("a",Vc({},_,{href:S||P,onClick:I||s?r:v,ref:n,target:c}))}),pr=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,unstable_viewTransition:u,children:p}=e,f=CS(e,DL),_=ju(c,{relative:f.relative}),E=tr(),S=T.useContext(gS),{navigator:I,basename:P}=T.useContext(Zn),y=S!=null&&VL(_)&&u===!0,v=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,w=E.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(w=w.toLowerCase(),N=N?N.toLowerCase():null,v=v.toLowerCase()),N&&P&&(N=Hs(N,P)||N);const L=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let j=w===v||!o&&w.startsWith(v)&&w.charAt(L)==="/",$=N!=null&&(N===v||!o&&N.startsWith(v)&&N.charAt(v.length)==="/"),z={isActive:j,isPending:$,isTransitioning:y},fe=j?r:void 0,Q;typeof s=="function"?Q=s(z):Q=[s,j?"active":null,$?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let ft=typeof l=="function"?l(z):l;return T.createElement(qt,Vc({},f,{"aria-current":fe,className:Q,ref:n,style:ft,to:c,unstable_viewTransition:u}),typeof p=="function"?p(z):p)});var xf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xf||(xf={}));var xy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xy||(xy={}));function $L(t){let e=T.useContext(Lu);return e||Oe(!1),e}function WL(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,c=Xr(),u=tr(),p=ju(t,{relative:o});return T.useCallback(f=>{if(AL(f,n)){f.preventDefault();let _=r!==void 0?r:Wc(u)===Wc(p);c(t,{replace:_,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[u,c,p,r,i,n,t,s,o,l])}function zL(t){let e=T.useRef(If(t)),n=T.useRef(!1),r=tr(),i=T.useMemo(()=>RL(r.search,n.current?null:e.current),[r.search]),s=Xr(),o=T.useCallback((l,c)=>{const u=If(typeof l=="function"?l(i):l);n.current=!0,s("?"+u,c)},[s,i]);return[i,o]}function VL(t,e){e===void 0&&(e={});let n=T.useContext(ML);n==null&&Oe(!1);let{basename:r}=$L(xf.useViewTransitionState),i=ju(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Hs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Hs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kf(i.pathname,o)!=null||kf(i.pathname,s)!=null}const Je=T.createContext({user:null,userData:null,setAppState:()=>{}});function Pn({post:t,showViewButton:e,onRemove:n,onRestore:r}){var P;const{user:i,userData:s}=T.useContext(Je),[o,l]=T.useState(Array.isArray(t.likedBy)&&t.likedBy.includes(s==null?void 0:s.handle)),[c,u]=T.useState(t.isDeleted),p=()=>{if(!s){window.location.href="/register";return}aS(t.id,s.handle),l(!0)},f=()=>{OD(t.id,s.handle),l(!1)},_=()=>{n(t.id),u(!0)},E=()=>{r(t.id),u(!1)},S=s&&s.isAdmin,I=s&&s.handle===t.author;return m.jsx("div",{className:"outer-container",children:m.jsx("div",{className:"inner-container",children:m.jsxs("div",{className:"post",children:[m.jsx("p",{className:"post-title",children:t.title}),m.jsx("p",{className:"post-content",children:t.content}),m.jsxs("p",{className:"post-info",children:["by ",m.jsx("span",{className:"username",children:t.author}),","," ",new Date(t.createdOn).toLocaleString("bg-BG",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).toString()]}),m.jsx("p",{className:"post-likes",children:(P=t.likedBy)==null?void 0:P.length}),o?m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",className:"bi bi-hand-thumbs-up-fill",viewBox:"0 0 16 16",onClick:f,children:m.jsx("path",{d:"M6.956 1.745C7.021.81 7.908.087 8.864.325l.261.066c.463.116.874.456 1.012.965.22.816.533 2.511.062 4.51a10 10 0 0 1 .443-.051c.713-.065 1.669-.072 2.516.21.518.173.994.681 1.2 1.273.184.532.16 1.162-.234 1.733q.086.18.138.363c.077.27.113.567.113.856s-.036.586-.113.856c-.039.135-.09.273-.16.404.169.387.107.819-.003 1.148a3.2 3.2 0 0 1-.488.901c.054.152.076.312.076.465 0 .305-.089.625-.253.912C13.1 15.522 12.437 16 11.5 16H8c-.605 0-1.07-.081-1.466-.218a4.8 4.8 0 0 1-.97-.484l-.048-.03c-.504-.307-.999-.609-2.068-.722C2.682 14.464 2 13.846 2 13V9c0-.85.685-1.432 1.357-1.615.849-.232 1.574-.787 2.132-1.41.56-.627.914-1.28 1.039-1.639.199-.575.356-1.539.428-2.59z"})}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",fill:"currentColor",className:"bi bi-hand-thumbs-up",viewBox:"0 0 16 16",onClick:p,children:m.jsx("path",{d:" M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2 2 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a10 10 0 0 0-.443.05 9.4 9.4 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a9 9 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.2 2.2 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.9.9 0 0 1-.121.416c-.165.288-.503.56-1.066.56z"})}),r&&c&&S&&t.isDeleted&&m.jsx("button",{className:"restore-button",onClick:E,children:"Restore post"}),n&&!c&&(S&&!t.isDeleted||I&&!t.isDeleted)&&m.jsx("button",{className:"remove-button",onClick:_,children:"Remove post"}),e&&m.jsx(qt,{to:`/posts/${t.id}`,className:"post-link",children:m.jsx("button",{className:"view-button",children:"View"})})]})})})}Pn.propTypes={post:ae.shape({id:ae.string,author:ae.string.isRequired,content:ae.string.isRequired,isDeleted:ae.bool,title:ae.string.isRequired,showViewButton:ae.bool}),likedBy:ae.array,createdOn:ae.string};function HL(){const[t,e]=T.useState([]);return T.useEffect(()=>{sS().then(n=>e(n))},[]),m.jsxs("div",{children:[m.jsx("hr",{}),m.jsx("h2",{children:"Top Posts"}),t.map(n=>m.jsx(Pn,{post:n,likeCount:n.likedBy.length},n.id))]})}function GL(){const[t,e]=T.useState([]);return T.useEffect(()=>{oS().then(n=>e(n))},[]),m.jsxs("div",{children:[m.jsx("h2",{children:"Recent Posts"}),t.map(n=>m.jsx(Pn,{post:n,likeCount:n.likedBy.length},n.id))]})}function KL(){const[t,e]=T.useState([]),[n,r]=T.useState([]),[i,s]=T.useState(0),[o,l]=T.useState(0);return T.useEffect(()=>{sS().then(c=>e(c)),oS().then(c=>r(c)),AD().then(c=>s(c)),RD().then(c=>l(c))},[]),m.jsxs("div",{children:[m.jsxs("div",{style:{color:"rgb(0,0,0)",textShadow:"-1px 1px 2px white",fontWeight:"500"},children:[m.jsx("h1",{style:{display:"flex",justifyContent:"center",marginTop:"2rem",fontSize:"64px",color:"white",textShadow:"-4px -2px 2px #063a1d"},children:"Welcome to the ReactVenture Forum"}),m.jsxs("div",{style:{marginTop:"4.5rem"},children:[m.jsx("br",{}),m.jsx("br",{}),m.jsxs("div",{children:[m.jsx("h3",{style:{fontSize:"32px"},children:"Here you can enjoy the following perks:"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Share your thoughts with the world by creating any posts you want."}),m.jsx("li",{children:"Like and comment on those posts"}),m.jsx("li",{children:"View the most commented and recent posts"}),m.jsx("li",{children:"And many more..."})]})]})]}),m.jsxs("div",{style:{marginTop:"-10rem",marginLeft:"40rem"},children:[m.jsx("h2",{children:"App Statistics"}),m.jsxs("p",{children:["Total Users: ",i]}),m.jsxs("p",{children:["Total Posts: ",o]}),m.jsx("br",{}),m.jsx("br",{}),m.jsx("br",{})]})]}),m.jsx("div",{children:m.jsx(GL,{})}),m.jsx("div",{children:m.jsx(HL,{})})]})}function qL(){return m.jsx("footer",{children:m.jsx("p",{})})}function wm({children:t=null,onClick:e=()=>{}}){return m.jsx(m.Fragment,{children:m.jsx("button",{onClick:e,children:t})})}wm.propTypes={children:ae.any,onClick:ae.func};const QL=(t,e)=>aO(Du,t,e),YL=(t,e)=>lO(Du,t,e),SS=()=>hO(Du);function XL(){return m.jsxs("div",{className:"dropdown",children:[m.jsx("button",{className:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Admin Panel"}),m.jsxs("ul",{className:"dropdown-menu",style:{},children:[m.jsx("li",{children:m.jsx(qt,{className:"dropdown-item",to:"/user-search",children:"Users searcher"})}),m.jsx("li",{children:m.jsx(qt,{className:"dropdown-item",to:"/posts",children:"View All Posts"})})]})]})}function JL(){const{user:t,userData:e}=T.useContext(Je),[n,r]=T.useState(!0);T.useEffect(()=>{e&&r(!1)},[e]);const i=async()=>{await SS(),setAppState({user:null,userData:null})};return n?"loading":m.jsxs("header",{className:"header-container",style:{backgroundColor:"rgba(255,255,255, 0.6)"},children:[m.jsxs("div",{className:"navigation-links",children:[m.jsx(pr,{to:"/",className:"nav-link",children:"Home"}),t&&m.jsx(pr,{to:"/posts",className:"nav-link",children:"All posts"}),t&&m.jsx(pr,{to:"/posts-create",className:"nav-link",children:"Create post"})]}),m.jsxs("div",{className:"user-section",children:[t&&e&&m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:"user-welcome",children:["Welcome,"," ",m.jsx("span",{className:"handle",children:e.handle||"Loading"})]}),m.jsx(pr,{to:"/my-profile",className:"nav-link",children:"My Profile"}),m.jsx(qt,{onClick:i,className:"logout-nav-link",style:{color:"rgb(90, 68, 22)"},children:"Logout"}),m.jsxs("span",{className:"admin-panel",children:[e.isAdmin&&m.jsx(XL,{})," "]})]}),!t&&m.jsxs(m.Fragment,{children:[m.jsx(pr,{to:"/login",className:"nav-link",children:"Login"}),m.jsx(pr,{to:"/register",className:"nav-link",children:"Register"})]})]})]})}function ZL(){const[t,e]=T.useState([]);T.useState([]);const[n,r]=zL(),i=n.get("search")||"",{userData:s}=T.useContext(Je),[o,l]=T.useState(!1),[c,u]=T.useState(!1);T.useState(!1);const p=_=>{r({search:_})};T.useEffect(()=>{console.log("Fetching posts with search term:",i),iS(null,i).then(e)},[i]),T.useEffect(()=>qA(le(ce,"posts"),_=>{const E=_.val();e(S=>S.map(I=>I.title===E.title&&I.author===E.author&&I.content===E.content?{...I,likedBy:E.likedBy?Object.keys(E.likedBy):[]}:I))}),[]);const f=async _=>{await ro(_),e(E=>E.filter(S=>S.id!==_))};return t.reduce((_,E)=>_+(E.likedBy?E.likedBy.length:0),0),m.jsxs("div",{children:[m.jsxs("div",{className:"search-filter-container",children:[m.jsx("div",{className:"search-container",children:m.jsx("input",{placeholder:"Search...",value:i,onChange:_=>p(_.target.value),type:"text",name:"search",id:"search",style:{borderStyle:"inset",borderWidth:"2px",borderColor:"green",backgroundColor:"white",color:"black",boxShadow:"inset 0px 0px 5px rgba(0, 0, 0, 0.5)",marginLeft:"15px"}})}),m.jsxs("div",{className:"dropdowns-container",children:[m.jsxs("div",{className:"dropdown",children:[m.jsx("button",{className:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:()=>u(!c),children:"Filter"}),m.jsxs("ul",{className:`dropdown-menu${c?" show":""}`,children:[m.jsx("li",{children:m.jsx(qt,{className:"dropdown-item",to:"/filtered-by-comments",children:"by Comments"})}),m.jsx("li",{children:m.jsx(qt,{className:"dropdown-item",to:"/filtered-by-likes",children:"by Likes"})}),s&&s.isAdmin&&m.jsx("li",{children:m.jsx(qt,{className:"dropdown-item",to:"/deleted",children:"by Deleted Posts"})})]})]}),m.jsxs("div",{className:"dropdown",children:[m.jsx("button",{className:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:()=>l(!o),children:"Sort"}),m.jsxs("ul",{className:`dropdown-menu${o?" show":""}`,children:[m.jsx("li",{children:m.jsx(qt,{className:"dropdown-item",to:"/sorted-by-author",children:"by Author"})}),m.jsx("li",{children:m.jsx(qt,{className:"dropdown-item",to:"/sorted-by-date",children:"by Date"})})]})]})]})]}),t.slice().reverse().map(_=>m.jsx("div",{children:m.jsx(Pn,{post:_,onRemove:()=>(s.isAdmin||s.handle===_.author)&&f(_.id),showViewButton:!0,likesCount:_.likedBy?_.likedBy.length:0})},_.id))]})}const Hc=1,Gc=64,Kc=1,qc=8192,Qc=1,Yc=4096;function eM(){const[t,e]=T.useState({title:"",content:""}),{userData:n}=T.useContext(Je),r=Xr(),i=(c,u)=>{e({...t,[u]:c})},s=c=>c.length>=Hc&&c.length<=Gc,o=c=>c.length>=Kc&&c.length<=qc,l=async()=>{if(!s(t.title))return alert(`Title must be between ${Hc} and ${Gc} characters long.`);if(!o(t.content))return alert(`Content must be between ${Kc} and ${qc} characters long.`);await xD(t.title,t.content,n.handle),e({title:"",content:""}),r("/posts")};return m.jsx("div",{className:"outer-create-post-container",children:m.jsxs("div",{className:"inner-create-post-container",children:[m.jsx("div",{className:"create-post-header",children:m.jsx("h1",{children:"Create post"})}),m.jsxs("div",{className:"post-title",children:[m.jsx("label",{htmlFor:"input-title",children:"Title:"}),m.jsx("div",{className:"input-field",children:m.jsx("input",{className:"title-input-style",type:"text",value:t.title,onChange:c=>i(c.target.value,"title"),name:"input-title",id:"input-title",style:{boxShadow:"inset 0px 0px 5px rgba(0, 0, 0, 0.5)"}})})]}),m.jsx("div",{className:"post-content",children:m.jsx("label",{htmlFor:"input-content",children:"Content:"})}),m.jsx("div",{className:"comment-field",children:m.jsx("textarea",{className:"comment-field-style",value:t.content,onChange:c=>i(c.target.value,"content"),name:"input-content",id:"input-content",cols:"30",rows:"10",style:{boxShadow:"inset 0px 0px 5px rgba(0, 0, 0, 0.5)"}})}),m.jsx("div",{className:"create-button",children:m.jsx(wm,{className:"create-button-style",onClick:l,children:"Create"})})]})})}function tM(){return m.jsx("div",{children:m.jsx("h1",{children:"404 - Page not found"})})}const nM=async(t,e,n)=>{const r={postId:t,author:e,content:n,createdOn:Date.now()},i=await EC(le(ce,"comments"),r);console.log(i.key)},rM=async t=>{const e=await ot(le(ce,"comments"));return e.exists()?Object.entries(e.val()).map(([r,i])=>({...i,id:r,likedBy:i.likedBy?Object.keys(i.likedBy):[],createdOn:new Date(i.createdOn).toString()})).filter(r=>r.postId===t):[]},iM=async(t,e)=>{const n={};n[`users/${e}/likedComments/${t}`]=!0,n[`comments/${t}/likedBy/${e}`]=!0,mn(le(ce),n)},sM=async(t,e)=>{const n={};n[`users/${e}/likedComments/${t}`]=null,n[`comments/${t}/likedBy/${e}`]=null,mn(le(ce),n)},oM=async(t,e)=>{try{const n=le(ce,`comments/${t}`);await mn(n,{content:e}),console.log("Comment updated successfully!")}catch(n){throw console.error("Error updating comment:",n),n}},kS=({comment:t})=>{const{userData:e}=T.useContext(Je),n=()=>iM(t.id,e.handle),r=()=>sM(t.id,e.handle);return m.jsx("div",{className:"comment-container card mb-3",style:{padding:"0",height:"auto"},children:m.jsxs("div",{className:"card-body",style:{padding:"0.3rem"},children:[m.jsx("p",{className:"card-text",children:t==null?void 0:t.content}),m.jsx("p",{className:"card-text comment-details",children:m.jsxs("small",{className:"text-muted",children:["by ",t==null?void 0:t.author,","," ",new Date(t==null?void 0:t.createdOn).toLocaleDateString("bg-BG")]})}),m.jsx("div",{className:"btn-group",role:"group","aria-label":"Comment Actions",children:t!=null&&t.likedBy.includes(e==null?void 0:e.handle)?m.jsx("button",{className:"btn btn-danger comment-button-dislike",onClick:r,children:"Dislike"}):m.jsx("button",{className:"btn btn-primary comment-button-like",onClick:n,style:{marginTop:"1rem",fontWeight:"600",color:"white"},children:"Like"})})]})})};kS.propTypes={comment:ae.shape({id:ae.string,author:ae.string.isRequired,content:ae.string.isRequired,createdOn:ae.string,likedBy:ae.array}).isRequired};function TS({post:t}){const[e,n]=T.useState(!1),[r,i]=T.useState(t.title),[s,o]=T.useState(t.content),[l,c]=T.useState(""),u=()=>{n(!0),i(t.title),o(t.content)},p=()=>r.length===0||s.length===0?(c("Title and content cannot be empty."),!1):r.length<Hc?(c(`Title must be at least ${Hc} characters.`),!1):r.length>Gc?(c(`Title cannot exceed ${Gc} characters.`),!1):s.length<Kc?(c(`Content must be at least ${Kc} characters.`),!1):s.length>qc?(c(`Content cannot exceed ${qc} characters.`),!1):!0,f=async()=>{try{p()&&(await LD(t.id,r,s),t.title=r,t.content=s,n(!1),c(""))}catch(E){console.error("Error updating post:",E)}},_=()=>{n(!1),i(t.title),o(t.content),c("")};return m.jsx("div",{className:"edit-post",style:{marginLeft:"0.7rem",marginTop:"-0.5rem"},children:e?m.jsxs("div",{children:[m.jsx("input",{type:"text",className:"form-control mb-2",value:r,onChange:E=>i(E.target.value)}),m.jsx("textarea",{className:"form-control mb-2",value:s,onChange:E=>o(E.target.value)}),m.jsx("button",{className:"btn btn-primary mr-2",onClick:f,style:{marginRight:"-20px",fontWeight:"600",color:"white"},children:"Save"}),m.jsx("button",{className:"btn btn-secondary",onClick:_,style:{fontWeight:"600",color:"white"},children:"Cancel"}),l&&m.jsx("p",{className:"text-danger",children:l})]}):m.jsx("button",{className:"btn btn-warning",onClick:u,style:{fontWeight:"600",color:"white"},children:"Edit Post"})})}TS.propTypes={post:ae.shape({id:ae.string.isRequired,title:ae.string.isRequired,content:ae.string.isRequired}).isRequired};function IS({comment:t}){const[e,n]=T.useState(!1),[r,i]=T.useState(t.content),[s,o]=T.useState(""),l=()=>{n(!0),i(t.content)},c=()=>r.length<Qc?(o(`Comment must be at least ${Qc} characters.`),!1):r.length>Yc?(o(`Comment cannot exceed ${Yc} characters.`),!1):!0,u=async()=>{try{c()&&(await oM(t.id,r),t.content=r,n(!1),o(""))}catch(f){console.error("Error updating comment:",f)}},p=()=>{n(!1),i(t.content),o("")};return m.jsx("div",{className:"edit-comment",children:e?m.jsxs("div",{children:[m.jsx("textarea",{className:"form-control mb-2",value:r,onChange:f=>i(f.target.value)}),m.jsx("button",{className:"btn btn-primary mr-2",onClick:u,children:"Save"}),m.jsx("button",{className:"btn btn-secondary",onClick:p,children:"Cancel"}),s&&m.jsx("p",{className:"text-danger",children:s})]}):m.jsx("button",{className:"btn btn-warning",onClick:l,style:{marginTop:"-0.8rem",fontWeight:"600",color:"white"},children:"Edit Comment"})})}IS.propTypes={comment:ae.shape({id:ae.string.isRequired,content:ae.string.isRequired}).isRequired};function aM(){const[t,e]=T.useState(null),[n,r]=T.useState([]),[i,s]=T.useState(""),[o,l]=T.useState(""),{userData:c}=T.useContext(Je),{id:u}=yS();T.useEffect(()=>ey(le(ce,`posts/${u}`),S=>{const I=S.val();if(I){const P=I.likedBy?Object.keys(I.likedBy):[];e({...I,id:u,likedBy:P,createdOn:new Date(I.createdOn).toString(),comments:I.comments||[]})}else e(null)}),[u]),T.useEffect(()=>{const S=le(ce,"comments"),I=Nu(S,xu("postId"),bu(u));return ey(I,P=>{const y=P.val();if(y){const v=Object.keys(y).map(w=>({id:w,...y[w],likedBy:y[w].likedBy?Object.keys(y[w].likedBy):[],createdOn:y[w].createdOn?new Date(y[w].createdOn).toString():""}));r(v)}else r([])})},[u]);const p=c&&c.isAdmin===!0,f=c&&t&&c.handle===t.author,_=S=>c&&S&&c.handle===S.author,E=async()=>{if(!c)return;if(i.length<Qc||i.length>Yc){l(`Comment length must be between ${Qc} and ${Yc} characters.`);return}await nM(u,c.handle,i);const S=await rM(u);r(S),s(""),l("")};return m.jsxs("div",{className:"container",children:[t&&m.jsxs(m.Fragment,{children:[m.jsx(Pn,{post:t,showViewButton:!1,onRemove:()=>ro(t.id)&&window.open("/posts","_self"),onRestore:()=>lS(t.id)&&window.open("/posts","_self")}),(p||f)&&m.jsx(TS,{post:t})]}),m.jsxs("div",{className:"mt-4",style:{marginLeft:"1.2rem"},children:[m.jsx("h2",{style:{fontWeight:"600",color:"rgb(81, 126, 51)"},children:"Comments"}),m.jsx("textarea",{className:"form-control mb-2",value:i,onChange:S=>{s(S.target.value),l("")},placeholder:"Add a comment..."}),m.jsx("button",{className:"btn btn-primary mb-2",onClick:E,style:{fontWeight:"600",color:"white"},children:"Post Comment"}),o&&m.jsx("p",{className:"text-danger",children:o}),m.jsx("ol",{children:n.map(S=>m.jsx("div",{className:"mb-3",children:m.jsxs("li",{style:{marginBottom:"-0.4rem"},children:[m.jsx(kS,{comment:S}),(p||_(S))&&m.jsx(IS,{comment:S})]})},S.id))})]})]})}function lM(){const{user:t,setAppState:e}=T.useContext(Je),[n,r]=T.useState({email:"",password:""}),i=Xr(),s=tr();T.useEffect(()=>{var c;t&&i(((c=s.state)==null?void 0:c.from.pathname)||"/")},[t]);const o=async()=>{var u;const{user:c}=await YL(n.email,n.password);e({user:c,userData:null}),i(((u=s.state)==null?void 0:u.from.pathname)||"/")},l=c=>u=>{r({...n,[c]:u.target.value})};return m.jsxs("div",{className:"container",style:{marginTop:"-0.7rem",position:"absolute",top:"45%",left:"49%",transform:"translate(-50%, -50%)",width:"15%"},children:[m.jsx("h1",{style:{color:"rgb(81, 126, 51)",display:"flex",justifyContent:"center"},children:"Login"}),m.jsx("div",{className:"mb-3",children:m.jsx("input",{placeholder:"Email",value:n.email,onChange:l("email"),type:"text",className:"form-control",name:"email",id:"email",style:{marginTop:"-0.7rem"}})}),m.jsx("div",{className:"mb-3",children:m.jsx("input",{placeholder:"Password",value:n.password,onChange:l("password"),type:"password",className:"form-control",name:"password",id:"password",style:{marginTop:"-0.7rem"}})}),m.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:"-0.6rem"},children:m.jsx(wm,{className:"btn btn-primary",onClick:o,children:"Login"})})]})}function Ht({children:t}){const{user:e}=T.useContext(Je),n=tr();return e?m.jsx(m.Fragment,{children:t}):m.jsx(xL,{replace:!0,to:"/login",state:{from:n}})}Ht.propTypes={children:ae.any.isRequired};const xS=t=>ot(le(ce,`users/${t}`)),cM=(t,e,n,r,i)=>CC(le(ce,`users/${n}`),{firstName:t,lastName:e,handle:n,uid:r,email:i,isAdmin:!1,isBlocked:!1,createdOn:new Date}),uM=t=>ot(Nu(le(ce,"users"),xu("uid"),bu(t))),dM=async(t,e,n)=>{try{const r=le(ce,`users/${t}`);await mn(r,{firstName:e,lastName:n}),console.log("Names updated successfully!")}catch(r){throw console.error("Error updating names:",r),r}},hM=async t=>{const e=le(ce,`users/${t}`);return mn(e,{isBlocked:!0})},fM=async t=>{const e=le(ce,`users/${t}`);return mn(e,{isBlocked:!1})};function pM(){const[t,e]=T.useState({firstName:"",lastName:"",username:"",email:"",password:""}),{user:n,setAppState:r}=T.useContext(Je),i=Xr();n&&i("/");const s=l=>c=>{e({...t,[l]:c.target.value})},o=async()=>{try{if(t.firstName.length<1){window.alert("First name cannot be empty!");return}else if(t.firstName.length<4||t.firstName.length>32){window.alert("First name must be between 4 and 32 characters.");return}if(t.lastName.length<1){window.alert("Last name cannot be empty!");return}else if(t.lastName.length<4||t.lastName.length>32){window.alert("Last name must be between 4 and 32 characters.");return}if(!t.username&&!t.email){window.alert("Please provide either a username or an email.");return}if(t.username&&(await xS(t.username)).exists()){window.alert("User with this username already exists!");return}if(t.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){window.alert("Invalid email address.");return}if(t.password.length===0){window.alert("Password cannot be empty!");return}else if(t.password.length<6){window.alert("Password must be at least 6 characters long.");return}const l=await QL(t.email,t.password);await cM(t.firstName,t.lastName,t.username||t.email,l.user.uid,l.user.email),r({user:l.user,userData:null}),i("/")}catch(l){l.message.includes("auth/email-already-in-use")&&window.alert("User has already been registered!")}};return m.jsxs("div",{className:"container",style:{position:"absolute",top:"50%",left:"49%",transform:"translate(-50%, -50%)"},children:[m.jsx("h1",{style:{display:"flex",justifyContent:"center",color:"rgb(81, 126, 51)",position:"relative",zIndex:"999"},children:"Register"}),m.jsx("div",{className:"mb-3",style:{display:"flex",justifyContent:"center"},children:m.jsx("input",{placeholder:"First Name",value:t.firstName,onChange:s("firstName"),type:"text",className:"form-control",name:"firstName",id:"firstName",style:{marginTop:"-0.7rem",width:"20%"}})}),m.jsx("div",{className:"mb-3",style:{display:"flex",justifyContent:"center"},children:m.jsx("input",{placeholder:"Last Name",value:t.lastName,onChange:s("lastName"),type:"text",className:"form-control",name:"lastName",id:"lastName",style:{marginTop:"-0.7rem",width:"20%"}})}),m.jsx("div",{className:"mb-3",style:{display:"flex",justifyContent:"center"},children:m.jsx("input",{placeholder:"Username",value:t.username,onChange:s("username"),type:"text",className:"form-control",name:"username",id:"username",style:{marginTop:"-0.7rem",width:"20%"}})}),m.jsx("div",{className:"mb-3",style:{display:"flex",justifyContent:"center"},children:m.jsx("input",{placeholder:"Email",value:t.email,onChange:s("email"),type:"email",className:"form-control",name:"email",id:"email",style:{marginTop:"-0.7rem",width:"20%"}})}),m.jsx("div",{className:"mb-3",style:{display:"flex",justifyContent:"center"},children:m.jsx("input",{placeholder:"Password",value:t.password,onChange:s("password"),type:"password",className:"form-control",name:"password",id:"password",style:{marginTop:"-0.7rem",width:"20%"}})}),m.jsx("div",{style:{marginTop:"-0.7rem",display:"flex",justifyContent:"center"},children:m.jsx("button",{className:"btn btn-primary",onClick:o,children:"Register"})})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function mM(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(p){try{u(r.next(p))}catch(f){o(f)}}function c(p){try{u(r.throw(p))}catch(f){o(f)}}function u(p){p.done?s(p.value):i(p.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function gM(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(p){return c([u,p])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(p){u=[6,p],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vs=function(){return vs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vs.apply(this,arguments)},bS=function(t){return{loading:t==null,value:t}},_M=function(){return function(t,e){switch(e.type){case"error":return vs(vs({},t),{error:e.error,loading:!1,value:void 0});case"reset":return bS(e.defaultValue);case"value":return vs(vs({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},vM=function(t){var e=t?t():void 0,n=T.useReducer(_M(),bS(e)),r=n[0],i=n[1],s=T.useCallback(function(){var c=t?t():void 0;i({type:"reset",defaultValue:c})},[t]),o=T.useCallback(function(c){i({type:"error",error:c})},[]),l=T.useCallback(function(c){i({type:"value",value:c})},[]);return T.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:l,value:r.value}},[r.error,r.loading,s,o,l,r.value])},yM=function(t,e){var n=vM(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,l=n.value;return T.useEffect(function(){var c=dO(t,function(u){return mM(void 0,void 0,void 0,function(){var p;return gM(this,function(f){switch(f.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return f.sent(),[3,4];case 3:return p=f.sent(),s(p),[3,4];case 4:return o(u),[2]}})})},s);return function(){c()}},[t]),[l,i,r]};function wM(){const[t,e]=T.useState([]),{userData:n}=T.useContext(Je),r=Xr();T.useEffect(()=>{DD().then(e)},[]);const i=async s=>{await lS(s),e(t.filter(o=>o.id!==s)),t.length===1&&r("/posts")};return m.jsxs("div",{children:[m.jsx("h1",{children:"Deleted Posts"}),t.map(s=>m.jsx(Pn,{post:{...s,likedBy:Array.isArray(s.likedBy)?s.likedBy:[],createdOn:new Date(s.createdOn).toString()},onRestore:()=>n.isAdmin&&i(s.id)},s.id))]})}const by=async t=>{const e=await ot(le(ce,"users"));return e.exists()?Object.entries(e.val()).map(([r,i])=>({...i,id:r})).filter(r=>r.handle&&r.handle.toLowerCase().includes(t.toLowerCase())||r.email&&r.email.toLowerCase().includes(t.toLowerCase())):[]};function Em({user:t}){const{userData:e}=T.useContext(Je),[n,r]=T.useState(t.isBlocked),i=e&&e.isAdmin,s=async()=>{try{await hM(t.handle),r(!0)}catch(l){console.error("Error blocking user:",l)}},o=async()=>{try{await fM(t.handle),r(!1)}catch(l){console.error("Error unblocking user:",l)}};return m.jsx("div",{className:"outer-border",children:m.jsxs("div",{className:"user-info",children:[m.jsxs("div",{children:[m.jsx("p",{className:"name-label",children:"Name:"}),m.jsxs("div",{className:"name",children:[t.firstName," ",t.lastName]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"username-label",children:"Username:"}),m.jsx("div",{className:"username",children:t.handle})]}),m.jsxs("div",{children:[m.jsx("p",{className:"email-label",children:"Email:"}),m.jsx("div",{className:"email",children:t.email})]}),n&&m.jsx("button",{className:"unblock-button",onClick:o,children:"Unblock User"}),!n&&m.jsx("button",{className:"block-button",onClick:s,children:"Block User"}),i&&m.jsx(qt,{to:`/user/${t.id}`,className:"profile-link",children:m.jsx("button",{className:"profile-button",children:"Profile"})})]})})}Em.propTypes={user:ae.shape({id:ae.number.isRequired,firstName:ae.string.isRequired,lastName:ae.string.isRequired,handle:ae.string.isRequired,email:ae.string.isRequired,isBlocked:ae.bool.isRequired}).isRequired};function EM(){const[t,e]=T.useState(""),[n,r]=T.useState([]),[i,s]=T.useState([]),[o,l]=T.useState(!1);return T.useEffect(()=>{(async()=>{const u=await by("");s(u)})()},[]),T.useEffect(()=>{(async()=>{if(t.trim()!==""){const u=await by(t);r(u),l(!0)}else r(i),l(!1)})()},[t,i]),m.jsxs("div",{children:[m.jsx("input",{type:"text",value:t,onChange:c=>e(c.target.value),placeholder:"Search for user...",style:{borderStyle:"inset",borderWidth:"2px",borderColor:"green",backgroundColor:"white",color:"black",boxShadow:"inset 0px 0px 5px rgba(0, 0, 0, 0.5)"}}),o&&n.length===0&&m.jsxs(m.Fragment,{children:[m.jsx("h2",{children:"Search Results:"}),m.jsx("p",{children:"No users found."})]}),m.jsx("div",{children:n.map(c=>m.jsx(Em,{user:c},c.id))})]})}Em.propTypes={user:ae.shape({id:ae.string}).isRequired};function CM(){const{userData:t,user:e}=T.useContext(Je),[n,r]=T.useState(""),[i,s]=T.useState(""),[o,l]=T.useState(""),[c,u]=T.useState(""),[p,f]=T.useState([]),[_,E]=T.useState(!1);T.useEffect(()=>{async function I(){try{if(t){const P=await iS(t.handle);f(P)}}catch(P){console.error("Error fetching user posts:",P),l("Failed to fetch user posts. Please try again.")}}I()},[t]);const S=async I=>{if(I.preventDefault(),n.length<4||n.length>32||n.trim()===""||!n.match(/^[A-Z][a-zA-Z]*$/)){l("First name must be between 4 and 32 characters, cannot be empty, and must start with a capital letter.");return}if(i.length<4||i.length>32||i.trim()===""||!i.match(/^[A-Z][a-zA-Z]*$/)){l("Last name must be between 4 and 32 characters, cannot be empty, and must start with a capital letter.");return}try{await dM(t.handle,n,i),t.firstName=n,t.lastName=i,r(""),s(""),l(""),u("Name updated successfully!"),E(!1)}catch(P){l("Failed to update names. Please try again."),console.error("Error updating names:",P)}};return m.jsxs("div",{className:"user-profile-container",children:[t&&m.jsxs("div",{className:"user-outer-border-container",children:[m.jsx("h1",{style:{fontSize:24},children:"My Profile"}),m.jsx("div",{className:"user-info-container",children:m.jsxs("div",{className:"profile-info",children:[!_&&m.jsxs(m.Fragment,{children:[m.jsxs("p",{children:[m.jsx("span",{style:{fontWeight:"bold"},children:"Name: "})," ",t.firstName," ",t.lastName," ",m.jsx("button",{className:"edit-button",onClick:()=>E(!0),children:"Edit"})]}),m.jsxs("p",{children:[m.jsx("span",{style:{fontWeight:"bold"},children:"Username: "})," ",t.handle]}),m.jsxs("p",{children:[m.jsx("span",{style:{fontWeight:"bold"},children:"Email: "})," ",t.email]})]}),_&&m.jsxs("form",{onSubmit:S,children:[m.jsxs("div",{className:"edit-row",children:[m.jsx("p",{style:{fontWeight:"bold"},children:"Name:"}),m.jsx("div",{className:"new-first-name-field",children:m.jsx("input",{type:"text",placeholder:t.firstName,value:n,onChange:I=>r(I.target.value)})}),m.jsx("div",{className:"new-last-name-field",children:m.jsx("input",{type:"text",placeholder:t.lastName,value:i,onChange:I=>s(I.target.value)})}),m.jsx("div",{children:m.jsx("button",{className:"update-button",type:"submit",children:"Update"})}),m.jsx("div",{children:m.jsx("button",{className:"cancel-button",onClick:()=>E(!1),children:"Cancel"})})]}),m.jsxs("p",{children:[m.jsx("span",{style:{fontWeight:"bold"},children:"Username: "})," ",t.handle]}),m.jsxs("p",{children:[m.jsx("span",{style:{fontWeight:"bold"},children:"Email: "})," ",t.email]})]})]})})]}),m.jsxs("div",{className:"posts-outer-border-container",children:[m.jsx("div",{className:"user-posts-title",children:m.jsx("h2",{style:{fontSize:24},children:"My Posts"})}),m.jsxs("div",{className:"user-posts-container",children:[p.length>0?m.jsx("ul",{className:"posts-list",children:p.map(I=>m.jsx("li",{children:m.jsx(qt,{to:`/posts/${I.id}`,children:m.jsx("h1",{children:I.title})})},I.id))}):m.jsx("p",{children:"No posts found."}),o&&m.jsx("p",{children:o}),c&&m.jsx("p",{children:c})]})]})]})}function SM(){const{handle:t}=yS(),[e,n]=T.useState(null),[r,i]=T.useState([]);return T.useEffect(()=>{async function s(){try{const o=await xS(t);if(o.exists()){const l=o.val();n(l);const c=await MD(l.handle);i(c)}else console.log("User not found")}catch(o){console.error("Error fetching data:",o)}}s()},[t]),m.jsxs("div",{style:{marginTop:"13rem"},children:[e&&m.jsxs("div",{children:[m.jsxs("p",{children:[m.jsx("span",{style:{fontWeight:"700"},children:"Name: "}),e.firstName," ",e.lastName]}),m.jsxs("p",{children:[m.jsx("span",{style:{fontWeight:"700"},children:"Email:"})," ",e.email]}),m.jsxs("p",{children:[m.jsx("span",{style:{fontWeight:"700"},children:"Username:"})," ",e.handle]})]}),m.jsxs("div",{children:[m.jsx("h2",{children:"User's Deleted Posts"}),m.jsx("ul",{children:r.length>0?r.map(s=>m.jsx("li",{children:m.jsxs("div",{children:[m.jsxs("h3",{children:[m.jsx("del",{children:s.title})," (Deleted)"]}),m.jsx("p",{children:m.jsx("i",{children:"This post has been deleted."})})]})},s.id)):m.jsx("p",{children:"No deleted posts found."})})]})]})}const kM=()=>{const[t,e]=T.useState([]),{userData:n}=T.useContext(Je),r=async i=>{await ro(i),t.find(s=>s.id===i),e(t.filter(s=>s.id!==i))};return T.useEffect(()=>{(async()=>{const s=await PD();e(s)})()},[]),m.jsxs("div",{children:[m.jsx("h2",{children:"Posts with comments"}),m.jsx("ul",{children:t.map(i=>m.jsx("div",{children:m.jsx(Pn,{post:i,onRemove:()=>(n.isAdmin||n.handle===i.author)&&r(i.id),showViewButton:!0,likesCount:i.likedBy?i.likedBy.length:0})},i.id))})]})},TM=()=>{const[t,e]=T.useState([]),{userData:n}=T.useContext(Je),r=async s=>{await ro(s),e(t.filter(o=>o.id!==s))},i=async s=>{await aS(s,n.handle);const o=await wy();e(o)};return T.useEffect(()=>{(async()=>{const l=(await wy()).map(c=>({...c,likedBy:c.likedBy?Object.keys(c.likedBy):[],likeCount:c.likedBy?c.likedBy.length:0}));e(l)})()},[]),m.jsxs("div",{children:[m.jsx("h2",{children:"Liked posts"}),m.jsx("ul",{children:t.map(s=>m.jsx("div",{children:m.jsx(Pn,{post:s,onRemove:()=>(n.isAdmin||n.handle===s.author)&&r(s.id),onLike:()=>i(s.id),showViewButton:!0,likesCount:s.likedBy?s.likedBy.length:0})},s.id))})]})},IM=()=>{const[t,e]=T.useState([]),{userData:n}=T.useContext(Je),r=async i=>{await ro(i),t.find(s=>s.id===i),e(t.filter(s=>s.id!==i))};return T.useEffect(()=>{(async()=>{const s=await bD();e(s)})()},[]),m.jsxs("div",{children:[m.jsx("h2",{children:"Posts Sorted By Author"}),m.jsx("ul",{children:t.map(i=>m.jsx("div",{children:m.jsx(Pn,{post:i,onRemove:()=>(n.isAdmin||n.handle===i.author)&&r(i.id),showViewButton:!0,likesCount:i.likedBy?i.likedBy.length:0})},i.id))})]})},xM=()=>{const[t,e]=T.useState([]),{userData:n}=T.useContext(Je),r=async i=>{await ro(i),t.find(s=>s.id===i),e(t.filter(s=>s.id!==i))};return T.useEffect(()=>{(async()=>{const s=await ND();e(s)})()},[]),m.jsxs("div",{children:[m.jsx("h2",{children:"Posts Sorted By Date"}),m.jsx("ul",{children:t.map(i=>m.jsx("div",{children:m.jsx(Pn,{post:i,onRemove:()=>(n.isAdmin||n.handle===i.author)&&r(i.id),showViewButton:!0,likesCount:i.likedBy?i.likedBy.length:0})},i.id))})]})};function bM(){const{userData:t,setAppState:e}=T.useContext(Je),[n,r]=T.useState(!0),i=Xr();T.useEffect(()=>{r(!1)},[]),T.useEffect(()=>{t&&t.isBlocked&&i("/blocked")},[t,i]);const s=async()=>{await SS(),e({user:null,userData:null}),i("/login")};return n?"loading":m.jsxs("header",{className:"header-container",children:[m.jsx("div",{className:"navigation-links",children:!t.isBlocked&&m.jsx(pr,{to:"/",className:"nav-link",children:"Home"})}),m.jsx("div",{className:"user-section",children:m.jsx(pr,{onClick:s,className:"nav-link",children:"Logout"})})]})}function NM(){return m.jsxs("div",{style:{marginTop:"17rem",color:"rgb(35, 99, 23)"},children:[m.jsx("h1",{style:{color:"rgb(90, 68, 22)"},children:"You are blocked"}),m.jsx("p",{children:"We're sorry, but your account has been blocked by the administrator."}),m.jsxs("p",{children:["If you believe this is an error, please contact our support team at"," ",m.jsx("a",{href:"mailto:admin@reactventure.com",style:{color:"rgb(90, 68, 22)"},children:"admin@reactventure.com"})," ","for assistance."]}),m.jsx("p",{children:"In the meantime, you can try logging out and logging back in to see if the issue persists."}),m.jsx("p",{children:"Thank you for your understanding and cooperation."})]})}function PM(){const[t,e]=T.useState({user:null,userData:null}),[n]=yM(Du);return t.user!==n&&e({...t,user:n}),T.useEffect(()=>{t.user&&uM(t.user.uid).then(r=>{const i=Object.values(r.val())[0];e({...t,userData:i})})},[t.user]),m.jsxs(m.Fragment,{children:[m.jsx("div",{children:m.jsx("img",{src:"svg/532.png",alt:"",style:{width:"114%",position:"absolute",right:"-4%",bottom:"-54%",zIndex:"-1"}})}),m.jsx(FL,{children:m.jsxs(Je.Provider,{value:{...t,setAppState:e},children:[t.userData&&m.jsx(m.Fragment,{children:t.userData.isBlocked?m.jsx(bM,{userData:t.userData}):m.jsx(JL,{})}),m.jsxs(NL,{children:[m.jsx(et,{path:"/",element:m.jsx(KL,{})}),m.jsx(et,{path:"/login",element:m.jsx(lM,{})}),m.jsx(et,{path:"/register",element:m.jsx(pM,{})}),m.jsx(et,{path:"/posts",element:m.jsx(Ht,{children:m.jsx(ZL,{})})}),m.jsx(et,{path:"/posts/:id",element:m.jsx(Ht,{children:m.jsx(aM,{})})}),m.jsx(et,{path:"/posts-create",element:m.jsx(Ht,{children:m.jsx(eM,{})})}),m.jsx(et,{path:"/deleted",element:m.jsx(Ht,{children:m.jsx(wM,{})})}),m.jsx(et,{path:"/user-search",element:m.jsx(Ht,{children:m.jsx(EM,{})})}),m.jsx(et,{path:"/my-profile",element:m.jsx(Ht,{children:m.jsx(CM,{})})}),m.jsx(et,{path:"/user/:handle",element:m.jsx(Ht,{children:m.jsx(SM,{})})}),m.jsx(et,{path:"/filtered-by-comments",element:m.jsx(Ht,{children:m.jsx(kM,{})})}),m.jsx(et,{path:"/filtered-by-likes",element:m.jsx(Ht,{children:m.jsx(TM,{})})}),m.jsx(et,{path:"/sorted-by-author",element:m.jsx(Ht,{children:m.jsx(IM,{})})}),m.jsx(et,{path:"/sorted-by-date",element:m.jsx(Ht,{children:m.jsx(xM,{})})}),m.jsx(et,{path:"*",element:m.jsx(tM,{})}),m.jsx(et,{path:"/blocked",element:m.jsx(NM,{})})]}),m.jsx(qL,{})]})})]})}ih.createRoot(document.getElementById("root")).render(m.jsx(PM,{}));
